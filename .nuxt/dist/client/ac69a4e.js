(window.webpackJsonp=window.webpackJsonp||[]).push([[247],{1305:function(t,e,n){var content=n(1649);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("f21afd90",content,!0,{sourceMap:!1})},1648:function(t,e,n){"use strict";n(1305)},1649:function(t,e,n){var r=n(14)((function(i){return i[1]}));r.push([t.i,".chart-account-settlement-report[data-v-3a1547ae]{padding:0}.report-header[data-v-3a1547ae]{align-items:center;border-radius:8px;display:flex;justify-content:space-between;margin-bottom:24px;padding:24px}.title-section h1[data-v-3a1547ae]{font-size:28px;font-weight:600;margin:0}.title-section p[data-v-3a1547ae]{font-size:14px;margin:8px 0 0;opacity:.9}.action-buttons[data-v-3a1547ae]{display:flex;gap:16px}.custom-btn[data-v-3a1547ae]{border:1px solid #fff!important;color:#01532b!important;font-weight:500!important;text-transform:none!important}.custom-btn[data-v-3a1547ae]:hover{background-color:#fff!important;color:#01532b!important}.filter-card[data-v-3a1547ae]{background:#fff;border-radius:8px}.filter-title[data-v-3a1547ae]{background:#01532b;color:#fff;font-weight:600}.custom-primary-bg[data-v-3a1547ae]{background-color:#01532b!important}.custom-secondary-btn[data-v-3a1547ae]{background-color:#6c757d!important;color:#fff!important;font-weight:500!important;text-transform:none!important}.custom-secondary-btn[data-v-3a1547ae]:hover{background-color:#5a6268!important}.chart-account-selection .account-name[data-v-3a1547ae]{color:#01532b;font-weight:600}.chart-account-item .account-name[data-v-3a1547ae]{color:#333;font-weight:600}.chart-account-item .account-details[data-v-3a1547ae]{color:#666;font-size:12px}.summary-cards[data-v-3a1547ae]{margin-bottom:24px}.summary-card[data-v-3a1547ae]{border-radius:8px;height:140px;overflow:hidden;position:relative}.summary-card[data-v-3a1547ae]:hover{transform:translateY(-2px)}.summary-content[data-v-3a1547ae]{align-items:center;display:flex;height:100%;position:relative;z-index:2}.summary-icon[data-v-3a1547ae]{color:#fff;font-size:48px;margin-right:16px;opacity:.9}.summary-details h3[data-v-3a1547ae]{color:#fff;font-size:16px;font-weight:600;margin:0}.summary-details p[data-v-3a1547ae]{color:hsla(0,0%,100%,.9);font-size:12px;margin:4px 0}.summary-details h2[data-v-3a1547ae]{color:#fff;font-size:24px;font-weight:700;margin:8px 0 0}.summary-lcy[data-v-3a1547ae]{color:hsla(0,0%,100%,.9);font-size:11px;margin-top:4px!important;opacity:.9}.amount-card[data-v-3a1547ae],.lak-card[data-v-3a1547ae],.settlement-card[data-v-3a1547ae],.total-accounts-card[data-v-3a1547ae]{background:#01532b;color:#fff}.currency-breakdown[data-v-3a1547ae]{margin-bottom:24px}.currency-title[data-v-3a1547ae]{background:#01532b;color:#fff;font-weight:600}.currency-card[data-v-3a1547ae]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;height:100%;padding:16px;text-align:center;transition:all .3s ease}.currency-card[data-v-3a1547ae]:hover{border-color:#01532b;box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.currency-header[data-v-3a1547ae]{align-items:center;display:flex;justify-content:space-between;margin-bottom:12px}.currency-flag[data-v-3a1547ae]{font-size:24px}.currency-stats[data-v-3a1547ae]{text-align:center}.original-amount[data-v-3a1547ae]{color:#01532b;font-family:monospace;font-size:18px;font-weight:700;margin-bottom:4px}.lak-equivalent[data-v-3a1547ae]{color:#228b22;font-family:monospace;font-size:14px;font-weight:600;margin-bottom:8px}.settlement-count[data-v-3a1547ae]{color:#666;font-size:12px;margin-bottom:4px}.percentage[data-v-3a1547ae]{color:#999;font-size:11px}.accounting-table[data-v-3a1547ae]{background:#fff}.accounting-table-header[data-v-3a1547ae],.accounting-table-header th[data-v-3a1547ae]{background-color:#01532b!important}.accounting-table-header th[data-v-3a1547ae]{border-bottom:none!important;color:#fff!important;padding:12px 8px!important}.accounting-row-even[data-v-3a1547ae]{background-color:#f8f9fa}.accounting-row-special[data-v-3a1547ae]{background-color:#fff3cd;font-style:italic}.accounting-table-footer[data-v-3a1547ae]{background-color:#e9ecef!important;font-weight:700}.accounting-table-footer td[data-v-3a1547ae]{background-color:#e9ecef!important;border-top:2px solid #01532b!important;padding:12px 8px!important}.accounting-divider[data-v-3a1547ae]{border-color:#01532b!important;opacity:.3!important}.accounting-primary--text[data-v-3a1547ae]{color:#01532b!important}.accounting-success--text[data-v-3a1547ae]{color:#28a745!important}.report-card[data-v-3a1547ae]{border-radius:12px}.report-header[data-v-3a1547ae]{background:#01532b;color:#fff;font-weight:600}.search-field[data-v-3a1547ae] .v-icon,.search-field[data-v-3a1547ae] input{color:#fff!important}.search-field[data-v-3a1547ae] .v-label{color:hsla(0,0%,100%,.7)!important}.search-field[data-v-3a1547ae] .v-input__control{border-color:hsla(0,0%,100%,.3)!important}.dialog-header[data-v-3a1547ae]{background:#01532b!important;font-weight:600!important}.close-btn[data-v-3a1547ae],.dialog-header[data-v-3a1547ae]{color:#fff!important}.section-title[data-v-3a1547ae]{color:#01532b;font-size:18px;font-weight:600;margin:0}.custom-divider[data-v-3a1547ae]{border-color:#01532b!important;opacity:.3!important}.detail-stat[data-v-3a1547ae]{align-items:center;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-left:4px solid #01532b;border-radius:12px;display:flex;height:100%;padding:16px;transition:all .3s ease}.detail-stat[data-v-3a1547ae]:hover{box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.stat-icon[data-v-3a1547ae]{color:#01532b;font-size:24px;margin-right:12px}.stat-info strong[data-v-3a1547ae]{color:#01532b;display:block;font-size:12px;font-weight:700;margin-bottom:4px}.stat-number[data-v-3a1547ae]{color:#333;font-family:monospace;font-size:16px;font-weight:600;margin:0}.method-card[data-v-3a1547ae]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-left:4px solid #01532b;border-radius:12px;padding:16px;text-align:center;transition:all .3s ease}.method-card[data-v-3a1547ae]:hover{box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.method-header[data-v-3a1547ae]{margin-bottom:12px}.method-count[data-v-3a1547ae]{color:#666;font-size:14px;margin-bottom:4px}.method-amount[data-v-3a1547ae]{color:#01532b;font-family:monospace;font-size:18px;font-weight:600}.settlement-table[data-v-3a1547ae]{background:#fff}.settlement-table[data-v-3a1547ae] thead th{background-color:#01532b!important;border-bottom:none!important;color:#fff!important;font-weight:600!important}.settlement-table[data-v-3a1547ae] tbody tr:hover{background-color:rgba(1,83,43,.1)!important}.date-cell[data-v-3a1547ae]{color:#01532b;font-family:monospace;font-size:13px}.amount-breakdown[data-v-3a1547ae]{align-items:center;display:flex;flex-direction:column}.amount-cell[data-v-3a1547ae]{font-family:monospace;font-size:13px;font-weight:600}.exchange-rate-cell[data-v-3a1547ae]{text-align:center}.exchange-rate-cell .default-rate[data-v-3a1547ae]{color:#999;font-style:italic}.lak-amount-cell[data-v-3a1547ae]{text-align:center}.lak-amount[data-v-3a1547ae]{color:#228b22;font-family:monospace;font-size:13px;font-weight:600}.user-info .user-name[data-v-3a1547ae]{font-weight:500}.advance-info .advance-status[data-v-3a1547ae]{color:#666;font-size:10px;margin-top:2px}.no-advance[data-v-3a1547ae]{color:#999;font-style:italic}.text-center[data-v-3a1547ae]{text-align:center}.py-8[data-v-3a1547ae]{padding:64px 0}.mt-4[data-v-3a1547ae]{margin-top:16px}.mt-3[data-v-3a1547ae]{margin-top:12px}.mt-2[data-v-3a1547ae]{margin-top:8px}.mb-4[data-v-3a1547ae]{margin-bottom:24px}.mb-3[data-v-3a1547ae]{margin-bottom:12px}.my-3[data-v-3a1547ae]{margin:12px 0}.pa-4[data-v-3a1547ae]{padding:24px}@media print{.action-buttons[data-v-3a1547ae],.filter-card[data-v-3a1547ae],.v-btn[data-v-3a1547ae]{display:none!important}.summary-cards[data-v-3a1547ae]{page-break-inside:avoid}.report-header[data-v-3a1547ae]{background:#01532b!important;color:#fff!important;-webkit-print-color-adjust:exact}}@media (max-width:768px){.report-header[data-v-3a1547ae]{flex-direction:column;gap:16px;padding:16px;text-align:center}.title-section h1[data-v-3a1547ae]{font-size:24px}.action-buttons[data-v-3a1547ae]{flex-wrap:wrap;justify-content:center}.summary-content[data-v-3a1547ae]{flex-direction:column;padding:12px;text-align:center}.summary-icon[data-v-3a1547ae]{font-size:40px;margin-bottom:8px;margin-right:0}.summary-details h2[data-v-3a1547ae]{font-size:20px}.detail-stat[data-v-3a1547ae]{flex-direction:column;text-align:center}.stat-icon[data-v-3a1547ae]{margin-bottom:8px;margin-right:0}}",""]),r.locals={},t.exports=r},1872:function(t,e,n){"use strict";n.r(e);var r=n(321),o=n(318),c=n(19),l=n(322),d=n(797),m=n(806),v=n(771),f=n(317),h=n(168),x=n(251),C=n(796),_=n(66),y=n(436),A=n(794),w=n(112),k=(n(34),n(130),n(35),n(17)),D=n(36),S=(n(85),n(5),n(836),n(54),n(837),n(838),n(839),n(840),n(841),n(842),n(843),n(844),n(845),n(846),n(847),n(848),n(849),n(850),n(851),n(852),n(53),n(8),n(10),n(9),n(38),n(52),n(30),n(39),n(208),n(448),n(64),{name:"ChartAccountSettlementReport",head:function(){return{title:"Chart Account Settlement Reports"}},data:function(){return{chartAccounts:[],loading:!1,exporting:!1,loadingDetails:!1,search:"",settlementDialog:!1,chartAccountStats:[],selectedChartAccount:null,selectedSettlements:[],settlementSummary:{totalAmount:0,settlementCount:0,averageAmount:0},methodDistribution:[],filters:{startDate:null,endDate:null,method:"",chartAccountId:null},settlementMethods:[{text:"‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î (All Methods)",value:""},{text:"‡ªÄ‡∫á‡∫¥‡∫ô‡∫™‡∫ª‡∫î (Cash)",value:"cash"},{text:"‡ªÇ‡∫≠‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô‡∫ú‡ªà‡∫≤‡∫ô‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô (Bank Transfer)",value:"bank_transfer"},{text:"‡∫´‡∫±‡∫Å‡∫•‡∫ª‡∫ö (Deduction)",value:"deduction"}],currencyOptions:[{text:"‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î‡∫™‡∫∞‡∫Å‡∫∏‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô (All Currencies)",value:null},{text:"‡∫•‡∫≤‡∫ß‡∫Å‡∫µ‡∫ö (LAK)",value:1},{text:"‡ªÇ‡∫î‡∫•‡∫≤‡∫≠‡∫≤‡ªÄ‡∫°‡∫•‡∫¥‡∫Å‡∫±‡∫ô (USD)",value:2},{text:"‡∫ö‡∫≤‡∫î‡ªÑ‡∫ó (THB)",value:3},{text:"‡∫¢‡∫ß‡∫ô‡∫à‡∫µ‡∫ô (CNY)",value:4},{text:"‡ªÄ‡∫≠‡∫µ‡ªÇ‡∫£ (EUR)",value:5}],currencyBreakdown:[],currencyList:[],settlementHeaders:[{text:"‡∫ß‡∫±‡∫ô‡∫ó‡∫µ",value:"bookingDate",width:"120px"},{text:"‡∫™‡∫∞‡∫Å‡∫∏‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô",value:"currency",width:"80px"},{text:"‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô‡∫ï‡∫ª‡ªâ‡∫ô",value:"amount",width:"130px"},{text:"‡∫≠‡∫±‡∫î‡∫ï‡∫≤‡ªÅ‡∫•‡∫Å‡∫õ‡ªà‡∫Ω‡∫ô",value:"exchangeRate",width:"100px"},{text:"‡ªÄ‡∫ó‡∫ª‡ªà‡∫≤‡∫Å‡∫±‡∫ö‡∫•‡∫≤‡∫ß‡∫Å‡∫µ‡∫ö",value:"lakAmount",width:"130px"},{text:"‡∫ß‡∫¥‡∫ó‡∫µ‡∫Å‡∫≤‡∫ô",value:"method",width:"120px"},{text:"‡∫ú‡∫π‡ªâ‡∫î‡∫≥‡ªÄ‡∫ô‡∫µ‡∫ô‡∫Å‡∫≤‡∫ô",value:"proceeder",width:"150px"},{text:"‡ªÄ‡∫á‡∫¥‡∫ô‡∫Å‡ªà‡∫≠‡∫ô",value:"moneyAdvance",width:"120px"},{text:"‡∫à‡∫±‡∫î‡∫Å‡∫≤‡∫ô",value:"actions",sortable:!1,width:"100px"}]}},computed:{uniqueCurrencies:function(){var t=new Set;return this.chartAccountStats.forEach((function(e){Object.keys(e.amounts||{}).forEach((function(e){t.add(e)}))})),t.size},totalLakAmount:function(){return this.chartAccountStats.reduce((function(t,e){return t+(e.totalLak||0)}),0)},filteredChartAccounts:function(){var t=this;return this.search?this.chartAccountStats.filter((function(e){var n,r,o,c,l,d;return(null===(n=e.chartAccount)||void 0===n||null===(r=n.name)||void 0===r?void 0:r.toLowerCase().includes(t.search.toLowerCase()))||(null===(o=e.chartAccount)||void 0===o||null===(c=o.code)||void 0===c?void 0:c.toLowerCase().includes(t.search.toLowerCase()))||(null===(l=e.chartAccount)||void 0===l||null===(d=l.type)||void 0===d?void 0:d.toLowerCase().includes(t.search.toLowerCase()))})):this.chartAccountStats},totalSettlementsCount:function(){return this.chartAccountStats.reduce((function(t,e){return t+parseInt(e.count||0)}),0)},totalAmount:function(){return this.chartAccountStats.reduce((function(t,e){return t+parseFloat(e.totalLak||0)}),0)},averageAmount:function(){return this.totalSettlementsCount>0?this.totalAmount/this.totalSettlementsCount:0},maxAmount:function(){return Math.max.apply(Math,Object(D.a)(this.chartAccountStats.map((function(t){return parseFloat(t.totalLak||0)}))).concat([0]))}},mounted:function(){this.setDefaultDates(),this.loadDashboardData(),this.loadInitialData()},methods:{loadInitialData:function(){var t=this;return Object(k.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/accountChart/find");case 3:n=e.sent,t.chartAccounts=n.data.data||n.data,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading chart accounts:",e.t0),t.$toast.error("Error loading initial data");case 11:return e.prev=11,e.next=14,t.$axios.get("/api/currency/find");case 14:r=e.sent,o=r.data.data||r.data,t.currencyList=o.map((function(t){return{code:t.code,name:t.name,id:t.id}})),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(11),console.error("Error loading currencies:",e.t1),t.$toast.error("Error loading initial data");case 23:case"end":return e.stop()}}),e,null,[[0,7],[11,19]])})))()},groupSettlementsByChartAccount:function(t){var e={};return t.forEach((function(t){var n,r=t.chartAccountId||"NO_CHART_ACCOUNT";e[r]||(e[r]={chartAccountId:r,chartAccount:t.chartAccount||{code:"N/A",name:"Unknown Account",type:"N/A",category:"N/A"},count:0,amounts:{},totalLak:0});var o=e[r];o.count+=1;var c=(null===(n=t.currency)||void 0===n?void 0:n.code)||"LAK";o.amounts[c]||(o.amounts[c]=0),o.amounts[c]+=parseFloat(t.amount||0);var l=t.exchangeRate||1,d=parseFloat(t.amount||0)*l;o.totalLak+=d})),Object.values(e)},loadDashboardData:function(){var t=this;return Object(k.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,n=new URLSearchParams,t.filters.startDate&&n.append("fromDate",t.filters.startDate),t.filters.endDate&&n.append("toDate",t.filters.endDate),t.filters.method&&n.append("method",t.filters.method),t.filters.chartAccountId&&n.append("chartAccountId",t.filters.chartAccountId),e.next=9,t.$axios.get("/api/settlements?".concat(n));case 9:if(!(r=e.sent).data.success){e.next=16;break}return console.info("DATA FROM API: ".concat(JSON.stringify(r.data.data))),o=r.data.data.settlements||[],t.chartAccountStats=t.groupSettlementsByChartAccount(o),e.next=16,t.calculateCurrencyBreakdown();case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.error("Error loading dashboard data:",e.t0),t.$toast.error("Failed to load chart account reports");case 22:return e.prev=22,t.loading=!1,e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,18,22,25]])})))()},getCurrencyColor:function(t){return{LAK:"#01532B",USD:"#228B22",THB:"#32CD32",CNY:"#006400",EUR:"#9ACD32",JPY:"#00FA9A",GBP:"#66CDAA",KRW:"#20B2AA"}[t]||"#01532B"},getAccountTypeColor:function(t){return{Asset:"#01532B",Liability:"#DC3545",Equity:"#6610F2",Revenue:"#198754",Expense:"#FD7E14",Income:"#20C997",Cost:"#E83E8C"}[t]||"#01532B"},getCurrencyFlag:function(t){return{LAK:"üá±üá¶",USD:"üá∫üá∏",THB:"üáπüá≠",CNY:"üá®üá≥",EUR:"üá™üá∫",JPY:"üáØüáµ",GBP:"üá¨üáß",KRW:"üá∞üá∑"}[t]||"üè≥Ô∏è"},calculateLakAmount:function(t,e){return t?t*(e||1):0},formatCurrency:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";if(!t)return"0.00";var n=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t);return"LAK"===e?n+" ‚Ç≠":"USD"===e?"$"+n:"THB"===e?n+" ‡∏ø":"CNY"===e?"¬•"+n:"EUR"===e?"‚Ç¨"+n:n+" "+e},setDefaultDates:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1);this.filters.startDate=e.toISOString().substr(0,10),this.filters.endDate=t.toISOString().substr(0,10)},calculateCurrencyBreakdown:function(){var t=this;return Object(k.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new URLSearchParams,t.filters.startDate&&n.append("startDate",t.filters.startDate),t.filters.endDate&&n.append("endDate",t.filters.endDate),t.filters.method&&n.append("method",t.filters.method),t.filters.chartAccountId&&n.append("chartAccountId",t.filters.chartAccountId),e.next=8,t.$axios.get("/api/settlements/currency-breakdown?".concat(n));case 8:(r=e.sent).data.success&&(t.currencyBreakdown=r.data.data.currencies||[]),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error calculating currency breakdown:",e.t0),t.currencyBreakdown=[];case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()},selectChartAccount:function(t){var e=this;return Object(k.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loadingDetails=!0,e.settlementDialog=!0,n.prev=2,n.next=5,e.$axios.get("/api/settlements/by-chart-account/".concat(t));case 5:(r=n.sent).data.success&&(e.selectedSettlements=r.data.data.settlements,e.settlementSummary=r.data.data.summary,o=e.chartAccountStats.find((function(s){return s.chartAccountId==t})),e.selectedChartAccount=o?o.chartAccount:null,e.calculateMethodDistribution()),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),console.error("Error loading chart account settlements:",n.t0),e.$toast.error("Failed to load settlement details");case 13:return n.prev=13,e.loadingDetails=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,9,13,16]])})))()},calculateMethodDistribution:function(){var t={};this.selectedSettlements.forEach((function(e){t[e.method]||(t[e.method]={count:0,total:0}),t[e.method].count++,t[e.method].total+=parseFloat(e.amount)})),this.methodDistribution=Object.keys(t).map((function(e){return{method:e,count:t[e].count,total:t[e].total}}))},resetFilters:function(){this.filters={startDate:null,endDate:null,method:"",chartAccountId:null},this.setDefaultDates(),this.loadDashboardData()},closeDialog:function(){this.settlementDialog=!1,this.selectedChartAccount=null,this.selectedSettlements=[],this.methodDistribution=[]},exportToExcel:function(){var t=this;return Object(k.a)(regeneratorRuntime.mark((function e(){var r,o,c,l,d,m,v,f,h,x,C,_,y,A,w,k,D;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.exporting=!0,e.prev=1,e.next=4,Promise.resolve().then(n.bind(null,353));case 4:r=e.sent,o=r.utils.book_new(),c=[["Chart Account Settlement Report"],["Report Period: ".concat(t.filters.startDate||"All"," to ").concat(t.filters.endDate||"All")],["Generated on: ".concat((new Date).toLocaleDateString())],[""],["Summary Statistics"],["Total Chart Accounts: ".concat(t.chartAccountStats.length)],["Total Settlements: ".concat(t.totalSettlementsCount)],["Total Amount (LAK): ".concat(t.formatCurrency(t.totalLakAmount,"LAK"))],["Unique Currencies: ".concat(t.uniqueCurrencies)],[""],["Account Details"]],l=["#","Account Code","Account Name","Account Type","Category","Settlement Count"],t.currencyList.forEach((function(t){l.push("".concat(t.code," Amount"))})),l.push("Total (LAK)"),c.push(l),t.filteredChartAccounts.forEach((function(e,n){var r,o,l,d,m=[n+1,(null===(r=e.chartAccount)||void 0===r?void 0:r.accountNumber)||"N/A",(null===(o=e.chartAccount)||void 0===o?void 0:o.accountName)||"Unknown Account",(null===(l=e.chartAccount)||void 0===l?void 0:l.accountType)||"N/A",(null===(d=e.chartAccount)||void 0===d?void 0:d.category)||"N/A",e.count];t.currencyList.forEach((function(t){var n;m.push((null===(n=e.amounts)||void 0===n?void 0:n[t.code])||0)})),m.push(e.totalLak||0),c.push(m)})),d=["","","","","TOTAL",t.totalSettlementsCount],t.currencyList.forEach((function(e){d.push(t.getCurrencyTotal(e.code))})),d.push(t.totalLakAmount),c.push(d),m=r.utils.aoa_to_sheet(c),v=[{wch:5},{wch:15},{wch:25},{wch:15},{wch:20},{wch:15}],t.currencyList.forEach((function(){v.push({wch:15})})),v.push({wch:18}),m["!cols"]=v,f=r.utils.decode_range(m["!ref"]),h=f.s.r;case 23:if(!(h<=f.e.r)){e.next=38;break}x=f.s.c;case 25:if(!(x<=f.e.c)){e.next=35;break}if(C=r.utils.encode_cell({r:h,c:x}),m[C]){e.next=29;break}return e.abrupt("continue",32);case 29:0===h&&(m[C].s={font:{bold:!0,sz:16},alignment:{horizontal:"center"}}),11===h&&(m[C].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"01532B"}},alignment:{horizontal:"center"}}),h===f.e.r&&(m[C].s={font:{bold:!0},fill:{fgColor:{rgb:"E9ECEF"}}});case 32:++x,e.next=25;break;case 35:++h,e.next=23;break;case 38:r.utils.book_append_sheet(o,m,"Chart Account Summary"),t.chartAccountStats.length>0&&(_={},t.chartAccountStats.forEach((function(t){var e,n=(null===(e=t.chartAccount)||void 0===e?void 0:e.accountType)||"Unknown";_[n]||(_[n]={count:0,totalAmount:0,settlements:0}),_[n].count+=1,_[n].totalAmount+=t.totalLak||0,_[n].settlements+=t.count||0})),y=[["Account Type Analysis"],[""],["Account Type","Number of Accounts","Total Settlements","Total Amount (LAK)","Average per Account"]],Object.keys(_).forEach((function(t){var data=_[t];y.push([t,data.count,data.settlements,data.totalAmount,data.count>0?data.totalAmount/data.count:0])})),(A=r.utils.aoa_to_sheet(y))["!cols"]=[{wch:15},{wch:18},{wch:18},{wch:20},{wch:18}],r.utils.book_append_sheet(o,A,"Account Type Analysis")),t.currencyBreakdown.length>0&&(w=[["Currency Breakdown Report"],[""],["Currency","Total Amount (Original)","LAK Equivalent","Settlement Count","Percentage"]],t.currencyBreakdown.forEach((function(e){w.push([e.currencyCode||"LAK",e.totalAmount||0,e.lakEquivalent||0,e.count||0,"".concat(Math.round(e.lakEquivalent/t.totalLakAmount*100),"%")])})),(k=r.utils.aoa_to_sheet(w))["!cols"]=[{wch:12},{wch:20},{wch:18},{wch:15},{wch:12}],r.utils.book_append_sheet(o,k,"Currency Breakdown")),D="chart-account-settlement-report-".concat(t.filters.startDate||"all","-").concat(t.filters.endDate||"all",".xlsx"),r.writeFile(o,D),t.$toast.success("Chart Account Report exported successfully!"),e.next=50;break;case 46:e.prev=46,e.t0=e.catch(1),console.error("Error exporting report:",e.t0),t.$toast.error("Error exporting report: "+e.t0.message);case 50:return e.prev=50,t.exporting=!1,e.finish(50);case 53:case"end":return e.stop()}}),e,null,[[1,46,50,53]])})))()},printReport:function(){window.print()},viewSettlement:function(t){this.$router.push("/settlements/".concat(t))},formatExchangeRate:function(t){return t?new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(t):"1.0000"},formatDate:function(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""},formatMethod:function(t){return{cash:"‡ªÄ‡∫á‡∫¥‡∫ô‡∫™‡∫ª‡∫î (Cash)",bank_transfer:"‡ªÇ‡∫≠‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô (Transfer)",deduction:"‡∫´‡∫±‡∫Å‡∫•‡∫ª‡∫ö (Deduction)"}[t]||t},getCurrencyTotal:function(t){return this.chartAccountStats.reduce((function(e,n){var r;return e+((null===(r=n.amounts)||void 0===r?void 0:r[t])||0)}),0)},getMethodColor:function(t){return{cash:"#01532B",bank_transfer:"#228B22",deduction:"#32CD32"}[t]||"#01532B"}}}),L=S,T=(n(1648),n(31)),component=Object(T.a)(L,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"chart-account-settlement-report"},[e("div",{staticClass:"report-header"},[t._m(0),t._v(" "),e("div",{staticClass:"action-buttons"},[e(r.a,{staticClass:"custom-btn export-btn",attrs:{loading:t.exporting},on:{click:t.exportToExcel}},[e("i",{staticClass:"fas fa-file-excel"}),t._v("\n        Export Excel\n      ")]),t._v(" "),e(r.a,{staticClass:"custom-btn print-btn",on:{click:t.printReport}},[e("i",{staticClass:"fas fa-print"}),t._v("\n        Print\n      ")])],1)]),t._v(" "),e(o.a,{staticClass:"filter-card mb-4",attrs:{elevation:"2"}},[e(c.d,{staticClass:"filter-title d-flex align-center"},[e(h.a,{staticClass:"mr-2"},[t._v("mdi-filter")]),t._v("\n      ‡∫ï‡∫ª‡∫ß‡∫Å‡∫≠‡∫á (Filters)\n    ")],1),t._v(" "),e(c.c,{staticClass:"pa-4"},[e(C.a,[e(d.a,{attrs:{cols:"12",md:"3"}},[e(w.a,{attrs:{type:"date",label:"‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡ªÄ‡∫•‡∫µ‡ªà‡∫°‡∫ï‡∫ª‡ªâ‡∫ô (From Date)",outlined:"",dense:""},on:{change:t.loadDashboardData},model:{value:t.filters.startDate,callback:function(e){t.$set(t.filters,"startDate",e)},expression:"filters.startDate"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(w.a,{attrs:{type:"date",label:"‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡∫™‡∫¥‡ªâ‡∫ô‡∫™‡∫∏‡∫î (To Date)",outlined:"",dense:""},on:{change:t.loadDashboardData},model:{value:t.filters.endDate,callback:function(e){t.$set(t.filters,"endDate",e)},expression:"filters.endDate"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"4"}},[e(_.a,{attrs:{items:t.chartAccounts,"item-text":"name","item-value":"id",label:"‡∫ö‡∫±‡∫ô‡∫ä‡∫µ‡∫Ñ‡ªà‡∫≤‡ªÉ‡∫ä‡ªâ‡∫à‡ªà‡∫≤‡∫ç (Chart Account)",clearable:"",outlined:"",dense:""},on:{change:t.loadDashboardData},scopedSlots:t._u([{key:"selection",fn:function(n){var r=n.item;return[e("div",{staticClass:"chart-account-selection"},[e("span",{staticClass:"account-name"},[t._v(t._s(r.accountName))]),t._v(" "),e("small",[t._v(t._s(r.accountNumber)+" - "+t._s(r.accountType))])])]}},{key:"item",fn:function(n){var r=n.item;return[e("div",{staticClass:"chart-account-item"},[e("div",{staticClass:"account-name"},[t._v(t._s(r.accountName))]),t._v(" "),e("div",{staticClass:"account-details"},[t._v("\n                  Code: "+t._s(r.accountNumber)+" | Type:\n                  "+t._s(r.accountType)+"\n                ")])])]}}]),model:{value:t.filters.chartAccountId,callback:function(e){t.$set(t.filters,"chartAccountId",e)},expression:"filters.chartAccountId"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"2"}},[e(_.a,{attrs:{items:t.settlementMethods,label:"‡∫ß‡∫¥‡∫ó‡∫µ‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞ (Method)",clearable:"",outlined:"",dense:""},on:{change:t.loadDashboardData},model:{value:t.filters.method,callback:function(e){t.$set(t.filters,"method",e)},expression:"filters.method"}})],1)],1),t._v(" "),e(C.a,{staticClass:"mt-2"},[e(d.a,{attrs:{cols:"12",md:"3"}},[e(r.a,{staticClass:"custom-primary-bg white--text",attrs:{block:"",outlined:"",loading:t.loading},on:{click:t.loadDashboardData}},[e(h.a,{attrs:{left:"",color:"white"}},[t._v("mdi-refresh")]),t._v("\n            Refresh\n          ")],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(r.a,{staticClass:"custom-secondary-btn",attrs:{block:"",outlined:"",color:"grey lighten-1"},on:{click:t.resetFilters}},[e(h.a,{attrs:{left:""}},[t._v("mdi-restore")]),t._v("\n            Reset\n          ")],1)],1)],1)],1)],1),t._v(" "),t.loading?t._e():e(C.a,{staticClass:"summary-cards mb-4"},[e(d.a,{attrs:{cols:"12",md:"3"}},[e(o.a,{staticClass:"summary-card total-accounts-card",attrs:{elevation:"4"}},[e(c.c,[e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-chart-pie"})]),t._v(" "),e("div",{staticClass:"summary-details"},[e("h3",{staticClass:"summary-title"},[t._v("‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î‡∫ö‡∫±‡∫ô‡∫ä‡∫µ")]),t._v(" "),e("p",{staticClass:"summary-subtitle"},[t._v("Total Chart Accounts")]),t._v(" "),e("h2",{staticClass:"summary-amount"},[t._v(t._s(t.chartAccountStats.length))]),t._v(" "),e("p",{staticClass:"summary-lcy"},[t._v("Active Chart Accounts")])])])])],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(o.a,{staticClass:"summary-card settlement-card",attrs:{elevation:"4"}},[e(c.c,[e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-money-bill-wave"})]),t._v(" "),e("div",{staticClass:"summary-details"},[e("h3",{staticClass:"summary-title"},[t._v("‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞")]),t._v(" "),e("p",{staticClass:"summary-subtitle"},[t._v("Total Settlements")]),t._v(" "),e("h2",{staticClass:"summary-amount"},[t._v(t._s(t.totalSettlementsCount))]),t._v(" "),e("p",{staticClass:"summary-lcy"},[t._v("Settlement Count")])])])])],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(o.a,{staticClass:"summary-card amount-card",attrs:{elevation:"4"}},[e(c.c,[e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-coins"})]),t._v(" "),e("div",{staticClass:"summary-details"},[e("h3",{staticClass:"summary-title"},[t._v("‡∫•‡∫ß‡∫°‡∫ó‡∫∏‡∫Å‡∫™‡∫∞‡∫Å‡∫∏‡∫ô")]),t._v(" "),e("p",{staticClass:"summary-subtitle"},[t._v("Multi-Currency Total")]),t._v(" "),e("h2",{staticClass:"summary-amount"},[t._v(t._s(t.uniqueCurrencies))]),t._v(" "),e("p",{staticClass:"summary-lcy"},[t._v(t._s(t.uniqueCurrencies)+" Currencies")])])])])],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(o.a,{staticClass:"summary-card lak-card",attrs:{elevation:"4"}},[e(c.c,[e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-calculator"})]),t._v(" "),e("div",{staticClass:"summary-details"},[e("h3",{staticClass:"summary-title"},[t._v("‡∫•‡∫≤‡∫ß‡∫Å‡∫µ‡∫ö (LAK)")]),t._v(" "),e("p",{staticClass:"summary-subtitle"},[t._v("Total LAK Equivalent")]),t._v(" "),e("h2",{staticClass:"summary-amount"},[t._v("\n                "+t._s(t.formatCurrency(t.totalLakAmount,"LAK"))+"\n              ")]),t._v(" "),e("p",{staticClass:"summary-lcy"},[t._v("Local Currency")])])])])],1)],1)],1),t._v(" "),!t.loading&&t.currencyBreakdown.length>0?e(C.a,{staticClass:"currency-breakdown mb-4"},[e(d.a,{attrs:{cols:"12"}},[e(o.a,{attrs:{elevation:"2"}},[e(c.d,{staticClass:"currency-title"},[e("i",{staticClass:"fas fa-coins"}),t._v("\n          ‡∫Å‡∫≤‡∫ô‡ªÅ‡∫à‡∫Å‡∫¢‡∫≤‡∫ç‡∫ï‡∫≤‡∫°‡∫™‡∫∞‡∫Å‡∫∏‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô (Currency Breakdown)\n        ")]),t._v(" "),e(c.c,[e(C.a,t._l(t.currencyBreakdown,(function(n){return e(d.a,{key:n.currencyCode||n.currencyId,attrs:{cols:"12",md:"4",lg:"3"}},[e("div",{staticClass:"currency-card"},[e("div",{staticClass:"currency-header"},[e(l.a,{attrs:{color:t.getCurrencyColor(n.currencyCode),"text-color":"white",large:""}},[t._v("\n                    "+t._s(n.currencyCode||"LAK")+"\n                  ")]),t._v(" "),e("div",{staticClass:"currency-flag"},[t._v("\n                    "+t._s(t.getCurrencyFlag(n.currencyCode))+"\n                  ")])],1),t._v(" "),e("div",{staticClass:"currency-stats"},[e("div",{staticClass:"original-amount"},[t._v("\n                    "+t._s(t.formatCurrency(n.totalAmount,n.currencyCode))+"\n                  ")]),t._v(" "),e("div",{staticClass:"lak-equivalent"},[t._v("\n                    ‚âà "+t._s(t.formatCurrency(n.lakEquivalent,"LAK"))+"\n                  ")]),t._v(" "),e("div",{staticClass:"settlement-count"},[t._v("\n                    "+t._s(n.count)+" ‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞\n                  ")]),t._v(" "),e("div",{staticClass:"percentage"},[t._v("\n                    "+t._s(Math.round(n.lakEquivalent/t.totalLakAmount*100))+"% ‡∫Ç‡∫≠‡∫á‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î\n                  ")])])])])})),1)],1)],1)],1)],1):t._e(),t._v(" "),t.loading?e("div",{staticClass:"text-center py-8"},[e(x.a,{attrs:{indeterminate:"",color:"#01532B",size:"64"}}),t._v(" "),e("p",{staticClass:"mt-4 text-gray-600"},[t._v("\n      ‡∫Å‡∫≥‡∫•‡∫±‡∫á‡ªÇ‡∫´‡∫•‡∫î‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô... Loading chart account reports...\n    ")])],1):t._e(),t._v(" "),e(C.a,{staticClass:"mb-4"},[e(d.a,{attrs:{cols:"12"}},[e(o.a,{staticClass:"rounded-xl report-card",attrs:{elevation:"2"}},[e(c.d,{staticClass:"accounting-primary--text py-2 px-4 d-flex align-center report-header"},[e(h.a,{staticClass:"mr-2",attrs:{color:"#01532B"}},[t._v("mdi-chart-pie")]),t._v(" "),e("span",{staticClass:"text-subtitle-1 font-weight-medium"},[t._v("\n            ‡∫•‡∫≤‡∫ç‡∫á‡∫≤‡∫ô ‡∫ï‡∫≤‡∫°‡∫ö‡∫±‡∫ô‡∫ä‡∫µ‡∫Ñ‡ªà‡∫≤‡ªÉ‡∫ä‡ªâ‡∫à‡ªà‡∫≤‡∫ç\n          ")]),t._v(" "),e(A.a),t._v(" "),e(w.a,{staticClass:"search-field mr-4",staticStyle:{"max-width":"250px"},attrs:{"append-icon":"mdi-magnify",label:"‡∫Ñ‡∫ª‡ªâ‡∫ô‡∫´‡∫≤‡∫ö‡∫±‡∫ô‡∫ä‡∫µ...","single-line":"","hide-details":"",outlined:"",dense:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),e(r.a,{staticClass:"mr-2",attrs:{color:"#059669",small:"",outlined:"",disabled:!t.filteredChartAccounts.length,loading:t.exporting},on:{click:t.exportToExcel}},[e(h.a,{attrs:{small:"",left:""}},[t._v("mdi-file-excel")]),t._v("\n            Export Excel\n          ")],1),t._v(" "),e(r.a,{attrs:{icon:"",small:"",loading:t.loading,color:"#01532B"},on:{click:t.loadDashboardData}},[e(h.a,{attrs:{small:""}},[t._v("mdi-refresh")])],1)],1),t._v(" "),e(f.a,{staticClass:"accounting-divider"}),t._v(" "),e(c.c,{staticClass:"pa-0"},[t.loading?e("div",{staticClass:"text-center py-6"},[e(x.a,{attrs:{indeterminate:"",color:"#01532B"}}),t._v(" "),e("div",{staticClass:"mt-2 text-caption"},[t._v("\n              Loading chart account report...\n            ")])],1):t.chartAccountStats.length?e(y.a,{staticClass:"accounting-table",attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",{staticClass:"accounting-table-header"},[e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("#")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("\n                    Account Code\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("\n                    Account Name\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("\n                    Account Type\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("\n                    Category\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold text-right"},[t._v("\n                    Count\n                  ")]),t._v(" "),t._l(t.currencyList,(function(n){return e("th",{key:"head-"+n.code,staticClass:"white--text text-caption font-weight-bold text-right"},[t._v("\n                    "+t._s(n.code)+"\n                  ")])})),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold text-right"},[t._v("\n                    Total (LAK)\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold text-center"},[t._v("\n                    Actions\n                  ")])],2)]),t._v(" "),e("tbody",[t._l(t.filteredChartAccounts,(function(n,o){var c,d,m,v,f;return e("tr",{key:n.chartAccountId,class:{"accounting-row-even":o%2==0,"accounting-row-special":"NO_CHART_ACCOUNT"===n.chartAccountId}},[e("td",{staticClass:"text-caption text-center"},[t._v(t._s(o+1))]),t._v(" "),e("td",{staticClass:"text-body-2 font-weight-medium",class:{"grey--text":"NO_CHART_ACCOUNT"===n.chartAccountId}},[t._v("\n                    "+t._s((null===(c=n.chartAccount)||void 0===c?void 0:c.accountNumber)||"N/A")+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-body-2",class:{"grey--text font-italic":"NO_CHART_ACCOUNT"===n.chartAccountId}},[t._v("\n                    "+t._s((null===(d=n.chartAccount)||void 0===d?void 0:d.accountName)||"Unknown Account")+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-body-2"},[e(l.a,{attrs:{"x-small":"",color:t.getAccountTypeColor(null===(m=n.chartAccount)||void 0===m?void 0:m.accountType),"text-color":"white"}},[t._v("\n                      "+t._s((null===(v=n.chartAccount)||void 0===v?void 0:v.accountType)||"N/A")+"\n                    ")])],1),t._v(" "),e("td",{staticClass:"text-body-2",class:{"grey--text font-italic":"NO_CHART_ACCOUNT"===n.chartAccountId}},[t._v("\n                    "+t._s((null===(f=n.chartAccount)||void 0===f?void 0:f.category)||"N/A")+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-body-2 text-right"},[e(l.a,{attrs:{"x-small":"",color:"#228B22","text-color":"white"}},[t._v("\n                      "+t._s(n.count)+"\n                    ")])],1),t._v(" "),t._l(t.currencyList,(function(r){var o;return e("td",{key:"amt-"+r.code,staticClass:"text-body-2 text-right"},[t._v("\n                    "+t._s(t.formatCurrency((null===(o=n.amounts)||void 0===o?void 0:o[r.code])||0))+"\n                  ")])})),t._v(" "),e("td",{staticClass:"text-right font-weight-bold accounting-success--text"},[t._v("\n                    "+t._s(t.formatCurrency(n.totalLak||0,"LAK"))+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-center"},[e(r.a,{staticClass:"white--text",attrs:{"x-small":"",color:"#01532B"},on:{click:function(e){return t.selectChartAccount(n.chartAccountId)}}},[e(h.a,{attrs:{"x-small":""}},[t._v("mdi-eye")]),t._v("\n                      ‡ªÄ‡∫ö‡∫¥‡ªà‡∫á\n                    ")],1)],1)],2)})),t._v(" "),e("tr",{staticClass:"accounting-table-footer"},[e("td",{staticClass:"font-weight-bold text-caption",attrs:{colspan:"5"}},[t._v("\n                    ‡∫•‡∫ß‡∫° (Total)\n                  ")]),t._v(" "),e("td",{staticClass:"text-right font-weight-bold text-body-2"},[e(l.a,{attrs:{"x-small":"",color:"#01532B","text-color":"white"}},[t._v("\n                      "+t._s(t.totalSettlementsCount)+"\n                    ")])],1),t._v(" "),t._l(t.currencyList,(function(n){return e("td",{key:"sum-"+n.code,staticClass:"text-right font-weight-bold text-body-2"},[t._v("\n                    "+t._s(t.formatCurrency(t.getCurrencyTotal(n.code)))+"\n                  ")])})),t._v(" "),e("td",{staticClass:"text-right font-weight-bold text-body-2 accounting-primary--text"},[t._v("\n                    "+t._s(t.formatCurrency(t.totalLakAmount,"LAK"))+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-center"},[e(l.a,{attrs:{"x-small":"",color:"grey"}},[t._v(t._s(t.filteredChartAccounts.length)+" accounts")])],1)],2)],2)]},proxy:!0}])}):e("div",{staticClass:"text-center py-6"},[e(h.a,{attrs:{size:"48",color:"grey lighten-2"}},[t._v("mdi-information-outline")]),t._v(" "),e("div",{staticClass:"mt-2 text-subtitle-2 grey--text"},[t._v("\n              No chart account data available\n            ")])],1)],1)],1)],1)],1),t._v(" "),e(v.a,{attrs:{"max-width":"1200px",scrollable:""},model:{value:t.settlementDialog,callback:function(e){t.settlementDialog=e},expression:"settlementDialog"}},[t.selectedChartAccount?e(o.a,[e(c.d,{staticClass:"dialog-header"},[e("i",{staticClass:"fas fa-chart-pie"}),t._v("\n        ‡∫•‡∫≤‡∫ç‡∫•‡∫∞‡∫≠‡∫Ω‡∫î‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞ - "+t._s(t.selectedChartAccount.name)+"\n        "),e(A.a),t._v(" "),e(r.a,{staticClass:"close-btn",attrs:{icon:""},on:{click:t.closeDialog}},[e(h.a,[t._v("mdi-close")])],1)],1),t._v(" "),e(c.c,[e(C.a,{staticClass:"summary-section mb-4"},[e(d.a,{attrs:{cols:"12"}},[e("h3",{staticClass:"section-title"},[t._v("\n              ‡∫™‡∫∞‡∫´‡∫º‡∫∏‡∫ö‡∫ö‡∫±‡∫ô‡∫ä‡∫µ‡∫Ñ‡ªà‡∫≤‡ªÉ‡∫ä‡ªâ‡∫à‡ªà‡∫≤‡∫ç (Chart Account Summary)\n            ")]),t._v(" "),e(f.a,{staticClass:"custom-divider mb-3"})],1),t._v(" "),e(d.a,{attrs:{cols:"6",md:"3"}},[e("div",{staticClass:"detail-stat"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"fas fa-list-ol"})]),t._v(" "),e("div",{staticClass:"stat-info"},[e("strong",[t._v("‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞:")]),t._v(" "),e("p",{staticClass:"stat-number"},[t._v("\n                  "+t._s(t.settlementSummary.settlementCount)+"\n                ")])])])]),t._v(" "),e(d.a,{attrs:{cols:"6",md:"3"}},[e("div",{staticClass:"detail-stat"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"fas fa-dollar-sign"})]),t._v(" "),e("div",{staticClass:"stat-info"},[e("strong",[t._v("‡∫•‡∫ß‡∫°‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô:")]),t._v(" "),e("p",{staticClass:"stat-number"},[t._v("\n                  $"+t._s(t.formatCurrency(t.settlementSummary.totalAmount))+"\n                ")])])])]),t._v(" "),e(d.a,{attrs:{cols:"6",md:"3"}},[e("div",{staticClass:"detail-stat"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"fas fa-calculator"})]),t._v(" "),e("div",{staticClass:"stat-info"},[e("strong",[t._v("‡∫Ñ‡ªà‡∫≤‡∫™‡∫∞‡ªÄ‡∫•‡ªà‡∫ç:")]),t._v(" "),e("p",{staticClass:"stat-number"},[t._v("\n                  $"+t._s(t.formatCurrency(t.settlementSummary.totalAmount/t.settlementSummary.settlementCount))+"\n                ")])])])]),t._v(" "),e(d.a,{attrs:{cols:"6",md:"3"}},[e("div",{staticClass:"detail-stat"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"fas fa-chart-pie"})]),t._v(" "),e("div",{staticClass:"stat-info"},[e("strong",[t._v("‡∫•‡∫∞‡∫´‡∫±‡∫î‡∫ö‡∫±‡∫ô‡∫ä‡∫µ:")]),t._v(" "),e("p",{staticClass:"stat-number"},[t._v("\n                  "+t._s(t.selectedChartAccount.code)+"\n                ")])])])])],1),t._v(" "),t.methodDistribution.length>0?e(C.a,{staticClass:"method-distribution mb-4"},[e(d.a,{attrs:{cols:"12"}},[e("h3",{staticClass:"section-title"},[t._v("\n              ‡∫Å‡∫≤‡∫ô‡ªÅ‡∫à‡∫Å‡∫¢‡∫≤‡∫ç‡∫ï‡∫≤‡∫°‡∫ß‡∫¥‡∫ó‡∫µ‡∫Å‡∫≤‡∫ô (Method Distribution)\n            ")]),t._v(" "),e(f.a,{staticClass:"custom-divider mb-3"})],1),t._v(" "),t._l(t.methodDistribution,(function(n){return e(d.a,{key:n.method,attrs:{cols:"12",md:"4"}},[e("div",{staticClass:"method-card"},[e("div",{staticClass:"method-header"},[e(l.a,{attrs:{color:t.getMethodColor(n.method),"text-color":"white",small:""}},[t._v("\n                  "+t._s(t.formatMethod(n.method))+"\n                ")])],1),t._v(" "),e("div",{staticClass:"method-stats"},[e("div",{staticClass:"method-count"},[t._v(t._s(n.count)+" ‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞")]),t._v(" "),e("div",{staticClass:"method-amount"},[t._v("\n                  $"+t._s(t.formatCurrency(n.total))+"\n                ")])])])])}))],2):t._e(),t._v(" "),e(C.a,[e(d.a,{attrs:{cols:"12"}},[e("h3",{staticClass:"section-title"},[t._v("\n              ‡∫•‡∫≤‡∫ç‡∫Å‡∫≤‡∫ô‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞ (Settlement Transactions)\n            ")]),t._v(" "),e(f.a,{staticClass:"custom-divider mb-3"}),t._v(" "),e(m.a,{staticClass:"settlement-table",attrs:{headers:t.settlementHeaders,items:t.selectedSettlements,loading:t.loadingDetails,"items-per-page":10,"footer-props":{itemsPerPageOptions:[5,10,25,50],itemsPerPageText:"‡ªÅ‡∫ñ‡∫ß‡∫ï‡ªç‡ªà‡ªú‡ªâ‡∫≤:"}},scopedSlots:t._u([{key:"item.bookingDate",fn:function(n){var r=n.item;return[e("span",{staticClass:"date-cell"},[t._v(t._s(t.formatDate(r.bookingDate)))])]}},{key:"item.currency",fn:function(n){var r,o,c=n.item;return[e(l.a,{attrs:{color:t.getCurrencyColor(null===(r=c.currency)||void 0===r?void 0:r.code),"text-color":"white",small:""}},[t._v("\n                  "+t._s((null===(o=c.currency)||void 0===o?void 0:o.code)||"LAK")+"\n                ")])]}},{key:"item.amount",fn:function(n){var r,o=n.item;return[e("div",{staticClass:"amount-breakdown"},[e("span",{staticClass:"amount-cell"},[t._v(t._s(t.formatCurrency(o.amount,null===(r=o.currency)||void 0===r?void 0:r.code)))])])]}},{key:"item.exchangeRate",fn:function(n){var r=n.item;return[e("div",{staticClass:"exchange-rate-cell"},[r.exchangeRate&&1!==r.exchangeRate?e("span",[t._v("\n                    "+t._s(t.formatExchangeRate(r.exchangeRate))+"\n                  ")]):e("span",{staticClass:"default-rate"},[t._v("1.0000")])])]}},{key:"item.lakAmount",fn:function(n){var r=n.item;return[e("div",{staticClass:"lak-amount-cell"},[e("span",{staticClass:"lak-amount"},[t._v(t._s(t.formatCurrency(t.calculateLakAmount(r.amount,r.exchangeRate),"LAK")))])])]}},{key:"item.method",fn:function(n){var r=n.item;return[e(l.a,{attrs:{color:t.getMethodColor(r.method),"text-color":"white",small:""}},[t._v("\n                  "+t._s(t.formatMethod(r.method))+"\n                ")])]}},{key:"item.proceeder",fn:function(n){var r,o=n.item;return[e("div",{staticClass:"user-info"},[e("span",{staticClass:"user-name"},[t._v(t._s((null===(r=o.proceeder)||void 0===r?void 0:r.name)||"N/A"))])])]}},{key:"item.moneyAdvance",fn:function(n){var r=n.item;return[r.moneyAdvance?e("div",{staticClass:"advance-info"},[e(l.a,{attrs:{color:"#01532B","text-color":"white",small:""}},[t._v("\n                    #"+t._s(r.moneyAdvance.id)+"\n                  ")]),t._v(" "),e("div",{staticClass:"advance-status"},[t._v("\n                    "+t._s(r.moneyAdvance.status)+"\n                  ")])],1):e("span",{staticClass:"no-advance"},[t._v("Standalone")])]}},{key:"item.actions",fn:function(n){var o=n.item;return[e(r.a,{attrs:{small:"",color:"#01532B"},on:{click:function(e){return t.viewSettlement(o.id)}}},[e("i",{staticClass:"fas fa-eye"}),t._v("\n                  ‡ªÄ‡∫ö‡∫¥‡ªà‡∫á\n                ")])]}}],null,!1,3682692414)})],1)],1)],1)],1):t._e()],1)],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-section"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"fas fa-chart-pie"}),t._v("\n        ‡∫•‡∫≤‡∫ç‡∫á‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞‡∫ï‡∫≤‡∫°‡∫ö‡∫±‡∫ô‡∫ä‡∫µ‡∫Ñ‡ªà‡∫≤‡ªÉ‡∫ä‡ªâ‡∫à‡ªà‡∫≤‡∫ç\n      ")]),t._v(" "),e("p",{staticClass:"page-subtitle"},[t._v("Chart Account Settlement Report")])])}],!1,null,"3a1547ae",null);e.default=component.exports},808:function(t,e,n){"use strict";var r=n(809).has;t.exports=function(t){return r(t),t}},809:function(t,e,n){"use strict";var r=n(25),o=Set.prototype;t.exports={Set:Set,add:r(o.add),has:r(o.has),remove:r(o.delete),proto:o}},810:function(t,e,n){"use strict";var r=n(25),o=n(445),c=n(809),l=c.Set,d=c.proto,m=r(d.forEach),v=r(d.keys),f=v(new l).next;t.exports=function(t,e,n){return n?o({iterator:v(t),next:f},e):m(t,e)}},812:function(t,e,n){"use strict";var r=n(87),o=n(40),c=n(857),l=n(49),d=r("Set");t.exports=function(t){return function(t){return l(t)&&"number"==typeof t.size&&o(t.has)&&o(t.keys)}(t)?t:c(t)?new d(t):t}},813:function(t,e,n){"use strict";var r=n(86),o=n(59),c=n(48),l=n(121),d=n(859),m="Invalid size",v=RangeError,f=TypeError,h=Math.max,x=function(t,e){this.set=t,this.size=h(e,0),this.has=r(t.has),this.keys=r(t.keys)};x.prototype={getIterator:function(){return d(o(c(this.keys,this.set)))},includes:function(t){return c(this.has,this.set,t)}},t.exports=function(t){o(t);var e=+t.size;if(e!=e)throw new f(m);var n=l(e);if(n<0)throw new v(m);return new x(t,n)}},816:function(t,e,n){"use strict";var r=n(450),o=n(809);t.exports=r(o.proto,"size","get")||function(t){return t.size}},824:function(t,e,n){"use strict";var r=n(809),o=n(810),c=r.Set,l=r.add;t.exports=function(t){var e=new c;return o(t,(function(t){l(e,t)})),e}},836:function(t,e,n){"use strict";n(856)},837:function(t,e,n){"use strict";var r=n(11),o=n(808),c=n(809).add;r({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=o(this),e=0,n=arguments.length;e<n;e++)c(t,arguments[e]);return t}})},838:function(t,e,n){"use strict";var r=n(11),o=n(808),c=n(809).remove;r({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),n=!0,r=0,l=arguments.length;r<l;r++)t=c(e,arguments[r]),n=n&&t;return!!n}})},839:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(812),l=n(858);r({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return o(l,this,c(t))}})},840:function(t,e,n){"use strict";var r=n(11),o=n(71),c=n(808),l=n(810);r({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0);return!1!==l(e,(function(t){if(!n(t,t,e))return!1}),!0)}})},841:function(t,e,n){"use strict";var r=n(11),o=n(71),c=n(808),l=n(809),d=n(810),m=l.Set,v=l.add;r({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=new m;return d(e,(function(t){n(t,t,e)&&v(r,t)})),r}})},842:function(t,e,n){"use strict";var r=n(11),o=n(71),c=n(808),l=n(810);r({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=l(e,(function(t){if(n(t,t,e))return{value:t}}),!0);return r&&r.value}})},843:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(812),l=n(860);r({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return o(l,this,c(t))}})},844:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(812),l=n(861);r({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return o(l,this,c(t))}})},845:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(812),l=n(862);r({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return o(l,this,c(t))}})},846:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(812),l=n(863);r({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return o(l,this,c(t))}})},847:function(t,e,n){"use strict";var r=n(11),o=n(25),c=n(808),l=n(810),d=n(55),m=o([].join),v=o([].push);r({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=c(this),n=void 0===t?",":d(t),r=[];return l(e,(function(t){v(r,t)})),m(r,n)}})},848:function(t,e,n){"use strict";var r=n(11),o=n(71),c=n(808),l=n(809),d=n(810),m=l.Set,v=l.add;r({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=new m;return d(e,(function(t){v(r,n(t,t,e))})),r}})},849:function(t,e,n){"use strict";var r=n(11),o=n(86),c=n(808),l=n(810),d=TypeError;r({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=c(this),n=arguments.length<2,r=n?void 0:arguments[1];if(o(t),l(e,(function(o){n?(n=!1,r=o):r=t(r,o,o,e)})),n)throw new d("Reduce of empty set with no initial value");return r}})},850:function(t,e,n){"use strict";var r=n(11),o=n(71),c=n(808),l=n(810);r({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0);return!0===l(e,(function(t){if(n(t,t,e))return!0}),!0)}})},851:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(812),l=n(864);r({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return o(l,this,c(t))}})},852:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(812),l=n(865);r({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return o(l,this,c(t))}})},856:function(t,e,n){"use strict";n(449)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(451))},857:function(t,e,n){"use strict";var r=n(177),o=n(56),c=n(145),l=n(45),d=n(178),m=l("iterator"),v=Object;t.exports=function(t){if(c(t))return!1;var e=v(t);return void 0!==e[m]||"@@iterator"in e||o(d,r(e))}},858:function(t,e,n){"use strict";var r=n(808),o=n(809),c=n(824),l=n(816),d=n(813),m=n(810),v=n(445),f=o.has,h=o.remove;t.exports=function(t){var e=r(this),n=d(t),o=c(e);return l(e)<=n.size?m(e,(function(t){n.includes(t)&&h(o,t)})):v(n.getIterator(),(function(t){f(o,t)&&h(o,t)})),o}},859:function(t,e,n){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},860:function(t,e,n){"use strict";var r=n(808),o=n(809),c=n(816),l=n(813),d=n(810),m=n(445),v=o.Set,f=o.add,h=o.has;t.exports=function(t){var e=r(this),n=l(t),o=new v;return c(e)>n.size?m(n.getIterator(),(function(t){h(e,t)&&f(o,t)})):d(e,(function(t){n.includes(t)&&f(o,t)})),o}},861:function(t,e,n){"use strict";var r=n(808),o=n(809).has,c=n(816),l=n(813),d=n(810),m=n(445),v=n(340);t.exports=function(t){var e=r(this),n=l(t);if(c(e)<=n.size)return!1!==d(e,(function(t){if(n.includes(t))return!1}),!0);var f=n.getIterator();return!1!==m(f,(function(t){if(o(e,t))return v(f,"normal",!1)}))}},862:function(t,e,n){"use strict";var r=n(808),o=n(816),c=n(810),l=n(813);t.exports=function(t){var e=r(this),n=l(t);return!(o(e)>n.size)&&!1!==c(e,(function(t){if(!n.includes(t))return!1}),!0)}},863:function(t,e,n){"use strict";var r=n(808),o=n(809).has,c=n(816),l=n(813),d=n(445),m=n(340);t.exports=function(t){var e=r(this),n=l(t);if(c(e)<n.size)return!1;var v=n.getIterator();return!1!==d(v,(function(t){if(!o(e,t))return m(v,"normal",!1)}))}},864:function(t,e,n){"use strict";var r=n(808),o=n(809),c=n(824),l=n(813),d=n(445),m=o.add,v=o.has,f=o.remove;t.exports=function(t){var e=r(this),n=l(t).getIterator(),o=c(e);return d(n,(function(t){v(e,t)?f(o,t):m(o,t)})),o}},865:function(t,e,n){"use strict";var r=n(808),o=n(809).add,c=n(824),l=n(813),d=n(445);t.exports=function(t){var e=r(this),n=l(t).getIterator(),m=c(e);return d(n,(function(t){o(m,t)})),m}}}]);