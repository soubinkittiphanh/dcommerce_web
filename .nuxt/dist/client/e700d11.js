(window.webpackJsonp=window.webpackJsonp||[]).push([[81,27],{563:function(t,e,n){"use strict";n.r(e);var r=n(248),o=n(139),c=n(245),l=n(65),component=Object(l.a)({},(function(){var t=this._self._c;return t(r.a,{attrs:{color:"#01532B",dark:""}},[t(o.c,[this._v("\n    ກະລຸນາລໍຖ້າ...\n    "),t(c.a,{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports},570:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return l}));n(26),n(209);var r=function(t,e,n){t({icon:e,title:"ທ່ານແນ່ໃຈທີ່ຈະລົບບໍ່ ?",text:"ລາຍການນີ້ຈະຖືກລົບ ອອກຈາກຖານຂໍ້ມູນ!",confirmButtonText:"ຢືນຢັນ",confirmButtonColor:"#d33",showCancelButton:!0,cancelButtonText:"ອອກ",cancelButtonColor:"#3085d6"}).then((function(t){t.isConfirmed&&n()}))},o=function(t,title,e){t({icon:"error",title:title,text:e,showConfirmButton:!0,allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})},c=function(t,title,text){t({icon:"success",title:title,text:text,showConfirmButton:!0,allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})},l=function(t){return(new Intl.NumberFormat).format(t)}},572:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return d}));n(22),n(26),n(574),n(4),n(66),n(209);var r=function(t,title,e){t({icon:"error",title:title,text:e,showConfirmButton:!0,allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})},o=function(t,title,text){t({icon:"success",title:title,text:text,showConfirmButton:!0,allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})},c=function(t){return(new Intl.NumberFormat).format(t)},l=(new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1);console.log("Date found => ",e);var n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0");return"".concat(n,"-").concat(r,"-").concat(o)}),d=function(){return"https://nodejsclusters-130797-0.cloudclusters.net"}},747:function(t,e,n){"use strict";n.r(e);var r=n(244),o=n(546),c=n(248),l=n(580),d=n(556),f=n(744),h=n(575),m=n(246),v=n(134),y=n(202),w=n(579),_=n(558),x=n(737),k=n(785),L=n(86),S=n(80),C=n(569),O=n(685),j=n(738),E=(n(29),n(258),n(26),n(38)),D=(n(109),n(4),n(41),n(30),n(60),n(44),n(10),n(72),n(81),n(58),n(140),n(572)),I=n(570);function B(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var R={layout:"home",data:function(){return{tab:null,productSelectedList:[],isloading:!1,productList:[],categoryList:[],pageLine:30,search:"",headers:[{text:"#",align:"center",value:"img_path"},{text:"ໄອດີ",align:"center",value:"pro_id"},{text:"ຊື່ສິນຄ້າ",align:"center",value:"pro_name"},{text:"ລາຄາ",align:"center",value:"pro_price"},{text:"Stock",align:"center",value:"card_count"},{text:"ຟັງຊັ່ນ",align:"center",value:"function",sortable:!1}]}},computed:{host:function(){return Object(D.c)()}},mounted:function(){var t=this;return Object(E.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:return e.next=4,t.loadCategory();case 4:case"end":return e.stop()}}),e)})))()},methods:{formatNumber:function(t){return Object(D.b)(t)},addProduct:function(t){if(0==this.productSelectedList.length)t.qty=1,this.productSelectedList.push(t);else{var e=this.productSelectedList.find((function(e){return e.pro_id===t.pro_id}));if(console.log("Is product exist "+e),void 0!==e){var n=e;n.qty+=1,this.productSelectedList.slice(this.productSelectedList.indexOf(e),1,n),console.log("Item already there ",n.qty)}else t.qty=1,this.productSelectedList.push(t)}},fetchData:function(){var t=this;return Object(E.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isloading=!0,t.productList=[],e.next=4,t.$axios.get("product_f").then((function(e){var n,r=B(e.data);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.productList.push(o)}}catch(t){r.e(t)}finally{r.f()}})).catch((function(e){t.message=e,Object(I.c)(t.$swal,"Error",e)}));case 4:t.isloading=!1;case 5:case"end":return e.stop()}}),e)})))()},editItem:function(t){this.productFormKey+=1,this.selectedProductId=t.pro_id,this.editProductForm=!0},loadCategory:function(){var t=this;return Object(E.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isloading=!0,t.categoryList=[],e.next=4,t.$axios.get("/category_f").then((function(e){console.log("Data: "+e.data);var n,r=B(e.data);try{for(r.s();!(n=r.n()).done;){var o=n.value;console.log("CATEGOR",o),t.categoryList.push(o)}}catch(t){r.e(t)}finally{r.f()}})).catch((function(e){Object(I.c)(t.$swal,"Error",e)}));case 4:t.isloading=!1;case 5:case"end":return e.stop()}}),e)})))()},rebuildStock:function(){var t=this;return Object(E.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isloading){e.next=5;break}return t.isloading=!0,e.next=4,t.$axios.post("/api/card/rebuildStock").then((function(e){Object(I.d)(t.$swal,"Succeed","ດຳເນີນການສຳເລັດ"),t.fetchData()})).catch((function(e){Object(I.c)(t.$swal,"Error",e.response.data)}));case 4:t.isloading=!1;case 5:case"end":return e.stop()}}),e)})))()}}},$=n(65),component=Object($.a)(R,(function(){var t=this,e=t._self._c;return e("div",[e(h.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(e){t.isloading=e},expression:"isloading"}},[e("loading-indicator")],1),t._v(" "),e(w.a,[t._v("\n        "+t._s(t.categoryList.length)+"\n        "),e(l.a,{attrs:{cols:"12"}},[e(c.a,[e(k.a,{attrs:{color:"deep-purple-accent-4","align-tabs":"center"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.categoryList,(function(n){return e(x.a,{key:n.categ_id,attrs:{value:n.categ_id}},[t._v(t._s(n.categ_name))])})),1),t._v(" "),e(O.a,{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(3,(function(n){return e(j.a,{key:n,attrs:{value:n}},[e(d.a,{attrs:{fluid:""}},[e(w.a,[e(c.a,[e("div",{staticClass:"text-center"},[e(l.a,{attrs:{cols:"12"}},[e(L.a,{attrs:{"append-icon":"mdi-magnify",label:"ຊອກຫາ","single-line":"","hide-detailsx":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),t.productList?e(f.a,{attrs:{headers:t.headers,search:t.search,items:t.productList,"items-per-page":t.pageLine},scopedSlots:t._u([{key:"top",fn:function(){return[e(S.a,{attrs:{flat:""}},[e(C.a,[t._v("ສິນຄ້າທັງຫມົດ: "+t._s(t.productList.length))]),t._v(" "),e(m.a,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),e(_.a)],1)]},proxy:!0},{key:"item.function",fn:function(n){var r=n.item;return[e(o.a,{attrs:{rounded:"",fab:""},on:{click:function(e){return t.addProduct(r)}}},[e(v.a,[t._v("mdi-cash-register")])],1)]}},{key:"item.img_path",fn:function(n){var o=n.item;return[e(r.a,[e(y.a,{attrs:{src:"".concat(t.host,"/").concat(o.img_path),alt:"John"}})],1)]}}],null,!0)}):t._e()],1)],1)],1)],1)})),1)],1)],1)],1),t._v(" "),e(w.a,[e(l.a,{attrs:{cols:"4"}}),t._v(" "),e(l.a,{staticClass:"text-center",attrs:{cols:"8"}},[e(c.a,[e("div",{staticClass:"text-center"},[e(l.a,{attrs:{cols:"12"}},[e(L.a,{attrs:{"append-icon":"mdi-magnify",label:"ຊອກຫາ","single-line":"","hide-detailsx":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),t.productList?e(f.a,{attrs:{headers:t.headers,search:t.search,items:t.productList,"items-per-page":t.pageLine},scopedSlots:t._u([{key:"top",fn:function(){return[e(S.a,{attrs:{flat:""}},[e(C.a,[t._v("ສິນຄ້າທັງຫມົດ: "+t._s(t.productList.length))]),t._v(" "),e(m.a,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),e(_.a)],1)]},proxy:!0},{key:"item.function",fn:function(n){var r=n.item;return[e(o.a,{attrs:{rounded:"",fab:""},on:{click:function(e){return t.addProduct(r)}}},[e(v.a,[t._v("mdi-cash-register")])],1)]}},{key:"item.img_path",fn:function(n){var o=n.item;return[e(r.a,[e(y.a,{attrs:{src:"".concat(t.host,"/").concat(o.img_path),alt:"John"}})],1)]}}],null,!0)}):t._e()],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LoadingIndicator:n(563).default})}}]);