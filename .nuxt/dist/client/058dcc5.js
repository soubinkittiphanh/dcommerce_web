(window.webpackJsonp=window.webpackJsonp||[]).push([[70,26,38],{562:function(t,e,n){"use strict";n.r(e);var r=n(247),o=n(139),c=n(244),l=n(65),component=Object(l.a)({},(function(){var t=this._self._c;return t(r.a,{attrs:{color:"primary",dark:""}},[t(o.c,[this._v("\n    ກະລຸນາລໍຖ້າ...\n    "),t(c.a,{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports},569:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return l}));n(26),n(208);var r=function(t,e,n){t({icon:e,title:"ທ່ານແນ່ໃຈທີ່ຈະລົບບໍ່ ?",text:"ລາຍການນີ້ຈະຖືກລົບ ອອກຈາກຖານຂໍ້ມູນ!",confirmButtonText:"ຢືນຢັນ",confirmButtonColor:"#d33",showCancelButton:!0,cancelButtonText:"ອອກ",cancelButtonColor:"#3085d6"}).then((function(t){t.isConfirmed&&n()}))},o=function(t,title,e){t({icon:"error",title:title,text:e,showConfirmButton:!0,allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})},c=function(t,title,text){t({icon:"success",title:title,text:text,showConfirmButton:!0,allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1})},l=function(t){return(new Intl.NumberFormat).format(t)}},579:function(t,e,n){"use strict";n(10),n(11),n(15),n(16);var r=n(2),o=(n(4),n(21),n(9),n(29),n(76),n(344),n(44),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(58),n(40),n(8),n(79),n(343),n(1)),c=n(39),l=n(0);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m=["sm","md","lg","xl"],h=m.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),v=m.reduce((function(t,e){return t["offset"+Object(l.G)(e)]={type:[String,Number],default:null},t}),{}),w=m.reduce((function(t,e){return t["order"+Object(l.G)(e)]={type:[String,Number],default:null},t}),{}),y={col:Object.keys(h),offset:Object.keys(v),order:Object.keys(w)};function _(t,e,n){var r=t;if(null!=n&&!1!==n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return"col"!==t||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()}}var O=new Map;e.a=o.a.extend({name:"v-col",functional:!0,props:f(f(f(f({cols:{type:[Boolean,String,Number],default:!1}},h),{},{offset:{type:[String,Number],default:null}},v),{},{order:{type:[String,Number],default:null}},w),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n=e.props,data=e.data,o=e.children,l=(e.parent,"");for(var d in n)l+=String(n[d]);var f=O.get(l);if(!f){var m,h;for(h in f=[],y)y[h].forEach((function(t){var e=n[t],r=_(h,t,e);r&&f.push(r)}));var v=f.some((function(t){return t.startsWith("col-")}));f.push((m={col:!v||!n.cols},Object(r.a)(m,"col-".concat(n.cols),n.cols),Object(r.a)(m,"offset-".concat(n.offset),n.offset),Object(r.a)(m,"order-".concat(n.order),n.order),Object(r.a)(m,"align-self-".concat(n.alignSelf),n.alignSelf),m)),O.set(l,f)}return t(n.tag,Object(c.a)(data,{class:f}),o)}})},597:function(t,e,n){"use strict";n(264);var r=n(265);e.a=Object(r.a)("layout")},629:function(t,e,n){"use strict";n.r(e);var r=n(545),o=n(247),c=n(139),l=n(638),d=n(573),f=n(575),m=n(56),h=n(557),v=n(86),w=(n(30),n(21),n(29),n(569)),y={props:{isCreate:{type:Boolean,require:!0,default:!0},riderId:{type:Number,require:!1,default:null}},data:function(){return{form:{name:"",tel:"",rating:"Gold",isActive:!0},isloading:!1,ratings:["Gold","Silver","Platinum","Diamond","Master"],nameRules:[function(t){return!!t||"Name is required"},function(t){return t&&t.length<=20||"Name must be less than 20 characters"}],telRules:[function(t){return!!t||"Telephone is required"},function(t){return/^[0-9]{10}$/.test(t)||"Telephone must be a valid 10-digit phone number"}]}},mounted:function(){this.loadRider()},methods:{handleSubmit:function(){var t=this;if(this.$refs.form.validate()&&!this.isloading){console.log("Loading....."),this.isloading=!0;var e=this.isCreate?"api/rider/create":"api/rider/update/".concat(this.riderId);console.log("API => ",e),this.isCreate?this.$axios.post(e,this.form).then((function(e){return t.refreshData(),Object(w.d)(t.$swal,"Succeed","Your transaction completed")})).catch((function(e){return console.log("Error: ",e),Object(w.c)(t.$swal,"Error","ເກີດຂໍ້ຜິດພາດ ກະລຸນາລອງໃຫມ່ ພາຍຫລັງ")})):this.$axios.put(e,this.form).then((function(e){return t.refreshData(),Object(w.d)(t.$swal,"Succeed","Your transaction completed")})).catch((function(e){return console.log("Error: ",e),Object(w.c)(t.$swal,"Error","ເກີດຂໍ້ຜິດພາດ ກະລຸນາລອງໃຫມ່ ພາຍຫລັງ")})),this.isloading=!1}},loadRider:function(){var t=this;this.riderId&&!this.isCreate&&this.$axios.get("api/rider/find/".concat(this.riderId)).then((function(e){t.form.name=e.data.name,t.form.tel=e.data.tel,t.form.isActive=e.data.isActive})).catch((function(t){console.log("Cannot fetch data "+t)}))},refreshData:function(){this.$emit("reload-data")}},computed:{}},_=n(65),component=Object(_.a)(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e(d.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(e){t.isloading=e},expression:"isloading"}},[e("loading-indicator")],1),t._v(" "),e(o.a,{staticClass:"pa-4"},[t._v("\n        "+t._s(t.isCreate?"true":"false")+"\n        "),e(c.d,[e("span",{staticClass:"text-h5"},[t._v("ລາຍເດີ "+t._s(t.riderId))])]),t._v(" "),e(c.c,[e(f.a,{ref:"form"},[e(v.a,{attrs:{label:"* ຊື່",required:"",rules:t.nameRules},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),e(v.a,{attrs:{label:"* ເບີໂທ",required:"",rules:t.telRules},model:{value:t.form.tel,callback:function(e){t.$set(t.form,"tel",e)},expression:"form.tel"}}),t._v(" "),e(m.a,{attrs:{items:t.ratings,label:"Rating",required:""},model:{value:t.form.rating,callback:function(e){t.$set(t.form,"rating",e)},expression:"form.rating"}}),t._v(" "),e(l.a,{attrs:{label:"Is Active"},model:{value:t.form.isActive,callback:function(e){t.$set(t.form,"isActive",e)},expression:"form.isActive"}})],1),t._v(" "),e("small",[t._v("* ສະແດງເຖິງຟິວທີ່ຕ້ອງໃສ່ຂໍ້ມູນ")])],1),t._v(" "),e(c.a,[e(h.a),t._v(" "),e(r.a,{attrs:{color:"blue-darken-1",variant:"text"},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("\n                Close\n            ")]),t._v(" "),e(r.a,{attrs:{color:"blue-darken-1",variant:"text"},on:{click:t.handleSubmit}},[t._v("\n                Save\n            ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LoadingIndicator:n(562).default})},747:function(t,e,n){"use strict";n.r(e);var r=n(545),o=n(247),c=n(139),l=n(579),d=n(725),f=n(573),m=n(245),h=n(597),v=n(86),w=(n(29),n(257),n(38)),y=(n(140),n(70),n(26),n(47),n(30),{components:{RiderForm:n(629).default},data:function(){return{userId:"",componentKey:1,selectedRiderId:"",dialogRider:!1,riderList:[],search:"",isCreate:!1,isloading:!1,whatsappContactLink:"",headers:[{text:"ຊື່",align:"center",value:"name",sortable:!0},{text:"ເບີໂທ",align:"center",value:"tel"},{text:"Rating",align:"center",value:"rating"},{text:"active",align:"center",value:"isAtive"},{text:"ລາຍລະອຽດ",align:"end",value:"function",sortable:!1}]}},mounted:function(){this.loadData()},methods:{whatsappLink:function(t){var e=t.tel.trim(),n=e.substring(e.length-8);this.whatsappContactLink="https://api.whatsapp.com/send?phone=+85620".concat(n,"&text=").concat(encodeURIComponent("ສະບາຍດີ ລູກຄ້າ "))},handleEvent:function(){this.dialogRider=!1},editItem:function(t){this.componentKey+=1,this.selectedRiderId=t,this.dialogRider=!0,this.isCreate=!1},createItem:function(){this.componentKey+=1,this.dialogRider=!0,this.isCreate=!0},loadData:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("api/rider/find").then((function(e){t.isloading=!0,t.riderList=e.data.map((function(t){return{id:t.id,name:t.name,tel:t.tel,rating:t.rating,isActive:t.isActive,function:t.id}}))})).catch((function(t){console.log("Error ",t)}));case 2:t.isloading=!1;case 3:case"end":return e.stop()}}),e)})))()}}}),_=n(65),component=Object(_.a)(y,(function(){var t=this,e=t._self._c;return e("div",[e(f.a,{attrs:{"max-width":"1024",persistent:""},model:{value:t.dialogRider,callback:function(e){t.dialogRider=e},expression:"dialogRider"}},[e("RiderForm",{key:t.componentKey,attrs:{"is-create":t.isCreate,"rider-id":t.selectedRiderId},on:{"close-dialog":t.handleEvent,"reload-data":t.loadData}})],1),t._v(" "),e("h1",[t._v("ສ້າງລາຍເດີປະຈຳ")]),t._v(" "),e(f.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(e){t.isloading=e},expression:"isloading"}},[e("loading-indicator")],1),t._v(" "),e(o.a,[e(c.d,[e(h.a,{attrs:{row:"",wrap:""}},[e(l.a,{attrs:{cols:"6"}},[e(r.a,{on:{click:t.createItem}},[t._v(" ສ້າງລາຍເດີ ")])],1),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e(v.a,{attrs:{"append-icon":"mdi-magnify",label:"ຊອກຫາ","single-line":"","hide-detailsx":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),e(r.a,{on:{click:t.loadData}},[t._v(" ດຶງລາຍງານ ")])],1)],1)],1),t._v(" "),e(m.a),t._v(" "),e(c.c),t._v(" "),t.riderList?e(d.a,{attrs:{headers:t.headers,search:t.search,items:t.riderList},scopedSlots:t._u([{key:"item.function",fn:function(n){var o=n.item;return[e(r.a,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.editItem(o.id),t.wallet=!0}}},[e("i",{staticClass:"fa fa-pencil-square-o"})])]}},{key:"item.tel",fn:function(n){var o=n.item;return[e(r.a,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.whatsappLink(o)}}},[t._v("\n          "+t._s(o.tel)+"\n          "),e("a",{attrs:{href:t.whatsappContactLink,target:"_blank"}},[t._v("Whatsapp")])])]}}],null,!0)}):t._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{RiderForm:n(629).default,LoadingIndicator:n(562).default})}}]);