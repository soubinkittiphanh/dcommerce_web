(window.webpackJsonp=window.webpackJsonp||[]).push([[226],{1259:function(t,e,n){var content=n(1579);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("b56b848a",content,!0,{sourceMap:!1})},1578:function(t,e,n){"use strict";n(1259)},1579:function(t,e,n){var r=n(15)((function(i){return i[1]}));r.push([t.i,".ministry-settlement-report[data-v-00719b58]{padding:0}.report-header[data-v-00719b58]{align-items:center;border-radius:8px;display:flex;justify-content:space-between;margin-bottom:24px;padding:24px}.title-section h1[data-v-00719b58]{font-size:28px;font-weight:600;margin:0}.title-section p[data-v-00719b58]{font-size:14px;margin:8px 0 0;opacity:.9}.action-buttons[data-v-00719b58]{display:flex;gap:16px}.custom-btn[data-v-00719b58]{border:1px solid #fff!important;color:#01532b!important;font-weight:500!important;text-transform:none!important}.custom-btn[data-v-00719b58]:hover{background-color:#fff!important;color:#01532b!important}.filter-card[data-v-00719b58]{background:#fff;border-radius:8px}.filter-title[data-v-00719b58]{background:#01532b;color:#fff;font-weight:600}.custom-primary-bg[data-v-00719b58]{background-color:#01532b!important}.custom-secondary-btn[data-v-00719b58]{background-color:#6c757d!important;color:#fff!important;font-weight:500!important;text-transform:none!important}.custom-secondary-btn[data-v-00719b58]:hover{background-color:#5a6268!important}.ministry-selection .ministry-name[data-v-00719b58]{color:#01532b;font-weight:600}.ministry-item .ministry-name[data-v-00719b58]{color:#333;font-weight:600}.ministry-item .ministry-details[data-v-00719b58]{color:#666;font-size:12px}.summary-cards[data-v-00719b58]{margin-bottom:24px}.summary-card[data-v-00719b58]{border-radius:8px;height:140px;overflow:hidden;position:relative}.summary-card[data-v-00719b58]:hover{transform:translateY(-2px)}.summary-content[data-v-00719b58]{align-items:center;display:flex;height:100%;position:relative;z-index:2}.summary-icon[data-v-00719b58]{color:#fff;font-size:48px;margin-right:16px;opacity:.9}.summary-details h3[data-v-00719b58]{color:#fff;font-size:16px;font-weight:600;margin:0}.summary-details p[data-v-00719b58]{color:hsla(0,0%,100%,.9);font-size:12px;margin:4px 0}.summary-details h2[data-v-00719b58]{color:#fff;font-size:24px;font-weight:700;margin:8px 0 0}.summary-lcy[data-v-00719b58]{color:hsla(0,0%,100%,.9);font-size:11px;margin-top:4px!important;opacity:.9}.amount-card[data-v-00719b58],.lak-card[data-v-00719b58],.settlement-card[data-v-00719b58],.total-ministries-card[data-v-00719b58]{background:#01532b;color:#fff}.currency-breakdown[data-v-00719b58]{margin-bottom:24px}.currency-title[data-v-00719b58]{background:#01532b;color:#fff;font-weight:600}.currency-card[data-v-00719b58]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;height:100%;padding:16px;text-align:center;transition:all .3s ease}.currency-card[data-v-00719b58]:hover{border-color:#01532b;box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.currency-header[data-v-00719b58]{align-items:center;display:flex;justify-content:space-between;margin-bottom:12px}.currency-flag[data-v-00719b58]{font-size:24px}.currency-stats[data-v-00719b58]{text-align:center}.original-amount[data-v-00719b58]{color:#01532b;font-family:monospace;font-size:18px;font-weight:700;margin-bottom:4px}.lak-equivalent[data-v-00719b58]{color:#228b22;font-family:monospace;font-size:14px;font-weight:600;margin-bottom:8px}.settlement-count[data-v-00719b58]{color:#666;font-size:12px;margin-bottom:4px}.percentage[data-v-00719b58]{color:#999;font-size:11px}.ministry-table[data-v-00719b58]{background:#fff}.ministry-table-header[data-v-00719b58],.ministry-table-header th[data-v-00719b58]{background-color:#01532b!important}.ministry-table-header th[data-v-00719b58]{border-bottom:none!important;color:#fff!important;padding:12px 8px!important}.ministry-row-even[data-v-00719b58]{background-color:#f8f9fa}.ministry-row-special[data-v-00719b58]{background-color:#fff3cd;font-style:italic}.ministry-table-footer[data-v-00719b58]{background-color:#e9ecef!important;font-weight:700}.ministry-table-footer td[data-v-00719b58]{background-color:#e9ecef!important;border-top:2px solid #01532b!important;padding:12px 8px!important}.ministry-divider[data-v-00719b58]{border-color:#01532b!important;opacity:.3!important}.ministry-primary--text[data-v-00719b58]{color:#01532b!important}.ministry-success--text[data-v-00719b58]{color:#28a745!important}.report-card[data-v-00719b58]{border-radius:12px}.report-header[data-v-00719b58]{background:#01532b;color:#fff;font-weight:600}.search-field[data-v-00719b58] .v-icon,.search-field[data-v-00719b58] input{color:#fff!important}.search-field[data-v-00719b58] .v-label{color:hsla(0,0%,100%,.7)!important}.search-field[data-v-00719b58] .v-input__control{border-color:hsla(0,0%,100%,.3)!important}.dialog-header[data-v-00719b58]{background:#01532b!important;font-weight:600!important}.close-btn[data-v-00719b58],.dialog-header[data-v-00719b58]{color:#fff!important}.section-title[data-v-00719b58]{color:#01532b;font-size:18px;font-weight:600;margin:0}.custom-divider[data-v-00719b58]{border-color:#01532b!important;opacity:.3!important}.detail-stat[data-v-00719b58]{align-items:center;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-left:4px solid #01532b;border-radius:12px;display:flex;height:100%;padding:16px;transition:all .3s ease}.detail-stat[data-v-00719b58]:hover{box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.stat-icon[data-v-00719b58]{color:#01532b;font-size:24px;margin-right:12px}.stat-info strong[data-v-00719b58]{color:#01532b;display:block;font-size:12px;font-weight:700;margin-bottom:4px}.stat-number[data-v-00719b58]{color:#333;font-family:monospace;font-size:16px;font-weight:600;margin:0}.method-card[data-v-00719b58]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-left:4px solid #01532b;border-radius:12px;padding:16px;text-align:center;transition:all .3s ease}.method-card[data-v-00719b58]:hover{box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.method-header[data-v-00719b58]{margin-bottom:12px}.method-count[data-v-00719b58]{color:#666;font-size:14px;margin-bottom:4px}.method-amount[data-v-00719b58]{color:#01532b;font-family:monospace;font-size:18px;font-weight:600}.settlement-table[data-v-00719b58]{background:#fff}.settlement-table[data-v-00719b58] thead th{background-color:#01532b!important;border-bottom:none!important;color:#fff!important;font-weight:600!important}.settlement-table[data-v-00719b58] tbody tr:hover{background-color:rgba(1,83,43,.1)!important}.date-cell[data-v-00719b58]{color:#01532b;font-family:monospace;font-size:13px}.amount-breakdown[data-v-00719b58]{align-items:center;display:flex;flex-direction:column}.amount-cell[data-v-00719b58]{font-family:monospace;font-size:13px;font-weight:600}.exchange-rate-cell[data-v-00719b58]{text-align:center}.exchange-rate-cell .default-rate[data-v-00719b58]{color:#999;font-style:italic}.lak-amount-cell[data-v-00719b58]{text-align:center}.lak-amount[data-v-00719b58]{color:#228b22;font-family:monospace;font-size:13px;font-weight:600}.user-info .user-name[data-v-00719b58]{font-weight:500}.advance-info .advance-status[data-v-00719b58]{color:#666;font-size:10px;margin-top:2px}.no-advance[data-v-00719b58]{color:#999;font-style:italic}.text-center[data-v-00719b58]{text-align:center}.py-8[data-v-00719b58]{padding:64px 0}.mt-4[data-v-00719b58]{margin-top:16px}.mt-3[data-v-00719b58]{margin-top:12px}.mt-2[data-v-00719b58]{margin-top:8px}.mb-4[data-v-00719b58]{margin-bottom:24px}.mb-3[data-v-00719b58]{margin-bottom:12px}.my-3[data-v-00719b58]{margin:12px 0}.pa-4[data-v-00719b58]{padding:24px}@media print{.action-buttons[data-v-00719b58],.filter-card[data-v-00719b58],.v-btn[data-v-00719b58]{display:none!important}.summary-cards[data-v-00719b58]{page-break-inside:avoid}.report-header[data-v-00719b58]{background:#01532b!important;color:#fff!important;-webkit-print-color-adjust:exact}}@media (max-width:768px){.report-header[data-v-00719b58]{flex-direction:column;gap:16px;padding:16px;text-align:center}.title-section h1[data-v-00719b58]{font-size:24px}.action-buttons[data-v-00719b58]{flex-wrap:wrap;justify-content:center}.summary-content[data-v-00719b58]{flex-direction:column;padding:12px;text-align:center}.summary-icon[data-v-00719b58]{font-size:40px;margin-bottom:8px;margin-right:0}.summary-details h2[data-v-00719b58]{font-size:20px}.detail-stat[data-v-00719b58]{flex-direction:column;text-align:center}.stat-icon[data-v-00719b58]{margin-bottom:8px;margin-right:0}}",""]),r.locals={},t.exports=r},1767:function(t,e,n){"use strict";n.r(e);var r=n(316),o=n(313),c=n(18),l=n(317),d=n(780),m=n(789),v=n(754),f=n(312),h=n(167),y=n(251),x=n(779),_=n(65),C=n(433),w=n(777),k=n(113),S=(n(35),n(131),n(7),n(67),n(34),n(20)),D=n(33),A=(n(92),n(5),n(821),n(54),n(822),n(823),n(824),n(825),n(826),n(827),n(828),n(829),n(830),n(831),n(832),n(833),n(834),n(835),n(836),n(837),n(53),n(8),n(10),n(9),n(39),n(51),n(30),n(44),n(209),n(445),n(66),n(62),n(250),n(340),{name:"MinistrySettlementReport",head:function(){return{title:"Ministry Settlement Reports"}},data:function(){return{ministries:[],loading:!1,exporting:!1,loadingDetails:!1,search:"",settlementDialog:!1,ministryStats:[],selectedMinistry:null,selectedSettlements:[],settlementSummary:{totalAmount:0,settlementCount:0,averageAmount:0},methodDistribution:[],filters:{startDate:null,endDate:null,method:"",ministryId:null},settlementMethods:[{text:"ທັງໝົດ (All Methods)",value:""},{text:"ເງິນສົດ (Cash)",value:"cash"},{text:"ໂອນເງິນຜ່ານທະນາຄານ (Bank Transfer)",value:"bank_transfer"},{text:"ຫັກລົບ (Deduction)",value:"deduction"}],currencyOptions:[{text:"ທັງໝົດສະກຸນເງິນ (All Currencies)",value:null},{text:"ລາວກີບ (LAK)",value:1},{text:"ໂດລາອາເມລິກັນ (USD)",value:2},{text:"ບາດໄທ (THB)",value:3},{text:"ຢວນຈີນ (CNY)",value:4},{text:"ເອີໂຣ (EUR)",value:5}],currencyBreakdown:[],currencyList:[],settlementHeaders:[{text:"ວັນທີ",value:"bookingDate",width:"120px"},{text:"ສະກຸນເງິນ",value:"currency",width:"80px"},{text:"ຈຳນວນເງິນຕົ້ນ",value:"amount",width:"130px"},{text:"ອັດຕາແລກປ່ຽນ",value:"exchangeRate",width:"100px"},{text:"ເທົ່າກັບລາວກີບ",value:"lakAmount",width:"130px"},{text:"ວິທີການ",value:"method",width:"120px"},{text:"ຜູ້ດຳເນີນການ",value:"proceeder",width:"150px"},{text:"ເງິນກ່ອນ",value:"moneyAdvance",width:"120px"},{text:"ຈັດການ",value:"actions",sortable:!1,width:"100px"}]}},computed:{uniqueCurrencies:function(){var t=new Set;return this.ministryStats.forEach((function(e){Object.keys(e.amounts||{}).forEach((function(e){t.add(e)}))})),t.size},totalLakAmount:function(){return this.ministryStats.reduce((function(t,e){return t+(e.totalLak||0)}),0)},filteredMinistries:function(){var t=this;return this.search?this.ministryStats.filter((function(e){var n,r,o,c,l,d;return(null===(n=e.ministry)||void 0===n||null===(r=n.name)||void 0===r?void 0:r.toLowerCase().includes(t.search.toLowerCase()))||(null===(o=e.ministry)||void 0===o||null===(c=o.code)||void 0===c?void 0:c.toLowerCase().includes(t.search.toLowerCase()))||(null===(l=e.ministry)||void 0===l||null===(d=l.type)||void 0===d?void 0:d.toLowerCase().includes(t.search.toLowerCase()))})):this.ministryStats},totalSettlementsCount:function(){return this.ministryStats.reduce((function(t,e){return t+parseInt(e.count||0)}),0)},totalAmount:function(){return this.ministryStats.reduce((function(t,e){return t+parseFloat(e.totalLak||0)}),0)},averageAmount:function(){return this.totalSettlementsCount>0?this.totalAmount/this.totalSettlementsCount:0},maxAmount:function(){return Math.max.apply(Math,Object(D.a)(this.ministryStats.map((function(t){return parseFloat(t.totalLak||0)}))).concat([0]))}},mounted:function(){this.setDefaultDates(),this.loadDashboardData(),this.loadInitialData()},methods:{loadInitialData:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/ministries");case 3:n=e.sent,t.ministries=n.data.data||n.data,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading ministries:",e.t0),t.$toast.error("Error loading initial data");case 11:return e.prev=11,e.next=14,t.$axios.get("/api/currency/find");case 14:r=e.sent,o=r.data.data||r.data,t.currencyList=o.map((function(t){return{code:t.code,name:t.name,id:t.id}})),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(11),console.error("Error loading currencies:",e.t1),t.$toast.error("Error loading initial data");case 23:case"end":return e.stop()}}),e,null,[[0,7],[11,19]])})))()},groupSettlementsByMinistry:function(t){var e={};return t.forEach((function(t){var n,r=t.ministryId||"NO_MINISTRY";e[r]||(e[r]={ministryId:r,ministry:t.ministry||{code:"N/A",name:"Unknown Ministry",type:"N/A",description:"N/A"},count:0,amounts:{},totalLak:0});var o=e[r];o.count+=1;var c=(null===(n=t.currency)||void 0===n?void 0:n.code)||"LAK";o.amounts[c]||(o.amounts[c]=0),o.amounts[c]+=parseFloat(t.amount||0);var l=t.exchangeRate||1,d=parseFloat(t.amount||0)*l;o.totalLak+=d})),Object.values(e)},loadDashboardData:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,n=new URLSearchParams,t.filters.startDate&&n.append("fromDate",t.filters.startDate),t.filters.endDate&&n.append("toDate",t.filters.endDate),t.filters.method&&n.append("method",t.filters.method),t.filters.ministryId&&n.append("ministryId",t.filters.ministryId),e.next=9,t.$axios.get("/api/settlements?".concat(n));case 9:if(!(r=e.sent).data.success){e.next=16;break}return console.info("DATA FROM API: ".concat(JSON.stringify(r.data.data))),o=r.data.data.settlements||[],t.ministryStats=t.groupSettlementsByMinistry(o),e.next=16,t.calculateCurrencyBreakdown();case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.error("Error loading dashboard data:",e.t0),t.$toast.error("Failed to load ministry reports");case 22:return e.prev=22,t.loading=!1,e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,18,22,25]])})))()},getCurrencyColor:function(t){return{LAK:"#01532B",USD:"#228B22",THB:"#32CD32",CNY:"#006400",EUR:"#9ACD32",JPY:"#00FA9A",GBP:"#66CDAA",KRW:"#20B2AA"}[t]||"#01532B"},getMinistryTypeColor:function(t){return{Government:"#01532B",Ministry:"#228B22",Department:"#DC3545",Agency:"#6610F2",Bureau:"#198754",Office:"#FD7E14",Commission:"#20C997",Council:"#E83E8C"}[t]||"#01532B"},getCurrencyFlag:function(t){return{LAK:"🇱🇦",USD:"🇺🇸",THB:"🇹🇭",CNY:"🇨🇳",EUR:"🇪🇺",JPY:"🇯🇵",GBP:"🇬🇧",KRW:"🇰🇷"}[t]||"🏳️"},calculateLakAmount:function(t,e){return t?t*(e||1):0},formatCurrency:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";if(!t)return"0.00";var n=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t);return"LAK"===e?n+" ₭":"USD"===e?"$"+n:"THB"===e?n+" ฿":"CNY"===e?"¥"+n:"EUR"===e?"€"+n:n+" "+e},setDefaultDates:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1);this.filters.startDate=e.toISOString().substr(0,10),this.filters.endDate=t.toISOString().substr(0,10)},calculateCurrencyBreakdown:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new URLSearchParams,t.filters.startDate&&n.append("startDate",t.filters.startDate),t.filters.endDate&&n.append("endDate",t.filters.endDate),t.filters.method&&n.append("method",t.filters.method),t.filters.ministryId&&n.append("ministryId",t.filters.ministryId),e.next=8,t.$axios.get("/api/settlements/currency-breakdown?".concat(n));case 8:(r=e.sent).data.success&&(t.currencyBreakdown=r.data.data.currencies||[]),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error calculating currency breakdown:",e.t0),t.currencyBreakdown=[];case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()},selectMinistry:function(t){var e=this;return Object(S.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loadingDetails=!0,e.settlementDialog=!0,n.prev=2,n.next=5,e.$axios.get("/api/settlements/by-ministry/".concat(t));case 5:(r=n.sent).data.success&&(e.selectedSettlements=r.data.data.settlements,e.settlementSummary=r.data.data.summary,o=e.ministryStats.find((function(s){return s.ministryId==t})),e.selectedMinistry=o?o.ministry:null,e.calculateMethodDistribution()),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),console.error("Error loading ministry settlements:",n.t0),e.$toast.error("Failed to load settlement details");case 13:return n.prev=13,e.loadingDetails=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,9,13,16]])})))()},calculateMethodDistribution:function(){var t={};this.selectedSettlements.forEach((function(e){t[e.method]||(t[e.method]={count:0,total:0}),t[e.method].count++,t[e.method].total+=parseFloat(e.amount)})),this.methodDistribution=Object.keys(t).map((function(e){return{method:e,count:t[e].count,total:t[e].total}}))},resetFilters:function(){this.filters={startDate:null,endDate:null,method:"",ministryId:null},this.setDefaultDates(),this.loadDashboardData()},closeDialog:function(){this.settlementDialog=!1,this.selectedMinistry=null,this.selectedSettlements=[],this.methodDistribution=[]},exportToExcel:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){var r,o,c,l,d,m,v,f,h,y,x,_,C,w,k,S,A,M,L,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.exporting=!0,e.prev=1,e.next=4,Promise.resolve().then(n.bind(null,347));case 4:r=e.sent,o=r.utils.book_new(),c=[["Ministry Settlement Report"],["Report Period: ".concat(t.filters.startDate||"All"," to ").concat(t.filters.endDate||"All")],["Generated on: ".concat((new Date).toLocaleDateString())],[""],["Summary Statistics"],["Total Ministries: ".concat(t.ministryStats.length)],["Total Settlements: ".concat(t.totalSettlementsCount)],["Total Amount (LAK): ".concat(t.formatCurrency(t.totalLakAmount,"LAK"))],["Unique Currencies: ".concat(t.uniqueCurrencies)],[""],["Ministry Details"]],l=["#","Ministry Code","Ministry Name","Ministry Type","Description","Settlement Count"],t.currencyList.forEach((function(t){l.push("".concat(t.code," Amount"))})),l.push("Total (LAK)"),c.push(l),t.filteredMinistries.forEach((function(e,n){var r,o,l,d,m=[n+1,(null===(r=e.ministry)||void 0===r?void 0:r.ministryCode)||"N/A",(null===(o=e.ministry)||void 0===o?void 0:o.ministryName)||"Unknown Ministry",(null===(l=e.ministry)||void 0===l?void 0:l.ministryType)||"N/A",(null===(d=e.ministry)||void 0===d?void 0:d.description)||"N/A",e.count];t.currencyList.forEach((function(t){var n;m.push((null===(n=e.amounts)||void 0===n?void 0:n[t.code])||0)})),m.push(e.totalLak||0),c.push(m)})),d=["","","","","TOTAL",t.totalSettlementsCount],t.currencyList.forEach((function(e){d.push(t.getCurrencyTotal(e.code))})),d.push(t.totalLakAmount),c.push(d),m=r.utils.aoa_to_sheet(c),v=[{wch:5},{wch:15},{wch:30},{wch:15},{wch:25},{wch:15}],t.currencyList.forEach((function(){v.push({wch:15})})),v.push({wch:18}),m["!cols"]=v,f=r.utils.decode_range(m["!ref"]),h=f.s.r;case 23:if(!(h<=f.e.r)){e.next=38;break}y=f.s.c;case 25:if(!(y<=f.e.c)){e.next=35;break}if(x=r.utils.encode_cell({r:h,c:y}),m[x]){e.next=29;break}return e.abrupt("continue",32);case 29:0===h&&(m[x].s={font:{bold:!0,sz:16},alignment:{horizontal:"center"}}),11===h&&(m[x].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"01532B"}},alignment:{horizontal:"center"}}),h===f.e.r&&(m[x].s={font:{bold:!0},fill:{fgColor:{rgb:"E9ECEF"}}});case 32:++y,e.next=25;break;case 35:++h,e.next=23;break;case 38:r.utils.book_append_sheet(o,m,"Ministry Summary"),t.ministryStats.length>0&&(_={},t.ministryStats.forEach((function(t){var e,n=(null===(e=t.ministry)||void 0===e?void 0:e.ministryType)||"Unknown";_[n]||(_[n]={count:0,totalAmount:0,settlements:0}),_[n].count+=1,_[n].totalAmount+=t.totalLak||0,_[n].settlements+=t.count||0})),C=[["Ministry Type Analysis"],[""],["Ministry Type","Number of Ministries","Total Settlements","Total Amount (LAK)","Average per Ministry"]],Object.keys(_).forEach((function(t){var data=_[t];C.push([t,data.count,data.settlements,data.totalAmount,data.count>0?data.totalAmount/data.count:0])})),(w=r.utils.aoa_to_sheet(C))["!cols"]=[{wch:18},{wch:20},{wch:18},{wch:20},{wch:20}],r.utils.book_append_sheet(o,w,"Ministry Type Analysis")),t.ministryStats.length>0&&(k=Object(D.a)(t.ministryStats).sort((function(a,b){return(b.totalLak||0)-(a.totalLak||0)})).slice(0,10),S=[["Top 10 Ministries by Amount"],[""],["Rank","Ministry Name","Ministry Type","Settlement Count","Total Amount (LAK)","Percentage of Total"]],k.forEach((function(e,n){var r,o,c=t.totalLakAmount>0?((e.totalLak||0)/t.totalLakAmount*100).toFixed(2):0;S.push([n+1,(null===(r=e.ministry)||void 0===r?void 0:r.ministryName)||"Unknown Ministry",(null===(o=e.ministry)||void 0===o?void 0:o.ministryType)||"N/A",e.count||0,e.totalLak||0,"".concat(c,"%")])})),(A=r.utils.aoa_to_sheet(S))["!cols"]=[{wch:8},{wch:30},{wch:15},{wch:15},{wch:18},{wch:15}],r.utils.book_append_sheet(o,A,"Top 10 Ministries")),t.currencyBreakdown.length>0&&(M=[["Currency Breakdown Report"],[""],["Currency","Total Amount (Original)","LAK Equivalent","Settlement Count","Percentage"]],t.currencyBreakdown.forEach((function(e){M.push([e.currencyCode||"LAK",e.totalAmount||0,e.lakEquivalent||0,e.count||0,"".concat(Math.round(e.lakEquivalent/t.totalLakAmount*100),"%")])})),(L=r.utils.aoa_to_sheet(M))["!cols"]=[{wch:12},{wch:20},{wch:18},{wch:15},{wch:12}],r.utils.book_append_sheet(o,L,"Currency Breakdown")),T="ministry-settlement-report-".concat(t.filters.startDate||"all","-").concat(t.filters.endDate||"all",".xlsx"),r.writeFile(o,T),t.$toast.success("Ministry Report exported successfully!"),e.next=51;break;case 47:e.prev=47,e.t0=e.catch(1),console.error("Error exporting report:",e.t0),t.$toast.error("Error exporting report: "+e.t0.message);case 51:return e.prev=51,t.exporting=!1,e.finish(51);case 54:case"end":return e.stop()}}),e,null,[[1,47,51,54]])})))()},printReport:function(){window.print()},viewSettlement:function(t){this.$router.push("/settlements/".concat(t))},formatExchangeRate:function(t){return t?new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(t):"1.0000"},formatDate:function(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""},formatMethod:function(t){return{cash:"ເງິນສົດ (Cash)",bank_transfer:"ໂອນເງິນ (Transfer)",deduction:"ຫັກລົບ (Deduction)"}[t]||t},getCurrencyTotal:function(t){return this.ministryStats.reduce((function(e,n){var r;return e+((null===(r=n.amounts)||void 0===r?void 0:r[t])||0)}),0)},getMethodColor:function(t){return{cash:"#01532B",bank_transfer:"#228B22",deduction:"#32CD32"}[t]||"#01532B"}}}),M=A,L=(n(1578),n(32)),component=Object(L.a)(M,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ministry-settlement-report"},[e("div",{staticClass:"report-header"},[t._m(0),t._v(" "),e("div",{staticClass:"action-buttons"},[e(r.a,{staticClass:"custom-btn export-btn",attrs:{loading:t.exporting},on:{click:t.exportToExcel}},[e("i",{staticClass:"fas fa-file-excel"}),t._v("\n        Export Excel\n      ")]),t._v(" "),e(r.a,{staticClass:"custom-btn print-btn",on:{click:t.printReport}},[e("i",{staticClass:"fas fa-print"}),t._v("\n        Print\n      ")])],1)]),t._v(" "),e(o.a,{staticClass:"filter-card mb-4",attrs:{elevation:"2"}},[e(c.d,{staticClass:"filter-title d-flex align-center"},[e(h.a,{staticClass:"mr-2"},[t._v("mdi-filter")]),t._v("\n      ຕົວກອງ (Filters)\n    ")],1),t._v(" "),e(c.c,{staticClass:"pa-4"},[e(x.a,[e(d.a,{attrs:{cols:"12",md:"3"}},[e(k.a,{attrs:{type:"date",label:"ວັນທີເລີ່ມຕົ້ນ (From Date)",outlined:"",dense:""},on:{change:t.loadDashboardData},model:{value:t.filters.startDate,callback:function(e){t.$set(t.filters,"startDate",e)},expression:"filters.startDate"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(k.a,{attrs:{type:"date",label:"ວັນທີສິ້ນສຸດ (To Date)",outlined:"",dense:""},on:{change:t.loadDashboardData},model:{value:t.filters.endDate,callback:function(e){t.$set(t.filters,"endDate",e)},expression:"filters.endDate"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"4"}},[e(_.a,{attrs:{items:t.ministries,"item-text":"name","item-value":"id",label:"ກະຊວງ (Ministry)",clearable:"",outlined:"",dense:""},on:{change:t.loadDashboardData},scopedSlots:t._u([{key:"selection",fn:function(n){var r=n.item;return[e("div",{staticClass:"ministry-selection"},[e("span",{staticClass:"ministry-name"},[t._v(t._s(r.ministryName))]),t._v(" "),e("small",[t._v(t._s(r.ministryCode)+" - "+t._s(r.ministryType))])])]}},{key:"item",fn:function(n){var r=n.item;return[e("div",{staticClass:"ministry-item"},[e("div",{staticClass:"ministry-name"},[t._v(t._s(r.ministryName))]),t._v(" "),e("div",{staticClass:"ministry-details"},[t._v("\n                  Code: "+t._s(r.ministryCode)+" | Type: "+t._s(r.ministryType)+"\n                ")])])]}}]),model:{value:t.filters.ministryId,callback:function(e){t.$set(t.filters,"ministryId",e)},expression:"filters.ministryId"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"2"}},[e(_.a,{attrs:{items:t.settlementMethods,label:"ວິທີການຊຳລະ (Method)",clearable:"",outlined:"",dense:""},on:{change:t.loadDashboardData},model:{value:t.filters.method,callback:function(e){t.$set(t.filters,"method",e)},expression:"filters.method"}})],1)],1),t._v(" "),e(x.a,{staticClass:"mt-2"},[e(d.a,{attrs:{cols:"12",md:"3"}},[e(r.a,{staticClass:"custom-primary-bg white--text",attrs:{block:"",outlined:"",loading:t.loading},on:{click:t.loadDashboardData}},[e(h.a,{attrs:{left:"",color:"white"}},[t._v("mdi-refresh")]),t._v("\n            Refresh\n          ")],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(r.a,{staticClass:"custom-secondary-btn",attrs:{block:"",outlined:"",color:"grey lighten-1"},on:{click:t.resetFilters}},[e(h.a,{attrs:{left:""}},[t._v("mdi-restore")]),t._v("\n            Reset\n          ")],1)],1)],1)],1)],1),t._v(" "),t.loading?t._e():e(x.a,{staticClass:"summary-cards mb-4"},[e(d.a,{attrs:{cols:"12",md:"3"}},[e(o.a,{staticClass:"summary-card total-ministries-card",attrs:{elevation:"4"}},[e(c.c,[e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-building"})]),t._v(" "),e("div",{staticClass:"summary-details"},[e("h3",{staticClass:"summary-title"},[t._v("ທັງໝົດກະຊວງ")]),t._v(" "),e("p",{staticClass:"summary-subtitle"},[t._v("Total Ministries")]),t._v(" "),e("h2",{staticClass:"summary-amount"},[t._v(t._s(t.ministryStats.length))]),t._v(" "),e("p",{staticClass:"summary-lcy"},[t._v("Active Ministries")])])])])],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(o.a,{staticClass:"summary-card settlement-card",attrs:{elevation:"4"}},[e(c.c,[e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-money-bill-wave"})]),t._v(" "),e("div",{staticClass:"summary-details"},[e("h3",{staticClass:"summary-title"},[t._v("ຈຳນວນການຊຳລະ")]),t._v(" "),e("p",{staticClass:"summary-subtitle"},[t._v("Total Settlements")]),t._v(" "),e("h2",{staticClass:"summary-amount"},[t._v(t._s(t.totalSettlementsCount))]),t._v(" "),e("p",{staticClass:"summary-lcy"},[t._v("Settlement Count")])])])])],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(o.a,{staticClass:"summary-card amount-card",attrs:{elevation:"4"}},[e(c.c,[e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-coins"})]),t._v(" "),e("div",{staticClass:"summary-details"},[e("h3",{staticClass:"summary-title"},[t._v("ລວມທຸກສະກຸນ")]),t._v(" "),e("p",{staticClass:"summary-subtitle"},[t._v("Multi-Currency Total")]),t._v(" "),e("h2",{staticClass:"summary-amount"},[t._v(t._s(t.uniqueCurrencies))]),t._v(" "),e("p",{staticClass:"summary-lcy"},[t._v(t._s(t.uniqueCurrencies)+" Currencies")])])])])],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(o.a,{staticClass:"summary-card lak-card",attrs:{elevation:"4"}},[e(c.c,[e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-calculator"})]),t._v(" "),e("div",{staticClass:"summary-details"},[e("h3",{staticClass:"summary-title"},[t._v("ລາວກີບ (LAK)")]),t._v(" "),e("p",{staticClass:"summary-subtitle"},[t._v("Total LAK Equivalent")]),t._v(" "),e("h2",{staticClass:"summary-amount"},[t._v("\n                "+t._s(t.formatCurrency(t.totalLakAmount,"LAK"))+"\n              ")]),t._v(" "),e("p",{staticClass:"summary-lcy"},[t._v("Local Currency")])])])])],1)],1)],1),t._v(" "),!t.loading&&t.currencyBreakdown.length>0?e(x.a,{staticClass:"currency-breakdown mb-4"},[e(d.a,{attrs:{cols:"12"}},[e(o.a,{attrs:{elevation:"2"}},[e(c.d,{staticClass:"currency-title"},[e("i",{staticClass:"fas fa-coins"}),t._v("\n          ການແຈກຢາຍຕາມສະກຸນເງິນ (Currency Breakdown)\n        ")]),t._v(" "),e(c.c,[e(x.a,t._l(t.currencyBreakdown,(function(n){return e(d.a,{key:n.currencyCode||n.currencyId,attrs:{cols:"12",md:"4",lg:"3"}},[e("div",{staticClass:"currency-card"},[e("div",{staticClass:"currency-header"},[e(l.a,{attrs:{color:t.getCurrencyColor(n.currencyCode),"text-color":"white",large:""}},[t._v("\n                    "+t._s(n.currencyCode||"LAK")+"\n                  ")]),t._v(" "),e("div",{staticClass:"currency-flag"},[t._v("\n                    "+t._s(t.getCurrencyFlag(n.currencyCode))+"\n                  ")])],1),t._v(" "),e("div",{staticClass:"currency-stats"},[e("div",{staticClass:"original-amount"},[t._v("\n                    "+t._s(t.formatCurrency(n.totalAmount,n.currencyCode))+"\n                  ")]),t._v(" "),e("div",{staticClass:"lak-equivalent"},[t._v("\n                    ≈ "+t._s(t.formatCurrency(n.lakEquivalent,"LAK"))+"\n                  ")]),t._v(" "),e("div",{staticClass:"settlement-count"},[t._v("\n                    "+t._s(n.count)+" ການຊຳລະ\n                  ")]),t._v(" "),e("div",{staticClass:"percentage"},[t._v("\n                    "+t._s(Math.round(n.lakEquivalent/t.totalLakAmount*100))+"% ຂອງທັງໝົດ\n                  ")])])])])})),1)],1)],1)],1)],1):t._e(),t._v(" "),t.loading?e("div",{staticClass:"text-center py-8"},[e(y.a,{attrs:{indeterminate:"",color:"#01532B",size:"64"}}),t._v(" "),e("p",{staticClass:"mt-4 text-gray-600"},[t._v("\n      ກຳລັງໂຫລດຂໍ້ມູນ... Loading ministry reports...\n    ")])],1):t._e(),t._v(" "),e(x.a,{staticClass:"mb-4"},[e(d.a,{attrs:{cols:"12"}},[e(o.a,{staticClass:"rounded-xl report-card",attrs:{elevation:"2"}},[e(c.d,{staticClass:"ministry-primary--text py-2 px-4 d-flex align-center report-header"},[e(h.a,{staticClass:"mr-2",attrs:{color:"#01532B"}},[t._v("mdi-building")]),t._v(" "),e("span",{staticClass:"text-subtitle-1 font-weight-medium"},[t._v("\n            ລາຍງານ ຕາມກະຊວງ\n          ")]),t._v(" "),e(w.a),t._v(" "),e(k.a,{staticClass:"search-field mr-4",staticStyle:{"max-width":"250px"},attrs:{"append-icon":"mdi-magnify",label:"ຄົ້ນຫາກະຊວງ...","single-line":"","hide-details":"",outlined:"",dense:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),e(r.a,{staticClass:"mr-2",attrs:{color:"#059669",small:"",outlined:"",disabled:!t.filteredMinistries.length,loading:t.exporting},on:{click:t.exportToExcel}},[e(h.a,{attrs:{small:"",left:""}},[t._v("mdi-file-excel")]),t._v("\n            Export Excel\n          ")],1),t._v(" "),e(r.a,{attrs:{icon:"",small:"",loading:t.loading,color:"#01532B"},on:{click:t.loadDashboardData}},[e(h.a,{attrs:{small:""}},[t._v("mdi-refresh")])],1)],1),t._v(" "),e(f.a,{staticClass:"ministry-divider"}),t._v(" "),e(c.c,{staticClass:"pa-0"},[t.loading?e("div",{staticClass:"text-center py-6"},[e(y.a,{attrs:{indeterminate:"",color:"#01532B"}}),t._v(" "),e("div",{staticClass:"mt-2 text-caption"},[t._v("\n              Loading ministry report...\n            ")])],1):t.ministryStats.length?e(C.a,{staticClass:"ministry-table",attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",{staticClass:"ministry-table-header"},[e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("#")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("\n                    Ministry Code\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("\n                    Ministry Name\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("\n                    Ministry Type\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("\n                    Description\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold text-right"},[t._v("\n                    Count\n                  ")]),t._v(" "),t._l(t.currencyList,(function(n){return e("th",{key:"head-"+n.code,staticClass:"white--text text-caption font-weight-bold text-right"},[t._v("\n                    "+t._s(n.code)+"\n                  ")])})),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold text-right"},[t._v("\n                    Total (LAK)\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold text-center"},[t._v("\n                    Actions\n                  ")])],2)]),t._v(" "),e("tbody",[t._l(t.filteredMinistries,(function(n,o){var c,d,m,v,f;return e("tr",{key:n.ministryId,class:{"ministry-row-even":o%2==0,"ministry-row-special":"NO_MINISTRY"===n.ministryId}},[e("td",{staticClass:"text-caption text-center"},[t._v(t._s(o+1))]),t._v(" "),e("td",{staticClass:"text-body-2 font-weight-medium",class:{"grey--text":"NO_MINISTRY"===n.ministryId}},[t._v("\n                    "+t._s((null===(c=n.ministry)||void 0===c?void 0:c.ministryCode)||"N/A")+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-body-2",class:{"grey--text font-italic":"NO_MINISTRY"===n.ministryId}},[t._v("\n                    "+t._s((null===(d=n.ministry)||void 0===d?void 0:d.ministryName)||"Unknown Ministry")+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-body-2"},[e(l.a,{attrs:{"x-small":"",color:t.getMinistryTypeColor(null===(m=n.ministry)||void 0===m?void 0:m.ministryType),"text-color":"white"}},[t._v("\n                      "+t._s((null===(v=n.ministry)||void 0===v?void 0:v.ministryType)||"N/A")+"\n                    ")])],1),t._v(" "),e("td",{staticClass:"text-body-2",class:{"grey--text font-italic":"NO_MINISTRY"===n.ministryId}},[t._v("\n                    "+t._s((null===(f=n.ministry)||void 0===f?void 0:f.description)||"N/A")+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-body-2 text-right"},[e(l.a,{attrs:{"x-small":"",color:"#228B22","text-color":"white"}},[t._v("\n                      "+t._s(n.count)+"\n                    ")])],1),t._v(" "),t._l(t.currencyList,(function(r){var o;return e("td",{key:"amt-"+r.code,staticClass:"text-body-2 text-right"},[t._v("\n                    "+t._s(t.formatCurrency((null===(o=n.amounts)||void 0===o?void 0:o[r.code])||0))+"\n                  ")])})),t._v(" "),e("td",{staticClass:"text-right font-weight-bold ministry-success--text"},[t._v("\n                    "+t._s(t.formatCurrency(n.totalLak||0,"LAK"))+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-center"},[e(r.a,{staticClass:"white--text",attrs:{"x-small":"",color:"#01532B"},on:{click:function(e){return t.selectMinistry(n.ministryId)}}},[e(h.a,{attrs:{"x-small":""}},[t._v("mdi-eye")]),t._v("\n                      ເບິ່ງ\n                    ")],1)],1)],2)})),t._v(" "),e("tr",{staticClass:"ministry-table-footer"},[e("td",{staticClass:"font-weight-bold text-caption",attrs:{colspan:"5"}},[t._v("\n                    ລວມ (Total)\n                  ")]),t._v(" "),e("td",{staticClass:"text-right font-weight-bold text-body-2"},[e(l.a,{attrs:{"x-small":"",color:"#01532B","text-color":"white"}},[t._v("\n                      "+t._s(t.totalSettlementsCount)+"\n                    ")])],1),t._v(" "),t._l(t.currencyList,(function(n){return e("td",{key:"sum-"+n.code,staticClass:"text-right font-weight-bold text-body-2"},[t._v("\n                    "+t._s(t.formatCurrency(t.getCurrencyTotal(n.code)))+"\n                  ")])})),t._v(" "),e("td",{staticClass:"text-right font-weight-bold text-body-2 ministry-primary--text"},[t._v("\n                    "+t._s(t.formatCurrency(t.totalLakAmount,"LAK"))+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-center"},[e(l.a,{attrs:{"x-small":"",color:"grey"}},[t._v(t._s(t.filteredMinistries.length)+" ministries")])],1)],2)],2)]},proxy:!0}])}):e("div",{staticClass:"text-center py-6"},[e(h.a,{attrs:{size:"48",color:"grey lighten-2"}},[t._v("mdi-information-outline")]),t._v(" "),e("div",{staticClass:"mt-2 text-subtitle-2 grey--text"},[t._v("\n              No ministry data available\n            ")])],1)],1)],1)],1)],1),t._v(" "),e(v.a,{attrs:{"max-width":"1200px",scrollable:""},model:{value:t.settlementDialog,callback:function(e){t.settlementDialog=e},expression:"settlementDialog"}},[t.selectedMinistry?e(o.a,[e(c.d,{staticClass:"dialog-header"},[e("i",{staticClass:"fas fa-building"}),t._v("\n        ລາຍລະອຽດການຊຳລະ - "+t._s(t.selectedMinistry.name)+"\n        "),e(w.a),t._v(" "),e(r.a,{staticClass:"close-btn",attrs:{icon:""},on:{click:t.closeDialog}},[e(h.a,[t._v("mdi-close")])],1)],1),t._v(" "),e(c.c,[e(x.a,{staticClass:"summary-section mb-4"},[e(d.a,{attrs:{cols:"12"}},[e("h3",{staticClass:"section-title"},[t._v("\n              ສະຫຼຸບກະຊວງ (Ministry Summary)\n            ")]),t._v(" "),e(f.a,{staticClass:"custom-divider mb-3"})],1),t._v(" "),e(d.a,{attrs:{cols:"6",md:"3"}},[e("div",{staticClass:"detail-stat"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"fas fa-list-ol"})]),t._v(" "),e("div",{staticClass:"stat-info"},[e("strong",[t._v("ຈຳນວນການຊຳລະ:")]),t._v(" "),e("p",{staticClass:"stat-number"},[t._v("\n                  "+t._s(t.settlementSummary.settlementCount)+"\n                ")])])])]),t._v(" "),e(d.a,{attrs:{cols:"6",md:"3"}},[e("div",{staticClass:"detail-stat"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"fas fa-dollar-sign"})]),t._v(" "),e("div",{staticClass:"stat-info"},[e("strong",[t._v("ລວມຈຳນວນເງິນ:")]),t._v(" "),e("p",{staticClass:"stat-number"},[t._v("\n                  $"+t._s(t.formatCurrency(t.settlementSummary.totalAmount))+"\n                ")])])])]),t._v(" "),e(d.a,{attrs:{cols:"6",md:"3"}},[e("div",{staticClass:"detail-stat"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"fas fa-calculator"})]),t._v(" "),e("div",{staticClass:"stat-info"},[e("strong",[t._v("ຄ່າສະເລ່ຍ:")]),t._v(" "),e("p",{staticClass:"stat-number"},[t._v("\n                  $"+t._s(t.formatCurrency(t.settlementSummary.totalAmount/t.settlementSummary.settlementCount))+"\n                ")])])])]),t._v(" "),e(d.a,{attrs:{cols:"6",md:"3"}},[e("div",{staticClass:"detail-stat"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"fas fa-building"})]),t._v(" "),e("div",{staticClass:"stat-info"},[e("strong",[t._v("ລະຫັດກະຊວງ:")]),t._v(" "),e("p",{staticClass:"stat-number"},[t._v("\n                  "+t._s(t.selectedMinistry.code)+"\n                ")])])])])],1),t._v(" "),t.methodDistribution.length>0?e(x.a,{staticClass:"method-distribution mb-4"},[e(d.a,{attrs:{cols:"12"}},[e("h3",{staticClass:"section-title"},[t._v("\n              ການແຈກຢາຍຕາມວິທີການ (Method Distribution)\n            ")]),t._v(" "),e(f.a,{staticClass:"custom-divider mb-3"})],1),t._v(" "),t._l(t.methodDistribution,(function(n){return e(d.a,{key:n.method,attrs:{cols:"12",md:"4"}},[e("div",{staticClass:"method-card"},[e("div",{staticClass:"method-header"},[e(l.a,{attrs:{color:t.getMethodColor(n.method),"text-color":"white",small:""}},[t._v("\n                  "+t._s(t.formatMethod(n.method))+"\n                ")])],1),t._v(" "),e("div",{staticClass:"method-stats"},[e("div",{staticClass:"method-count"},[t._v(t._s(n.count)+" ການຊຳລະ")]),t._v(" "),e("div",{staticClass:"method-amount"},[t._v("\n                  $"+t._s(t.formatCurrency(n.total))+"\n                ")])])])])}))],2):t._e(),t._v(" "),e(x.a,[e(d.a,{attrs:{cols:"12"}},[e("h3",{staticClass:"section-title"},[t._v("\n              ລາຍການການຊຳລະ (Settlement Transactions)\n            ")]),t._v(" "),e(f.a,{staticClass:"custom-divider mb-3"}),t._v(" "),e(m.a,{staticClass:"settlement-table",attrs:{headers:t.settlementHeaders,items:t.selectedSettlements,loading:t.loadingDetails,"items-per-page":10,"footer-props":{itemsPerPageOptions:[5,10,25,50],itemsPerPageText:"ແຖວຕໍ່ໜ້າ:"}},scopedSlots:t._u([{key:"item.bookingDate",fn:function(n){var r=n.item;return[e("span",{staticClass:"date-cell"},[t._v(t._s(t.formatDate(r.bookingDate)))])]}},{key:"item.currency",fn:function(n){var r,o,c=n.item;return[e(l.a,{attrs:{color:t.getCurrencyColor(null===(r=c.currency)||void 0===r?void 0:r.code),"text-color":"white",small:""}},[t._v("\n                  "+t._s((null===(o=c.currency)||void 0===o?void 0:o.code)||"LAK")+"\n                ")])]}},{key:"item.amount",fn:function(n){var r,o=n.item;return[e("div",{staticClass:"amount-breakdown"},[e("span",{staticClass:"amount-cell"},[t._v(t._s(t.formatCurrency(o.amount,null===(r=o.currency)||void 0===r?void 0:r.code)))])])]}},{key:"item.exchangeRate",fn:function(n){var r=n.item;return[e("div",{staticClass:"exchange-rate-cell"},[r.exchangeRate&&1!==r.exchangeRate?e("span",[t._v("\n                    "+t._s(t.formatExchangeRate(r.exchangeRate))+"\n                  ")]):e("span",{staticClass:"default-rate"},[t._v("1.0000")])])]}},{key:"item.lakAmount",fn:function(n){var r=n.item;return[e("div",{staticClass:"lak-amount-cell"},[e("span",{staticClass:"lak-amount"},[t._v(t._s(t.formatCurrency(t.calculateLakAmount(r.amount,r.exchangeRate),"LAK")))])])]}},{key:"item.method",fn:function(n){var r=n.item;return[e(l.a,{attrs:{color:t.getMethodColor(r.method),"text-color":"white",small:""}},[t._v("\n                  "+t._s(t.formatMethod(r.method))+"\n                ")])]}},{key:"item.proceeder",fn:function(n){var r,o=n.item;return[e("div",{staticClass:"user-info"},[e("span",{staticClass:"user-name"},[t._v(t._s((null===(r=o.proceeder)||void 0===r?void 0:r.name)||"N/A"))])])]}},{key:"item.moneyAdvance",fn:function(n){var r=n.item;return[r.moneyAdvance?e("div",{staticClass:"advance-info"},[e(l.a,{attrs:{color:"#01532B","text-color":"white",small:""}},[t._v("\n                    #"+t._s(r.moneyAdvance.id)+"\n                  ")]),t._v(" "),e("div",{staticClass:"advance-status"},[t._v("\n                    "+t._s(r.moneyAdvance.status)+"\n                  ")])],1):e("span",{staticClass:"no-advance"},[t._v("Standalone")])]}},{key:"item.actions",fn:function(n){var o=n.item;return[e(r.a,{attrs:{small:"",color:"#01532B"},on:{click:function(e){return t.viewSettlement(o.id)}}},[e("i",{staticClass:"fas fa-eye"}),t._v("\n                  ເບິ່ງ\n                ")])]}}],null,!1,3682692414)})],1)],1)],1)],1):t._e()],1)],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-section"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"fas fa-building"}),t._v("\n        ລາຍງານຊຳລະຕາມກະຊວງ\n      ")]),t._v(" "),e("p",{staticClass:"page-subtitle"},[t._v("Ministry Settlement Report")])])}],!1,null,"00719b58",null);e.default=component.exports},791:function(t,e,n){var r=n(792).has;t.exports=function(t){return r(t),t}},792:function(t,e,n){var r=n(29),o=Set.prototype;t.exports={Set:Set,add:r(o.add),has:r(o.has),remove:r(o.delete),proto:o}},793:function(t,e,n){var r=n(29),o=n(442),c=n(792),l=c.Set,d=c.proto,m=r(d.forEach),v=r(d.keys),f=v(new l).next;t.exports=function(t,e,n){return n?o(v(t),e,f):m(t,e)}},795:function(t,e,n){var r=n(95),o=n(38),c=n(840),l=n(59),d=r("Set");t.exports=function(t){return function(t){return l(t)&&"number"==typeof t.size&&o(t.has)&&o(t.keys)}(t)?t:c(t)?new d(t):t}},796:function(t,e,n){var r=n(94),o=n(55),c=n(48),l=n(122),d=TypeError,m=Math.max,v=function(t,e,n,r){this.set=t,this.size=e,this.has=n,this.keys=r};v.prototype={getIterator:function(){return o(c(this.keys,this.set))},includes:function(t){return c(this.has,this.set,t)}},t.exports=function(t){o(t);var e=+t.size;if(e!=e)throw d("Invalid size");return new v(t,m(l(e),0),r(t.has),r(t.keys))}},801:function(t,e,n){var r=n(447),o=n(792);t.exports=r(o.proto,"size","get")||function(t){return t.size}},809:function(t,e,n){var r=n(792),o=n(793),c=r.Set,l=r.add;t.exports=function(t){var e=new c;return o(t,(function(t){l(e,t)})),e}},821:function(t,e,n){n(839)},822:function(t,e,n){"use strict";var r=n(13),o=n(791),c=n(792).add;r({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=o(this),e=0,n=arguments.length;e<n;e++)c(t,arguments[e]);return t}})},823:function(t,e,n){"use strict";var r=n(13),o=n(791),c=n(792).remove;r({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),n=!0,r=0,l=arguments.length;r<l;r++)t=c(e,arguments[r]),n=n&&t;return!!n}})},824:function(t,e,n){"use strict";var r=n(13),o=n(48),c=n(795),l=n(841);r({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return o(l,this,c(t))}})},825:function(t,e,n){"use strict";var r=n(13),o=n(71),c=n(791),l=n(793);r({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0);return!1!==l(e,(function(t){if(!n(t,t,e))return!1}),!0)}})},826:function(t,e,n){"use strict";var r=n(13),o=n(71),c=n(791),l=n(792),d=n(793),m=l.Set,v=l.add;r({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=new m;return d(e,(function(t){n(t,t,e)&&v(r,t)})),r}})},827:function(t,e,n){"use strict";var r=n(13),o=n(71),c=n(791),l=n(793);r({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=l(e,(function(t){if(n(t,t,e))return{value:t}}),!0);return r&&r.value}})},828:function(t,e,n){"use strict";var r=n(13),o=n(48),c=n(795),l=n(842);r({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return o(l,this,c(t))}})},829:function(t,e,n){"use strict";var r=n(13),o=n(48),c=n(795),l=n(843);r({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return o(l,this,c(t))}})},830:function(t,e,n){"use strict";var r=n(13),o=n(48),c=n(795),l=n(844);r({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return o(l,this,c(t))}})},831:function(t,e,n){"use strict";var r=n(13),o=n(48),c=n(795),l=n(845);r({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return o(l,this,c(t))}})},832:function(t,e,n){"use strict";var r=n(13),o=n(29),c=n(791),l=n(793),d=n(52),m=o([].join),v=o([].push);r({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=c(this),n=void 0===t?",":d(t),r=[];return l(e,(function(t){v(r,t)})),m(r,n)}})},833:function(t,e,n){"use strict";var r=n(13),o=n(71),c=n(791),l=n(792),d=n(793),m=l.Set,v=l.add;r({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=new m;return d(e,(function(t){v(r,n(t,t,e))})),r}})},834:function(t,e,n){"use strict";var r=n(13),o=n(94),c=n(791),l=n(793),d=TypeError;r({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=c(this),n=arguments.length<2,r=n?void 0:arguments[1];if(o(t),l(e,(function(o){n?(n=!1,r=o):r=t(r,o,o,e)})),n)throw d("Reduce of empty set with no initial value");return r}})},835:function(t,e,n){"use strict";var r=n(13),o=n(71),c=n(791),l=n(793);r({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0);return!0===l(e,(function(t){if(n(t,t,e))return!0}),!0)}})},836:function(t,e,n){"use strict";var r=n(13),o=n(48),c=n(795),l=n(846);r({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return o(l,this,c(t))}})},837:function(t,e,n){"use strict";var r=n(13),o=n(48),c=n(795),l=n(847);r({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return o(l,this,c(t))}})},839:function(t,e,n){"use strict";n(446)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(448))},840:function(t,e,n){var r=n(176),o=n(56),c=n(104),l=n(45),d=n(177),m=l("iterator"),v=Object;t.exports=function(t){if(c(t))return!1;var e=v(t);return void 0!==e[m]||"@@iterator"in e||o(d,r(e))}},841:function(t,e,n){"use strict";var r=n(791),o=n(792),c=n(809),l=n(801),d=n(796),m=n(793),v=n(442),f=o.has,h=o.remove;t.exports=function(t){var e=r(this),n=d(t),o=c(e);return l(e)<=n.size?m(e,(function(t){n.includes(t)&&h(o,t)})):v(n.getIterator(),(function(t){f(e,t)&&h(o,t)})),o}},842:function(t,e,n){"use strict";var r=n(791),o=n(792),c=n(801),l=n(796),d=n(793),m=n(442),v=o.Set,f=o.add,h=o.has;t.exports=function(t){var e=r(this),n=l(t),o=new v;return c(e)>n.size?m(n.getIterator(),(function(t){h(e,t)&&f(o,t)})):d(e,(function(t){n.includes(t)&&f(o,t)})),o}},843:function(t,e,n){"use strict";var r=n(791),o=n(792).has,c=n(801),l=n(796),d=n(793),m=n(442),v=n(335);t.exports=function(t){var e=r(this),n=l(t);if(c(e)<=n.size)return!1!==d(e,(function(t){if(n.includes(t))return!1}),!0);var f=n.getIterator();return!1!==m(f,(function(t){if(o(e,t))return v(f,"normal",!1)}))}},844:function(t,e,n){"use strict";var r=n(791),o=n(801),c=n(793),l=n(796);t.exports=function(t){var e=r(this),n=l(t);return!(o(e)>n.size)&&!1!==c(e,(function(t){if(!n.includes(t))return!1}),!0)}},845:function(t,e,n){"use strict";var r=n(791),o=n(792).has,c=n(801),l=n(796),d=n(442),m=n(335);t.exports=function(t){var e=r(this),n=l(t);if(c(e)<n.size)return!1;var v=n.getIterator();return!1!==d(v,(function(t){if(!o(e,t))return m(v,"normal",!1)}))}},846:function(t,e,n){"use strict";var r=n(791),o=n(792),c=n(809),l=n(796),d=n(442),m=o.add,v=o.has,f=o.remove;t.exports=function(t){var e=r(this),n=l(t).getIterator(),o=c(e);return d(n,(function(t){v(e,t)?f(o,t):m(o,t)})),o}},847:function(t,e,n){"use strict";var r=n(791),o=n(792).add,c=n(809),l=n(796),d=n(442);t.exports=function(t){var e=r(this),n=l(t).getIterator(),m=c(e);return d(n,(function(t){o(m,t)})),m}}}]);