(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{1787:function(e,t,r){"use strict";r.r(t);var n=r(316),o=r(313),c=r(18),l=r(317),d=r(789),f=r(754),m=r(167),v=r(777),h=(r(35),r(131),r(5),r(53),r(3)),O=r(20),w=(r(10),r(7),r(9),r(11),r(8),r(12),r(92),r(36)),j=r(40);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var y={props:{histories:{type:Array,require:!0}},data:function(){return{search:"",headers:[{text:"Name",align:"end",value:"name",sortable:!1},{text:"ລາຄາ",align:"end",value:"amount",sortable:!1},{text:"ສູດຄິດໄລ່",align:"end",value:"type",sortable:!1},{text:"ລົບ",align:"end",value:"id",sortable:!1}],isloading:!1}},created:function(){var e=this;return Object(O.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.form.productId=e.recordId,e.loadEntry();case 2:case"end":return t.stop()}}),t)})))()},methods:{formatNumber:function(e){return Object(w.e)(e)},commitRecord:function(){var e=this;return Object(O.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()||e.isloading){t.next=18;break}return e.isloading=!0,r="api/priceList/create",console.log("API => ",r),t.prev=4,t.next=7,e.$axios.post(r,e.form);case 7:return n=t.sent,console.log("Load data ".concat(JSON.stringify(n))),t.next=11,e.loadEntry();case 11:Object(w.k)(e.$swal,"Succeed","Your transaction completed"),t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(4),t.abrupt("return",Object(w.j)(e.$swal,"Error","ເກີດຂໍ້ຜິດພາດ ກະລຸນາລອງໃຫມ່ ພາຍຫລັງ"));case 17:e.isloading=!1;case 18:case"end":return t.stop()}}),t,null,[[4,14]])})))()},deleteItem:function(e){var t=this;return Object(O.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.isloading){r.next=18;break}return t.isloading=!0,n="api/priceList/find/".concat(e.id),console.log("API => ",n),r.prev=4,r.next=7,t.$axios.delete(n);case 7:return r.sent,console.log("Load data "),r.next=11,t.loadEntry();case 11:Object(w.k)(t.$swal,"Succeed","Your transaction has been deleted"),r.next=17;break;case 14:return r.prev=14,r.t0=r.catch(4),r.abrupt("return",Object(w.j)(t.$swal,"Error","ເກີດຂໍ້ຜິດພາດ ກະລຸນາລອງໃຫມ່ ພາຍຫລັງ"));case 17:t.isloading=!1;case 18:case"end":return r.stop()}}),r,null,[[4,14]])})))()},loadEntry:function(){var e=this;return Object(O.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Loading data ...."),t.prev=1,t.next=4,e.$axios.get("api/priceList/findByProductId/".concat(e.recordId));case 4:r=t.sent,e.entries=r.data,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(1),console.log("Cannot fetch data "+t.t0),t.abrupt("return",Object(w.j)(e.$swal,"Error","ເກີດຂໍ້ຜິດພາດ ກະລຸນາລອງໃຫມ່ ພາຍຫລັງ"));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},refreshData:function(){this.$emit("reload-data")}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(h.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(j.c)(["findAllProduct","findAllClient","findAllPayment","findAllUnit","findAllCurrency"]))},k=y,P=r(32),component=Object(P.a)(k,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center"},[t(f.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.isloading,callback:function(t){e.isloading=t},expression:"isloading"}},[t("loading-indicator")],1),e._v(" "),t(o.a,{staticClass:"pa-4"},[t(c.d,[t(l.a,{staticClass:"ma-0",attrs:{color:"primary",label:"","text-color":"white"}},[t(m.a,{attrs:{start:""}},[e._v("mdi-label")]),e._v("\n                ປະຫວັດ ອໍເດີ\n            ")],1)],1),e._v(" "),t(c.c,[t(d.a,{attrs:{headers:e.headers,search:e.search,items:e.entries},scopedSlots:e._u([{key:"item.id",fn:function(r){var o=r.item;return[t(n.a,{attrs:{color:"warning",text:""},on:{click:function(t){return e.deleteItem(o)}}},[t("i",{staticClass:"fa fa-trash"})])]}},{key:"item.amount",fn:function(t){var r=t.item;return[e._v("\n                    "+e._s(e.formatNumber(r.amount))+"\n                ")]}}],null,!0)})],1),e._v(" "),t(c.a,[t(v.a),e._v(" "),t(n.a,{attrs:{color:"warning",rounded:"",variant:"text"},on:{click:function(t){return e.$emit("close-dialog")}}},[e._v("\n                Close\n            ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{LoadingIndicator:r(248).default})}}]);