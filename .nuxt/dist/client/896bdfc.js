(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{904:function(e,t,n){var content=n(950);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("3bcd7bf8",content,!0,{sourceMap:!1})},949:function(e,t,n){"use strict";n(904)},950:function(e,t,n){var r=n(14)((function(i){return i[1]}));r.push([e.i,'.modal-overlay[data-v-e6a23e30]{align-items:center;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:rgba(0,0,0,.6);bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1000}.comparison-dialog[data-v-e6a23e30]{background:#fff;border-radius:12px;box-shadow:0 20px 60px rgba(0,0,0,.3);max-height:90vh;max-width:1000px;overflow:hidden;width:95%}.modal-header[data-v-e6a23e30]{align-items:center;background:linear-gradient(135deg,#667eea,#764ba2);border-bottom:1px solid #e9ecef;color:#fff;display:flex;justify-content:space-between;padding:24px}.modal-title-section[data-v-e6a23e30]{align-items:center;display:flex;gap:12px}.modal-icon[data-v-e6a23e30]{font-size:20px}.modal-title[data-v-e6a23e30]{font-size:18px;font-weight:600;margin:0}.close-btn[data-v-e6a23e30]{background:none;border:none;border-radius:4px;color:#fff;cursor:pointer;font-size:18px;opacity:.8;padding:8px;transition:opacity .2s}.close-btn[data-v-e6a23e30]:hover{background:hsla(0,0%,100%,.1);opacity:1}.modal-body[data-v-e6a23e30]{max-height:70vh;overflow-y:auto;padding:0}.error-state[data-v-e6a23e30],.loading-state[data-v-e6a23e30],.no-differences[data-v-e6a23e30],.select-versions-prompt[data-v-e6a23e30]{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:60px 20px;text-align:center}.spinner[data-v-e6a23e30]{animation:spin-e6a23e30 1s linear infinite;border:4px solid #f3f3f3;border-radius:50%;border-top-color:#667eea;height:40px;margin-bottom:20px;width:40px}@keyframes spin-e6a23e30{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.error-icon[data-v-e6a23e30],.no-diff-icon[data-v-e6a23e30],.prompt-icon[data-v-e6a23e30]{font-size:48px;margin-bottom:20px;opacity:.6}.error-icon[data-v-e6a23e30]{color:#e74c3c}.prompt-icon[data-v-e6a23e30]{color:#3498db}.no-diff-icon[data-v-e6a23e30]{color:#27ae60}.version-selector[data-v-e6a23e30]{grid-gap:20px;align-items:end;background:#f8f9fa;border-bottom:1px solid #e9ecef;display:grid;gap:20px;grid-template-columns:1fr auto 1fr;padding:24px}.selector-group[data-v-e6a23e30]{display:flex;flex-direction:column;gap:8px}.selector-group label[data-v-e6a23e30]{color:#2c3e50;font-size:14px;font-weight:600}.form-control[data-v-e6a23e30]{background:#fff;border:2px solid #e5e7eb;border-radius:8px;font-size:14px;padding:12px 16px;transition:border-color .2s ease}.form-control[data-v-e6a23e30]:focus{border-color:#667eea;outline:none}.comparison-arrow[data-v-e6a23e30]{align-items:center;background:#667eea;border-radius:50%;color:#fff;display:flex;font-size:16px;height:40px;justify-content:center;margin-top:24px;width:40px}.comparison-results[data-v-e6a23e30]{padding:24px}.comparison-summary[data-v-e6a23e30]{grid-gap:16px;display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));margin-bottom:24px}.summary-card[data-v-e6a23e30]{background:#fff;border:1px solid #e9ecef;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.05);gap:12px;padding:16px}.summary-card[data-v-e6a23e30],.summary-icon[data-v-e6a23e30]{align-items:center;display:flex}.summary-icon[data-v-e6a23e30]{background:#667eea;border-radius:50%;color:#fff;font-size:16px;height:40px;justify-content:center;width:40px}.summary-number[data-v-e6a23e30]{color:#2c3e50;font-size:20px;font-weight:700}.summary-text[data-v-e6a23e30]{color:#2c3e50;font-size:12px;font-weight:600;word-break:break-word}.summary-label[data-v-e6a23e30]{color:#7f8c8d;font-size:11px;margin-top:4px}.differences-table h6[data-v-e6a23e30]{align-items:center;color:#2c3e50;display:flex;font-size:16px;font-weight:600;gap:8px;margin-bottom:16px}.table-container[data-v-e6a23e30]{border:1px solid #e9ecef;border-radius:8px;overflow:hidden}.comparison-table[data-v-e6a23e30]{background:#fff;border-collapse:collapse;width:100%}.comparison-table th[data-v-e6a23e30]{background:#f8f9fa;border-bottom:2px solid #e9ecef;font-size:13px;font-weight:600;padding:16px 12px;text-align:left}.field-header[data-v-e6a23e30]{color:#495057;width:200px}.version-header[data-v-e6a23e30]{position:relative}.version-header.version1[data-v-e6a23e30]{background:linear-gradient(135deg,#ffe6e6,#fcc)}.version-header.version2[data-v-e6a23e30]{background:linear-gradient(135deg,#e6ffe6,#cfc)}.version-info[data-v-e6a23e30]{text-align:center}.version-label[data-v-e6a23e30]{color:#2c3e50;font-weight:700}.version-date[data-v-e6a23e30]{color:#7f8c8d;font-size:11px;margin-top:2px}.comparison-table td[data-v-e6a23e30]{border-bottom:1px solid #f1f3f4;padding:16px 12px;vertical-align:top}.diff-row[data-v-e6a23e30]:hover{background:#f8f9fa}.field-cell[data-v-e6a23e30]{background:#fafbfc;border-right:1px solid #e9ecef}.field-info[data-v-e6a23e30]{align-items:center;display:flex;gap:8px}.field-info i[data-v-e6a23e30]{color:#6c757d;text-align:center;width:16px}.field-name[data-v-e6a23e30]{color:#495057;font-size:13px;font-weight:600}.value-cell[data-v-e6a23e30]{position:relative}.value-cell.version1[data-v-e6a23e30]{background:#fff8f8}.value-cell.version2[data-v-e6a23e30]{background:#f8fff8}.value-content[data-v-e6a23e30]{align-items:center;display:flex;justify-content:space-between;min-height:24px;position:relative}.value-text[data-v-e6a23e30]{background:hsla(0,0%,100%,.8);border:1px solid transparent;border-radius:4px;flex:1;font-family:"Monaco","Menlo","Ubuntu Mono",monospace;font-size:12px;padding:6px 10px}.old-value .value-text[data-v-e6a23e30]{background:#fef2f2;border-color:#fecaca;color:#dc2626}.new-value .value-text[data-v-e6a23e30]{background:#f0fdf4;border-color:#bbf7d0;color:#059669}.change-indicator[data-v-e6a23e30]{color:#3b82f6;font-size:12px;margin-left:8px;opacity:.7}.comparison-actions[data-v-e6a23e30]{gap:12px;justify-content:center;margin-top:24px;padding-top:24px}.comparison-actions[data-v-e6a23e30],.modal-footer[data-v-e6a23e30]{border-top:1px solid #e9ecef;display:flex}.modal-footer[data-v-e6a23e30]{align-items:center;background:#f8f9fa;justify-content:space-between;padding:20px 24px}.btn[data-v-e6a23e30]{align-items:center;border:none;border-radius:6px;cursor:pointer;display:inline-flex;font-size:14px;font-weight:500;gap:8px;padding:10px 20px;-webkit-text-decoration:none;text-decoration:none;transition:all .2s ease}.btn[data-v-e6a23e30]:hover:not(:disabled){box-shadow:0 4px 12px rgba(0,0,0,.15);transform:translateY(-1px)}.btn[data-v-e6a23e30]:disabled{cursor:not-allowed;opacity:.6;transform:none!important}.btn-primary[data-v-e6a23e30]{background:#667eea;color:#fff}.btn-secondary[data-v-e6a23e30]{background:#6c757d;color:#fff}.btn-warning[data-v-e6a23e30]{background:#f39c12;color:#fff}.btn-outline[data-v-e6a23e30]{background:#fff;border:2px solid #667eea;color:#667eea}.btn-outline[data-v-e6a23e30]:hover:not(:disabled){background:#667eea;color:#fff}.btn-sm[data-v-e6a23e30]{font-size:12px;padding:8px 16px}@media (max-width:768px){.comparison-dialog[data-v-e6a23e30]{margin:10px;width:98%}.version-selector[data-v-e6a23e30]{gap:16px;grid-template-columns:1fr}.comparison-arrow[data-v-e6a23e30]{margin:0 auto;transform:rotate(90deg)}.comparison-summary[data-v-e6a23e30]{grid-template-columns:1fr}.comparison-table[data-v-e6a23e30]{font-size:12px}.comparison-table td[data-v-e6a23e30],.comparison-table th[data-v-e6a23e30]{padding:12px 8px}.field-header[data-v-e6a23e30]{width:auto}.modal-footer[data-v-e6a23e30]{gap:12px}.comparison-actions[data-v-e6a23e30],.modal-footer[data-v-e6a23e30]{flex-direction:column}}',""]),r.locals={},e.exports=r},978:function(e,t,n){"use strict";n.r(t);n(39),n(9),n(5),n(10);var r=n(32),o=n(17),c=(n(85),n(24),n(8),n(64),n(30),n(38),n(52),n(54),n(53),n(833),n(448),n(346),n(103),n(34),n(75),{name:"VersionComparisonDialog",props:{show:{type:Boolean,default:!1},recordId:{type:[Number,String],required:!0},recordData:{type:Object,default:null},initialComparison:{type:Object,default:null},canRestore:{type:Boolean,default:!1}},data:function(){return{loading:!1,error:null,availableVersions:[],selectedVersion1:null,selectedVersion2:null,comparisonData:null,fieldLabels:{amount:"ຈຳນວນເງິນ",purpose:"ຈຸດປະສົງ",status:"ສະຖານະ",dueDate:"ວັນຄົບກຳນົດ",note:"ໝາຍເຫດ",ministryId:"ກະຊວງ",bankAccountId:"ບັນຊີທະນາຄານ",currencyId:"ສະກຸນເງິນ",bookingDate:"ວັນທີ່ລົງບັນຊີ",exchangeRate:"ອັດຕາແລກປ່ຽນ",makerId:"ຜູ້ລົງບັນຊີ",checkerId:"ຜູ້ອະນຸມັດ",approvedAt:"ວັນທີ່ອະນຸມັດ"}}},watch:{show:function(e){e&&this.initializeDialog()},initialComparison:{handler:function(e){e&&this.show&&this.setupInitialComparison()},immediate:!0}},methods:{initializeDialog:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.initialComparison){t.next=4;break}e.setupInitialComparison(),t.next=6;break;case 4:return t.next=6,e.fetchAvailableVersions();case 6:case"end":return t.stop()}}),t)})))()},setupInitialComparison:function(){this.initialComparison.current&&this.initialComparison.previous&&(this.selectedVersion1=this.initialComparison.previous.id,this.selectedVersion2=this.initialComparison.current.id,this.comparisonData={currentVersion:this.initialComparison.current.version||1,compareVersion:this.initialComparison.previous.version||1,differences:this.calculateDifferences(this.initialComparison.previous,this.initialComparison.current)})},calculateDifferences:function(e,t){var n={};return Object.keys(this.fieldLabels).forEach((function(r){var o,c,l=(null===(o=e.data)||void 0===o?void 0:o[r])||e[r],d=(null===(c=t.data)||void 0===c?void 0:c[r])||t[r];l!==d&&(n[r]={current:d,version:l})})),n},fetchAvailableVersions:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,data,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.recordId){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,e.error=null,t.prev=4,t.next=7,e.$axios.get("/api/money-advances/".concat(e.recordId,"/audit"));case 7:if(n=t.sent,!(data=n.data).success){t.next=13;break}e.availableVersions=data.data.map((function(e){return{id:e.id,version:e.version||1,action:e.action,changedAt:e.changedAt,changedBy:e.changedBy,data:e.newData||e.oldData||{}}})),t.next=14;break;case 13:throw new Error(data.message||"Failed to fetch versions");case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(4),console.error("Error fetching versions:",t.t0),e.error=(null===(r=t.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)||t.t0.message;case 20:return t.prev=20,e.loading=!1,t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[4,16,20,23]])})))()},loadComparison:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedVersion1&&e.selectedVersion2){t.next=3;break}return e.comparisonData=null,t.abrupt("return");case 3:try{n=e.availableVersions.find((function(t){return t.id===e.selectedVersion1})),r=e.availableVersions.find((function(t){return t.id===e.selectedVersion2})),n&&r&&(e.comparisonData={currentVersion:r.version,compareVersion:n.version,differences:e.calculateDifferences(n,r)})}catch(t){console.error("Error loading comparison:",t),e.error="ເກີດຂໍ້ຜິດພາດໃນການປຽບທຽບ"}case 4:case"end":return t.stop()}}),t)})))()},getVersionLabel:function(e){var t=new Date(e.changedAt).toLocaleDateString("lo-LA"),n={CREATE:"ສ້າງ",UPDATE:"ແກ້ໄຂ",APPROVE:"ອະນຸມັດ",SETTLE:"ຊຳລະ",DELETE:"ລົບ"}[e.action]||e.action;return"v".concat(e.version," - ").concat(n," (").concat(t,")")},getVersionNumber:function(e){var t=this.availableVersions.find((function(t){return t.id===e}));return(null==t?void 0:t.version)||"?"},getVersionDate:function(e){var t=this.availableVersions.find((function(t){return t.id===e}));return t?new Date(t.changedAt).toLocaleDateString("lo-LA"):""},getTimeDifference:function(){var e=this;if(!this.selectedVersion1||!this.selectedVersion2)return 0;var t=this.availableVersions.find((function(t){return t.id===e.selectedVersion1})),n=this.availableVersions.find((function(t){return t.id===e.selectedVersion2}));if(t&&n){var r=new Date(t.changedAt),o=new Date(n.changedAt),c=Math.abs(o-r);return Math.ceil(c/864e5)}return 0},getDifferentUsers:function(){var e=this;if(!this.selectedVersion1||!this.selectedVersion2)return"N/A";var t=this.availableVersions.find((function(t){return t.id===e.selectedVersion1})),n=this.availableVersions.find((function(t){return t.id===e.selectedVersion2}));return t&&n?t.changedBy===n.changedBy?t.changedBy||"ບໍ່ຮູ້":"".concat(t.changedBy||"ບໍ່ຮູ້"," → ").concat(n.changedBy||"ບໍ່ຮູ້"):"N/A"},getFieldIcon:function(e){return{amount:"fas fa-dollar-sign",purpose:"fas fa-tag",status:"fas fa-flag",dueDate:"fas fa-calendar",note:"fas fa-sticky-note",ministryId:"fas fa-building",bankAccountId:"fas fa-university",currencyId:"fas fa-coins",bookingDate:"fas fa-calendar-day",exchangeRate:"fas fa-exchange-alt",makerId:"fas fa-user",checkerId:"fas fa-user-check",approvedAt:"fas fa-calendar-check"}[e]||"fas fa-info-circle"},getFieldLabel:function(e){return this.fieldLabels[e]||e},formatValue:function(e){if(null==e)return"N/A";if("boolean"==typeof e)return e?"ແມ່ນ":"ບໍ່";if("number"==typeof e)return e.toLocaleString();if("string"==typeof e&&e.includes("T"))try{return new Date(e).toLocaleDateString("lo-LA")}catch(t){return e}return String(e)},swapVersions:function(){var e=this.selectedVersion1;this.selectedVersion1=this.selectedVersion2,this.selectedVersion2=e,this.loadComparison()},restoreToVersion:function(e){var t=this.availableVersions.find((function(t){return t.id===e}));t&&this.$emit("restore",t)},exportComparison:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,link;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.comparisonData){t.next=2;break}return t.abrupt("return");case 2:try{n=e.generateComparisonCSV(),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=window.URL.createObjectURL(r),(link=document.createElement("a")).href=o,link.download="comparison-".concat(e.recordId,"-v").concat(e.getVersionNumber(e.selectedVersion1),"-v").concat(e.getVersionNumber(e.selectedVersion2),".csv"),document.body.appendChild(link),link.click(),document.body.removeChild(link),window.URL.revokeObjectURL(o),e.$emit("success","ສົ່ງອອກການປຽບທຽບສຳເລັດ")}catch(t){console.error("Export error:",t),e.$emit("error","ເກີດຂໍ້ຜິດພາດໃນການສົ່ງອອກ")}case 3:case"end":return t.stop()}}),t)})))()},generateComparisonCSV:function(){var e=this,t=[["Field","Version 1 Value","Version 2 Value"]];return Object.entries(this.comparisonData.differences).forEach((function(n){var o=Object(r.a)(n,2),c=o[0],l=o[1];t.push([e.getFieldLabel(c),e.formatValue(l.version),e.formatValue(l.current)])})),t.map((function(e){return e.map((function(e){return'"'.concat(String(e).replace(/"/g,'""'),'"')})).join(",")})).join("\n")},closeDialog:function(){this.selectedVersion1=null,this.selectedVersion2=null,this.comparisonData=null,this.$emit("close")}}}),l=(n(949),n(31)),component=Object(l.a)(c,(function(){var e,t=this,n=t._self._c;return t.show?n("div",{staticClass:"modal-overlay",on:{click:t.closeDialog}},[n("div",{staticClass:"modal-dialog comparison-dialog",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"modal-header"},[n("div",{staticClass:"modal-title-section"},[n("i",{staticClass:"fas fa-code-compare modal-icon"}),t._v(" "),n("h5",{staticClass:"modal-title"},[t._v("\n          ປຽບທຽບເວີຊັ່ນ - "+t._s((null===(e=t.recordData)||void 0===e?void 0:e.purpose)||"Record #".concat(t.recordId))+"\n        ")])]),t._v(" "),n("button",{staticClass:"close-btn",on:{click:t.closeDialog}},[n("i",{staticClass:"fas fa-times"})])]),t._v(" "),n("div",{staticClass:"modal-body"},[t.loading?n("div",{staticClass:"loading-state"},[n("div",{staticClass:"spinner"}),t._v(" "),n("p",[t._v("ກຳລັງໂຫຼດຂໍ້ມູນສຳລັບປຽບທຽບ...")])]):t.error?n("div",{staticClass:"error-state"},[t._m(0),t._v(" "),n("h6",[t._v("ເກີດຂໍ້ຜິດພາດໃນການໂຫຼດຂໍ້ມູນ")]),t._v(" "),n("p",[t._v(t._s(t.error))]),t._v(" "),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.fetchComparisonData}},[n("i",{staticClass:"fas fa-redo"}),t._v("\n          ລອງໃໝ່\n        ")])]):n("div",{staticClass:"comparison-content"},[n("div",{staticClass:"version-selector"},[n("div",{staticClass:"selector-group"},[n("label",[t._v("ເວີຊັ່ນທີ່ 1 (ເກົ່າ):")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedVersion1,expression:"selectedVersion1"}],staticClass:"form-control",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));t.selectedVersion1=e.target.multiple?n:n[0]},t.loadComparison]}},[n("option",{attrs:{value:""}},[t._v("ເລືອກເວີຊັ່ນ...")]),t._v(" "),t._l(t.availableVersions,(function(e){return n("option",{key:e.id,attrs:{disabled:e.id===t.selectedVersion2},domProps:{value:e.id}},[t._v("\n                "+t._s(t.getVersionLabel(e))+"\n              ")])}))],2)]),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"selector-group"},[n("label",[t._v("ເວີຊັ່ນທີ່ 2 (ໃໝ່):")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedVersion2,expression:"selectedVersion2"}],staticClass:"form-control",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));t.selectedVersion2=e.target.multiple?n:n[0]},t.loadComparison]}},[n("option",{attrs:{value:""}},[t._v("ເລືອກເວີຊັ່ນ...")]),t._v(" "),t._l(t.availableVersions,(function(e){return n("option",{key:e.id,attrs:{disabled:e.id===t.selectedVersion1},domProps:{value:e.id}},[t._v("\n                "+t._s(t.getVersionLabel(e))+"\n              ")])}))],2)])]),t._v(" "),t.comparisonData?n("div",{staticClass:"comparison-results"},[n("div",{staticClass:"comparison-summary"},[n("div",{staticClass:"summary-card"},[t._m(2),t._v(" "),n("div",{staticClass:"summary-info"},[n("div",{staticClass:"summary-number"},[t._v(t._s(Object.keys(t.comparisonData.differences||{}).length))]),t._v(" "),n("div",{staticClass:"summary-label"},[t._v("ການປ່ຽນແປງ")])])]),t._v(" "),n("div",{staticClass:"summary-card"},[t._m(3),t._v(" "),n("div",{staticClass:"summary-info"},[n("div",{staticClass:"summary-number"},[t._v(t._s(t.getTimeDifference()))]),t._v(" "),n("div",{staticClass:"summary-label"},[t._v("ວັນຫ່າງກັນ")])])]),t._v(" "),n("div",{staticClass:"summary-card"},[t._m(4),t._v(" "),n("div",{staticClass:"summary-info"},[n("div",{staticClass:"summary-text"},[t._v(t._s(t.getDifferentUsers()))]),t._v(" "),n("div",{staticClass:"summary-label"},[t._v("ຜູ້ປ່ຽນແປງ")])])])]),t._v(" "),0===Object.keys(t.comparisonData.differences||{}).length?n("div",{staticClass:"no-differences"},[t._m(5),t._v(" "),n("h6",[t._v("ບໍ່ມີການປ່ຽນແປງ")]),t._v(" "),n("p",[t._v("ເວີຊັ່ນທັງສອງມີຂໍ້ມູນຄືກັນ")])]):n("div",{staticClass:"differences-table"},[t._m(6),t._v(" "),n("div",{staticClass:"table-container"},[n("table",{staticClass:"comparison-table"},[n("thead",[n("tr",[n("th",{staticClass:"field-header"},[t._v("ຟິວ")]),t._v(" "),n("th",{staticClass:"version-header version1"},[n("div",{staticClass:"version-info"},[n("div",{staticClass:"version-label"},[t._v("ເວີຊັ່ນ "+t._s(t.getVersionNumber(t.selectedVersion1)))]),t._v(" "),n("div",{staticClass:"version-date"},[t._v(t._s(t.getVersionDate(t.selectedVersion1)))])])]),t._v(" "),n("th",{staticClass:"version-header version2"},[n("div",{staticClass:"version-info"},[n("div",{staticClass:"version-label"},[t._v("ເວີຊັ່ນ "+t._s(t.getVersionNumber(t.selectedVersion2)))]),t._v(" "),n("div",{staticClass:"version-date"},[t._v(t._s(t.getVersionDate(t.selectedVersion2)))])])])])]),t._v(" "),n("tbody",t._l(t.comparisonData.differences,(function(e,r){return n("tr",{key:r,staticClass:"diff-row"},[n("td",{staticClass:"field-cell"},[n("div",{staticClass:"field-info"},[n("i",{class:t.getFieldIcon(r)}),t._v(" "),n("span",{staticClass:"field-name"},[t._v(t._s(t.getFieldLabel(r)))])])]),t._v(" "),n("td",{staticClass:"value-cell version1"},[n("div",{staticClass:"value-content old-value"},[n("div",{staticClass:"value-text"},[t._v(t._s(t.formatValue(e.current)))])])]),t._v(" "),n("td",{staticClass:"value-cell version2"},[n("div",{staticClass:"value-content new-value"},[n("div",{staticClass:"value-text"},[t._v(t._s(t.formatValue(e.version)))]),t._v(" "),t._m(7,!0)])])])})),0)])])]),t._v(" "),Object.keys(t.comparisonData.differences||{}).length>0?n("div",{staticClass:"comparison-actions"},[t.canRestore?n("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.restoreToVersion(t.selectedVersion1)}}},[n("i",{staticClass:"fas fa-undo"}),t._v("\n              ກັບຄືນໄປເວີຊັ່ນ "+t._s(t.getVersionNumber(t.selectedVersion1))+"\n            ")]):t._e(),t._v(" "),n("button",{staticClass:"btn btn-secondary",on:{click:t.exportComparison}},[n("i",{staticClass:"fas fa-download"}),t._v("\n              ສົ່ງອອກການປຽບທຽບ\n            ")])]):t._e()]):n("div",{staticClass:"select-versions-prompt"},[t._m(8),t._v(" "),n("h6",[t._v("ເລືອກເວີຊັ່ນເພື່ອປຽບທຽບ")]),t._v(" "),n("p",[t._v("ກະລຸນາເລືອກສອງເວີຊັ່ນທີ່ທ່ານຕ້ອງການປຽບທຽບ")])])])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-outline",attrs:{disabled:!t.selectedVersion1||!t.selectedVersion2},on:{click:t.swapVersions}},[n("i",{staticClass:"fas fa-exchange-alt"}),t._v("\n        ສະຫຼັບເວີຊັ່ນ\n      ")]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:t.closeDialog}},[n("i",{staticClass:"fas fa-times"}),t._v("\n        ປິດ\n      ")])])])]):t._e()}),[function(){var e=this._self._c;return e("div",{staticClass:"error-icon"},[e("i",{staticClass:"fas fa-exclamation-triangle"})])},function(){var e=this._self._c;return e("div",{staticClass:"comparison-arrow"},[e("i",{staticClass:"fas fa-exchange-alt"})])},function(){var e=this._self._c;return e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-edit"})])},function(){var e=this._self._c;return e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-calendar"})])},function(){var e=this._self._c;return e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-user"})])},function(){var e=this._self._c;return e("div",{staticClass:"no-diff-icon"},[e("i",{staticClass:"fas fa-equals"})])},function(){var e=this._self._c;return e("h6",[e("i",{staticClass:"fas fa-list"}),this._v("\n              ລາຍລະອຽດການປ່ຽນແປງ\n            ")])},function(){var e=this._self._c;return e("div",{staticClass:"change-indicator"},[e("i",{staticClass:"fas fa-arrow-left"})])},function(){var e=this._self._c;return e("div",{staticClass:"prompt-icon"},[e("i",{staticClass:"fas fa-hand-pointer"})])}],!1,null,"e6a23e30",null);t.default=component.exports}}]);