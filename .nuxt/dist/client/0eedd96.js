(window.webpackJsonp=window.webpackJsonp||[]).push([[255,5,77,159,235],{1816:function(t,e,r){"use strict";r.r(e);var o=r(318),n=r(19),l=r(322),c=r(797),d=r(1744),f=r(771),m=r(168),v=r(323),h=r(796),_=r(112),y=(r(10),r(7),r(12),r(8),r(13),r(63),r(35),r(69),r(54),r(34),r(67),r(93),r(53),r(32)),D=r(3),x=r(17),w=(r(5),r(9),r(30),r(337),r(85),r(877)),C=r(871),S=r(875),O=r(37),k=r(44);function P(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,l=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return l=t.done,t},e:function(t){c=!0,n=t},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw n}}}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function j(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function L(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(e){Object(D.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var R={components:{ProductForm:w.default,ProductFormCreate:S.default,PriceListForm:C.default},middleware:"auths",data:function(){return{date:Object(O.d)(),date2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),dateFormatted:this.formatDate(Object(O.d)()),dateFormatted2:this.formatDate(new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)),menu1:!1,menu2:!1,guidelineDialog:!1,isloading:!1,dialogMessage:!1,message:"",loaddata:[],pageLine:30,search:""}},watch:{message:function(t){this.dialogMessage=null!=t},date:function(t){this.dateFormatted=this.formatDate(this.date),this.fetchData()},date2:function(t){this.dateFormatted2=this.formatDate(this.date2),this.fetchData()}},mounted:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:case"end":return e.stop()}}),e)})))()},computed:L(L({},Object(k.c)(["currentSelectedLocation","findAllLocation"])),{},{grandSaleTotal:function(){return this.loaddata.reduce((function(t,e){return t+e.total}),0)},grandSaleDiscountTotal:function(){return this.loaddata.filter((function(t){return 1==t.isActive})).reduce((function(t,e){return t+e.discount}),0)},grandSaleCancelTotal:function(){return console.log("Sale cancel status ".concat(this.loaddata.filter((function(t){return 0==t.isActive})).length)),this.loaddata.filter((function(t){return 0==t.isActive})).reduce((function(t,e){return t+e.total}),0)},grandSaleCost:function(){var t,e=0,r=P(this.loaddata.filter((function(t){return 1==t.isActive})));try{for(r.s();!(t=r.n()).done;){var o=t.value;console.log("Sale ID: ".concat(o.id));var n,l=P(o.lines);try{for(l.s();!(n=l.n()).done;){var line=n.value;console.log("  Line ID: ".concat(line.lineId));var c,d=0,f=P(line.cards);try{for(f.s();!(c=f.n()).done;){var m=c.value;console.log("    Card Number: ".concat(m.cardNumber,", Value: ").concat(m.value)),d+=m.cost}}catch(t){f.e(t)}finally{f.f()}console.log("  Total Line Value: ".concat(d)),e+=d}}catch(t){l.e(t)}finally{l.f()}console.log("Total Sale Value: ".concat(e))}}catch(t){r.e(t)}finally{r.f()}return e},grandCODCost:function(){var t,e=0,r=P(this.loaddata.filter((function(t){return 1==t.isActive})));try{for(r.s();!(t=r.n()).done;){var o=t.value;console.log("Sale ID: ".concat(o.id)),o.dynamic_customer&&(e+=o.dynamic_customer.cod_fee,o.dynamic_customer.cancel_fee),console.log("Total Sale Value: ".concat(e))}}catch(t){r.e(t)}finally{r.f()}return e},grandCancellationCost:function(){var t,e=0,r=P(this.loaddata.filter((function(t){return 0==t.isActive})));try{for(r.s();!(t=r.n()).done;){var o=t.value;console.log("Sale ID: ".concat(o.id)),o.dynamic_customer&&(e+=o.dynamic_customer.cancel_fee),console.log("Total cancellation fee: ".concat(e))}}catch(t){r.e(t)}finally{r.f()}return e},netProfit:function(){return this.grandSaleTotal-(this.grandSaleCancelTotal+this.grandSaleDiscountTotal)-(this.grandSaleCost+this.grandCODCost+this.grandCancellationCost)}}),methods:{formatNumber:function(t){return Object(O.e)(t)},formatDate:function(t){if(!t)return null;console.log("DATE FORMAT METHOD1: "+t);var e=this.formatDateToISO(t).split("-"),r=Object(y.a)(e,3),o=r[0],n=r[1],l=r[2];return"".concat(n,"/").concat(l,"/").concat(o)},parseDate:function(t){if(console.log("DATE PARSE METHOD1: "+t),!t)return null;var e=t.split("/"),r=Object(y.a)(e,3),o=r[0],n=r[1],l=r[2];return"".concat(l,"-").concat(o.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},formatDateToISO:function(t){t instanceof Date||(t=new Date(t));var e=t.getFullYear(),r="".concat(t.getMonth()+1).padStart(2,"0"),o="".concat(t.getDate()).padStart(2,"0");return"".concat(e,"-").concat(r,"-").concat(o)},fetchData:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isloading=!0,r={startDate:t.date,endDate:t.date2},e.next=4,t.$axios.get("api/sale/findDetailByDate",{params:{date:r}}).then((function(e){t.loaddata=e.data,console.log("Stock entry count ".concat(t.loaddata.length))})).catch((function(e){t.message=e,console.log("Error: "+e)}));case 4:t.isloading=!1;case 5:case"end":return e.stop()}}),e)})))()}}},N=r(31),component=Object(N.a)(R,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-left"},[e("div",[e(l.a,{staticClass:"pa-5",attrs:{color:"primary",label:"","text-color":"white"}},[e(m.a,{attrs:{start:""}},[t._v("mdi-label")]),t._v(" "),e("h3",[t._v("ຍອດຂາຍພ້ອມຕົນທຶນ")])],1),t._v(" "),e(l.a,{staticClass:"pa-5",attrs:{color:"primary",label:"","text-color":"white"},on:{click:function(e){t.guidelineDialog=!0}}},[e(m.a,{attrs:{start:""}},[t._v("mdi mdi-lifebuoy")]),t._v(" "),e("h3",[t._v("ຄູ່ມືການນຳໃຊ້ ")])],1)],1),t._v(" "),e(f.a,{attrs:{"hide-overlay":"","max-width":"700"},model:{value:t.guidelineDialog,callback:function(e){t.guidelineDialog=e},expression:"guidelineDialog"}},[e("youtube-player",{attrs:{"youtube-link":"5yMsQ6gRSkI"},on:{"close-dialog":function(e){t.guidelineDialog=!1}}})],1),t._v(" "),e(f.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(e){t.isloading=e},expression:"isloading"}},[e("loading-indicator")],1),t._v(" "),e(f.a,{attrs:{"max-width":"300px"},model:{value:t.dialogMessage,callback:function(e){t.dialogMessage=e},expression:"dialogMessage"}},[e("dialog-classic-message",{attrs:{message:t.message},on:{closedialog:function(e){t.message=null}}})],1),t._v(" "),e(o.a,[e(n.d,[e(h.a,[e(c.a,{attrs:{cols:"6"}},[e(v.a,{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,n=r.attrs;return[e(_.a,t._g(t._b({attrs:{label:"ຈາກວັນທີ:",hint:"MM/DD/YYYY format","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.dateFormatted,callback:function(e){t.dateFormatted=e},expression:"dateFormatted"}},"v-text-field",n,!1),o))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[t._v(" "),e(d.a,{attrs:{"no-title":""},on:{input:function(e){t.menu1=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),e(v.a,{ref:"menu2",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,n=r.attrs;return[e(_.a,t._g(t._b({attrs:{label:"ຫາວັນທີ:",hint:"MM/DD/YYYY format","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date2=t.parseDate(t.dateFormatted2)}},model:{value:t.dateFormatted2,callback:function(e){t.dateFormatted2=e},expression:"dateFormatted2"}},"v-text-field",n,!1),o))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[t._v(" "),e(d.a,{attrs:{"no-title":""},on:{input:function(e){t.menu2=!1}},model:{value:t.date2,callback:function(e){t.date2=e},expression:"date2"}})],1)],1),t._v(" "),e(c.a,{staticClass:"text-right",attrs:{cols:"6"}})],1)],1),t._v(" "),e(n.c,[e(c.a,{staticClass:"text-right",attrs:{cols:"6"}},[e(h.a,{staticClass:"primary pa-2 rounded"},[e("h4",{staticStyle:{color:"white"}},[t._v("Income ລາຍຮັບ")])]),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"4"}},[t._v("Gross sale")]),t._v(" "),e(c.a,{attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(t.grandSaleTotal)))])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"4"}},[t._v("Return/Cancel")]),t._v(" "),e(c.a,{attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(t.grandSaleCancelTotal)))])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"4"}},[t._v("Discount")]),t._v(" "),e(c.a,{attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(t.grandSaleDiscountTotal)))])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"10"}},[e("hr",{staticStyle:{"border-width":"0.1px"}})])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{staticStyle:{"font-weight":"bold","font-style":"italic"},attrs:{cols:"4"}},[t._v("Net sale")]),t._v(" "),e(c.a,{staticStyle:{"font-weight":"bold","font-style":"italic"},attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(t.grandSaleTotal-(t.grandSaleCancelTotal+t.grandSaleDiscountTotal))))])],1)],1),t._v(" "),e(c.a,{staticClass:"text-right",attrs:{cols:"6"}},[e(h.a,{staticClass:"primary pa-2 rounded"},[e("h4",{staticStyle:{color:"white"}},[t._v("Cost of goods sold ຕົ້ນທຶນສິນຄ້າ ທີ່ຂາຍໄປ")])]),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"4"}},[t._v("Product cost")]),t._v(" "),e(c.a,{attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(t.grandSaleCost)))])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"4"}},[t._v("COD fee")]),t._v(" "),e(c.a,{attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(t.grandCODCost)))])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"4"}},[t._v("Cancellation fee")]),t._v(" "),e(c.a,{attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(t.grandCancellationCost)))])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"10"}},[e("hr",{staticStyle:{"border-width":"0.1px"}})])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{staticStyle:{"font-weight":"bold","font-style":"italic"},attrs:{cols:"4"}},[t._v("Total cost of goods sold")]),t._v(" "),e(c.a,{staticStyle:{"font-weight":"bold","font-style":"italic"},attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(t.grandSaleCost+t.grandCODCost+t.grandCancellationCost)))])],1)],1),t._v(" "),e(c.a,{staticClass:"text-right",attrs:{cols:"6"}},[e(h.a,{staticClass:"primary pa-2 rounded"},[e("h4",{staticStyle:{color:"white"}},[t._v("Expense ລາຍຈ່າຍ")])]),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"4"}},[t._v("Staff salary ")]),t._v(" "),e(c.a,{attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(0)))])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"4"}},[t._v("Advertising")]),t._v(" "),e(c.a,{attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(0)))])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"4"}},[t._v("Office expense")]),t._v(" "),e(c.a,{attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(0)))])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"10"}},[e("hr",{staticStyle:{"border-width":"0.1px"}})])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{staticStyle:{"font-weight":"bold","font-style":"italic"},attrs:{cols:"4"}},[t._v("Total expense")]),t._v(" "),e(c.a,{staticStyle:{"font-weight":"bold","font-style":"italic"},attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(0)))])],1)],1),t._v(" "),e(c.a,{staticClass:"text-right",attrs:{cols:"6"}},[e(h.a,{staticClass:"primary pa-2 rounded"},[e("h4",{staticStyle:{color:"white"}},[t._v("Net operating profit ກຳໄລສຸດທິ")])]),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{attrs:{cols:"10"}},[e("hr",{staticStyle:{"border-width":"0.1px"}})])],1),t._v(" "),e(h.a,[e(c.a,{attrs:{cols:"2"}}),t._v(" "),e(c.a,{staticStyle:{"font-weight":"bold","font-style":"italic"},attrs:{cols:"4"}},[t._v("Net operating profit")]),t._v(" "),e(c.a,{staticStyle:{"font-weight":"bold","font-style":"italic"},attrs:{cols:"6"}},[t._v(t._s(t.formatNumber(t.netProfit)))])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{YoutubePlayer:r(819).default,LoadingIndicator:r(248).default,DialogClassicMessage:r(826).default})},819:function(t,e,r){"use strict";r.r(e);var o=r(321),n=r(318),l=r(19),c=r(794),d=(r(37),{props:{youtubeLink:{type:String,require:!0}}}),f=r(31),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e(n.a,[e(l.c,{staticClass:"text-center"},[e("youtube",{attrs:{"video-id":t.youtubeLink}})],1),t._v(" "),e(l.a,[e(c.a),t._v(" "),e(o.a,{staticClass:"warning",attrs:{size:"large",variant:"outlined",rounded:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("\n                Close\n            ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},826:function(t,e,r){"use strict";r.r(e);var o=r(321),n=r(318),l=r(19),c=r(317),d=r(794),f={props:{message:{type:String,default:""}},methods:{toggleDialog:function(){this.$emit("closedialog")}}},m=r(31),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e(n.a,[e(l.d,{staticClass:"text-h5 grey lighten-2"},[t._v(" ຂໍ້ຄວາມ ")]),t._v(" "),e(l.c,[t._v("\n    "+t._s(t.message)+"\n  ")]),t._v(" "),e(c.a),t._v(" "),e(l.a,[e(d.a),t._v(" "),e(o.a,{attrs:{color:"primary",text:""},on:{click:t.toggleDialog}},[t._v(" ຕົກລົງ ")])],1)],1)}),[],!1,null,null,null);e.default=component.exports},875:function(t,e,r){"use strict";r.r(e);var o=r(799),n=r(315),l=r(321),c=r(1042),d=r(318),f=r(19),m=r(830),v=r(322),h=r(797),_=r(771),y=r(922),D=r(798),x=r(168),w=r(244),C=r(796),S=r(794),O=r(881),k=r(112),P=r(827),I=(r(10),r(7),r(9),r(12),r(13),r(17)),j=r(3),L=(r(85),r(34),r(5),r(8),r(30),r(68),r(62),r(39),r(35),r(54),r(53),r(37)),R=r(911),N=r(44);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function M(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(j.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var $={middleware:"auths",mixins:[R.default],data:function(){return{priceListFormKey:1,pricingRecordId:null,priceListDialog:!1,threeColPaper:!1,preview:!1,previewSrc:null,dialog:!1,dialogMessage:!1,message:"",isloading:!1,valid:!0,barcodeImage:"",name:"",title:"ເພີ່ມສິນຄ້າ",rules:{nameRule:[function(t){return!!t||"ກະລຸນາ ໃສ່ຊື່ສິນຄ້າ "},function(t){return t&&t.length<=150||"ຊື່ສິນຄ້າ ຍາວເກີນໄປ ກຳນົດ 150 ຕົວ"}],priceRule:[function(t){return+t>=0||"ກະລຸນ ໃສ່ຈຳນວ > 0"},function(t){return!!/^\d+$/.test(t)||"ກະລຸນສາໃສ່ຈຳນວນ ເປັນຕົວເລກ ເທົ່ານັ້ນ"}],minRule:[function(t){return!!/^\d+$/.test(t)||"ກະລຸນສາໃສ່ຈຳນວນ ເປັນຕົວເລກ ເທົ່ານັ້ນ"}],costPrice:[function(t){return!!/^\d+$/.test(t)||"ກະລຸນສາໃສ່ ເປັນຕົວເລກ ເທົ່ານັ້ນ"}],retailRule:[function(t){return+t>=0||"ກະລຸນ ໃສ່ເປີເຊັນ > 0"},function(t){return!!/^\d+$/.test(t)||"ກະລຸນສາໃສ່ ເປັນຕົວເລກ ເທົ່ານັ້ນ"}],imageRule:[function(t){var e=0,r=0;return t?(t.forEach((function(t){e+=t.size,console.log("Size: "+t.size)})),r=e/t.length,console.log("File size: aaa"+t.length+" Each: "+r||!1)):console.log("File: "+t),console.log("Total: "+r),r<2e6||"ຂະຫນາດເກີນ"}]},category:[],formData:{companyId:1,pro_category:1001,pro_id:null,pro_name:"",pro_price:0,pro_retail_price:0,pro_desc:"",pro_status:!1,pro_cost_price:0,createdAt:null,minStock:0,barCode:"",receiveUnitId:1,stockUnitId:1,saleCurrencyId:1,costCurrencyId:1,isActive:!0,vendorName:""},companyList:[]}},mounted:function(){this.fetchCategory(),this.fetchCompany()},watch:{message:function(t){this.dialogMessage=null!=t},formData:function(t){console.log("Watch fromData"+t)}},computed:M(M({},Object(N.c)(["findAllProductPriceListToCreate","findAllProduct","findAllClient","findAllPayment","findAllUnit","findAllCurrency"])),{},{unitList:function(){return this.findAllUnit},barcode3by2cm:function(){return"\n      <!DOCTYPE html>\n          <html>\n          <head\n          <title></title>\n          <style>\n\n          @font-face {\n            font-family: 'DM Sans';\n            font-style: normal;\n            font-weight: 200;\n            font-display: swap;\n            src: url('/notosan/NotoSansLao-Bold.ttf') format('truetype');\n        }\n          *{\n            font-family: 'DM Sans';\n          }\n        </style>\n            </head>\n            <body>\n              <div style=\"text-align: center;\">\n      <table style=\"width: 200px; text-align: center;\" >\n  <tr>\n    <td style=\"width: 50px; height: 20px;font-size:9px;\">\n        ລາຄາ:".concat(this.formatNumber(this.formData.pro_price),'\n      <img src="').concat(this.barcodeImage,'">\n    </td>\n    <td style="width: 50px; height: 20px;font-size:9px;">\n        ລາຄາ:').concat(this.formatNumber(this.formData.pro_price),'\n        <img src="').concat(this.barcodeImage,'">\n    </td>\n    <td style="width: 50px; height: 20px;font-size:9px;">\n        ລາຄາ:').concat(this.formatNumber(this.formData.pro_price),'\n        <img src="').concat(this.barcodeImage,'">\n       \n    </td>\n  \n  </tr>\n</table>\n</div>\n</body>\n            </html>\n')},barcodeNormal:function(){return"\n          <!DOCTYPE html>\n          <html>\n          <head\n          <title></title>\n          <style>\n\n          @font-face {\n            font-family: 'DM Sans';\n            font-style: normal;\n            font-weight: 400;\n            font-display: swap;\n            src: url('/notosan/NotoSansLao-Bold.ttf') format('truetype');\n        }\n          *{\n            font-family: 'DM Sans';\n          }\n        </style>\n            </head>\n            <body>\n              <div style=\"text-align: center;\">\n                    <table style=\"width: 200px; text-align: center;\" >\n                        <tr>\n                          <td style=\"width: 500px; height: 15px;font-size:8px;\">\n                            ລາຄາ:".concat(this.formatNumber(this.formData.pro_price),'\n                            </br>\n                            <img src="').concat(this.barcodeImage,'">\n                          </td>               \n                        </tr>\n                      </table>\n                </div>\n            </body>\n            </html>\n        ')}}),methods:M(M({},Object(N.b)(["clearProductPricesToCreate","addProductPricesToCreate","deleteProductPricesToCreate"])),{},{fetchData:function(){},triggerPriceListForm:function(){this.pricingRecordId=this.headerId,this.priceListFormKey+=1,this.priceListDialog=!0},validate:function(){this.$refs.form.validate()},formatNumber:function(t){return Object(L.e)(t)},generateBarcode:function(){var t=Math.floor(9e11*Math.random())+1e11,canvas=document.createElement("canvas");JsBarcode(canvas,t.toString(),{format:"code128",displayValue:!0,fontSize:20,margin:10}),this.formData.barCode=t.toString(),this.generateBarcodeImage(t)},generateBarcodeImage:function(t){var canvas=this.$refs.barcodeCanvas;console.log(".....Canvas logger....."),console.log(canvas),console.log(canvas.width,canvas.height),JsBarcode(canvas,t,{format:"code128",displayValue:!0,fontSize:12,width:1,height:13}),this.barcodeImage=canvas.toDataURL()},printBarcode:function(){var t=this.threeColPaper?this.barcode3by2cm:this.barcodeNormal,e=window.open("","","left=0,top=0,width=2480,height=3508,toolbar=0,scrollbars=0,status=0");e.document.open(),e.document.write(t),setTimeout((function(){e.print(),e.close()}),1e3)},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()},fetchCategory:function(){var t=this;return Object(I.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isloading=!0,e.next=3,t.$axios.get("category_f").then((function(e){console.log("=>category"+e.data),t.category=e.data.map((function(t){return{categ_id:t.categ_id,categ_name:t.categ_name,categ_desc:t.categ_desc}})),t.formData.pro_category=t.category[0].categ_id})).catch((function(t){console.log("error: "+t.response.data)}));case 3:t.isloading=!1;case 4:case"end":return e.stop()}}),e)})))()},fetchCompany:function(){var t=this;return Object(I.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.$axios.get("api/company/find").then((function(e){console.log("=>Company"+e.data),t.companyList=e.data.map((function(t){return{id:t.id,name:t.name}})),t.formData.companyId=t.companyList[0].id})).catch((function(t){console.log("error: "+t.response.data)}));case 3:t.isLoading=!1;case 4:case"end":return e.stop()}}),e)})))()},uploadFiles:function(){var t=this;return Object(I.a)(regeneratorRuntime.mark((function e(){var r,o,n,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$refs.form.validate()){e.next=2;break}return e.abrupt("return");case 2:return t.isloading=!0,(r=new FormData).append("FORM",JSON.stringify(t.formData)),t.files.forEach((function(element){r.append("files",element)})),e.prev=6,e.next=9,t.$axios.post("uploadmulti",r,{headers:{"Content-Type":"multipart/form-data"}});case 9:return o=e.sent,n=o.data.split("|")[1],console.log("Product ID created: ".concat(n)),e.next=14,t.commitPriceListRecord(n);case 14:l=e.sent,console.info("Commit response ".concat(l)),t.isloading=!1,Object(L.k)(t.$swal,"Succeed","ດຳເນີນການສຳເລັດ"),console.info("Create product complete: response => ".concat(JSON.stringify(o))),t.$emit("refresh"),t.$emit("close-dialog"),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(6),t.isloading=!1,Object(L.j)(t.$swal,"Error",e.t0),console.error("Error response:",e.t0.response);case 28:case"end":return e.stop()}}),e,null,[[6,23]])})))()},commitPriceListRecord:function(t){var e=this;return Object(I.a)(regeneratorRuntime.mark((function r(){var o,n,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.isloading=!0,o="api/priceList/create",console.log("API => ProductId='".concat(t,"'"),o),r.prev=3,n=e.findAllProductPriceListToCreate.map((function(r){var n=M(M({},r),{},{productId:t});return e.$axios.post(o,n)})),r.next=7,Promise.all(n);case 7:return(l=r.sent).forEach((function(t){console.log("Load data: ".concat(JSON.stringify(t)))})),e.clearProductPricesToCreate(),r.abrupt("return",l);case 13:return r.prev=13,r.t0=r.catch(3),Object(L.j)(e.$swal,"Error","ເກີດຂໍ້ຜິດພາດ ກະລຸນາລອງໃຫມ່ ພາຍຫລັງ ໃນການເພີ່ມ price list"),console.error("Error during price list commit:",r.t0),r.abrupt("return",null);case 18:case"end":return r.stop()}}),r,null,[[3,13]])})))()},previewImg:function(t){this.previewSrc=t,this.preview=!0}})},A=(r(975),r(31)),component=Object(A.a)($,(function(){var t=this,e=t._self._c;return e("div",[e(_.a,{attrs:{"max-width":"300px",persistent:""},model:{value:t.dialogMessage,callback:function(e){t.dialogMessage=e},expression:"dialogMessage"}},[e("dialog-classic-message",{attrs:{message:t.message},on:{closedialog:function(e){t.message=null}}})],1),t._v(" "),e(_.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(e){t.isloading=e},expression:"isloading"}},[e("loading-indicator")],1),t._v(" "),e(_.a,{attrs:{"hide-overlay":"",width:"400px"},model:{value:t.preview,callback:function(e){t.preview=e},expression:"preview"}},[e("dia-image",{attrs:{"i-url":t.previewSrc},on:{closeDia:function(e){t.preview=!1}}})],1),t._v(" "),e(_.a,{attrs:{"max-width":"800px"},model:{value:t.priceListDialog,callback:function(e){t.priceListDialog=e},expression:"priceListDialog"}},[e("price-list-form",{key:t.priceListFormKey,attrs:{"record-id":t.pricingRecordId},on:{"close-dialog":function(e){t.priceListDialog=!1},refresh:t.fetchData}})],1),t._v(" "),e(d.a,[e(f.d,{staticClass:"py-2"},[e(v.a,{attrs:{small:"",color:"primary","text-color":"white"}},[e(x.a,{attrs:{left:"",small:""}},[t._v("mdi-label")]),t._v("\n        "+t._s(t.title)+"\n      ")],1)],1),t._v(" "),e(f.c,{staticClass:"pa-3"},[e(D.a,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(C.a,{attrs:{dense:""}},[e(h.a,{attrs:{cols:"4"}},[e(o.a,{attrs:{"item-text":"name","item-value":"id",items:t.companyList,label:"ຮ້ານ*",dense:"",outlined:"","hide-details":"auto"},model:{value:t.formData.companyId,callback:function(e){t.$set(t.formData,"companyId",e)},expression:"formData.companyId"}})],1),t._v(" "),e(h.a,{attrs:{cols:"4"}},[e(o.a,{attrs:{"item-text":"categ_name","item-value":"categ_id",items:t.category,label:"ປະເພດສິນຄ້າ*",dense:"",outlined:"","hide-details":"auto"},model:{value:t.formData.pro_category,callback:function(e){t.$set(t.formData,"pro_category",e)},expression:"formData.pro_category"}})],1),t._v(" "),e(h.a,{attrs:{cols:"4"}},[e(k.a,{attrs:{value:t.formData.pro_id||"1XXX",label:"ໄອດີສິນຄ້າ",disabled:"",dense:"",outlined:"","hide-details":"auto"}})],1),t._v(" "),e(h.a,{attrs:{cols:"6"}},[e(k.a,{attrs:{rules:t.rules.nameRule,label:"ຊື້ສິນຄ້າ*",dense:"",outlined:"","hide-details":"auto"},model:{value:t.formData.pro_name,callback:function(e){t.$set(t.formData,"pro_name",e)},expression:"formData.pro_name"}})],1),t._v(" "),e(h.a,{attrs:{cols:"3"}},[e(k.a,{attrs:{rules:t.rules.priceRule,label:"ລາຄາ*",type:"number",dense:"",outlined:"","hide-details":"auto"},model:{value:t.formData.pro_price,callback:function(e){t.$set(t.formData,"pro_price",e)},expression:"formData.pro_price"}})],1),t._v(" "),e(h.a,{attrs:{cols:"3"}},[e(k.a,{attrs:{rules:t.rules.priceRule,label:"ຕົ້ນທຶນ*",type:"number",dense:"",outlined:"","hide-details":"auto"},model:{value:t.formData.pro_cost_price,callback:function(e){t.$set(t.formData,"pro_cost_price",e)},expression:"formData.pro_cost_price"}})],1),t._v(" "),e(h.a,{attrs:{cols:"2"}},[e(o.a,{attrs:{"item-text":"code","item-value":"id",items:t.findAllCurrency,label:"Currency*",dense:"",outlined:"","hide-details":"auto"},model:{value:t.formData.saleCurrencyId,callback:function(e){t.$set(t.formData,"saleCurrencyId",e)},expression:"formData.saleCurrencyId"}})],1),t._v(" "),e(h.a,{attrs:{cols:"2"}},[e(k.a,{attrs:{type:"number",label:"ລາຄາສົ່ງ %",dense:"",outlined:"","hide-details":"auto"},model:{value:t.formData.pro_retail_price,callback:function(e){t.$set(t.formData,"pro_retail_price",e)},expression:"formData.pro_retail_price"}})],1),t._v(" "),e(h.a,{attrs:{cols:"2"}},[e(k.a,{attrs:{type:"number",label:"ສຕັອກຂັ້ນຕ່ຳ*",dense:"",outlined:"","hide-details":"auto"},model:{value:t.formData.minStock,callback:function(e){t.$set(t.formData,"minStock",e)},expression:"formData.minStock"}})],1),t._v(" "),e(h.a,{attrs:{cols:"6"}},[e(y.a,{ref:"filesfield",attrs:{multiple:"",accept:"image/png, image/jpeg, image/bmp",label:"ຮູບພາບ",dense:"",outlined:"","hide-details":"auto","prepend-icon":"","prepend-inner-icon":"mdi-camera"},on:{change:t.onFilesChange}})],1),t._v(" "),e(h.a,{attrs:{cols:"3"}},[e(k.a,{attrs:{label:"Barcode",dense:"",outlined:"","hide-details":"auto"},model:{value:t.formData.barCode,callback:function(e){t.$set(t.formData,"barCode",e)},expression:"formData.barCode"}})],1),t._v(" "),e(h.a,{attrs:{cols:"3"}},[e(o.a,{attrs:{"item-text":"name","item-value":"id",items:t.unitList,label:"ຫົວຫນ່ວຍຮັບ*",dense:"",outlined:"","hide-details":"auto"},model:{value:t.formData.receiveUnitId,callback:function(e){t.$set(t.formData,"receiveUnitId",e)},expression:"formData.receiveUnitId"}})],1),t._v(" "),e(h.a,{attrs:{cols:"3"}},[e(o.a,{attrs:{"item-text":"name","item-value":"id",items:t.unitList,label:"ຫົວຫນ່ວຍສາງ*",dense:"",outlined:"","hide-details":"auto"},model:{value:t.formData.stockUnitId,callback:function(e){t.$set(t.formData,"stockUnitId",e)},expression:"formData.stockUnitId"}})],1),t._v(" "),e(h.a,{attrs:{cols:"3"}},[e(k.a,{attrs:{label:"Vendor",dense:"",outlined:"","hide-details":"auto"},model:{value:t.formData.vendorName,callback:function(e){t.$set(t.formData,"vendorName",e)},expression:"formData.vendorName"}})],1),t._v(" "),e(h.a,{attrs:{cols:"6"}},[e(P.a,{attrs:{label:"ຄຳອະທິບາຍ",rows:"2",dense:"",outlined:"","hide-details":"auto","no-resize":""},model:{value:t.formData.pro_desc,callback:function(e){t.$set(t.formData,"pro_desc",e)},expression:"formData.pro_desc"}})],1),t._v(" "),e(h.a,{attrs:{cols:"3"}},[e(O.a,{attrs:{label:"Active",dense:"","hide-details":"",color:"success"},model:{value:t.formData.isActive,callback:function(e){t.$set(t.formData,"isActive",t._n(e))},expression:"formData.isActive"}})],1),t._v(" "),e(h.a,{attrs:{cols:"3"}},[e(l.a,{staticStyle:{"margin-top":"8px"},attrs:{small:"",color:"primary",outlined:"",block:""},on:{click:t.triggerPriceListForm}},[t._v("\n              ຈັດການລາຄາ\n            ")])],1),t._v(" "),e(h.a,{attrs:{cols:"6"}},[e(d.a,{staticClass:"pa-2",attrs:{outlined:""}},[e("canvas",{ref:"barcodeCanvas",staticStyle:{"max-width":"100%",height:"auto"}}),t._v(" "),e("div",{staticClass:"text-center text-caption mt-1"},[t._v("\n                ລາຄາ: "+t._s(t.formatNumber(t.formData.pro_price))+"\n              ")]),t._v(" "),e("div",{staticClass:"text-center mt-1"},[e(c.a,{attrs:{dense:""}},[e(l.a,{attrs:{"x-small":"",disabled:t.formData.barCode.length>0,color:"primary"},on:{click:t.generateBarcode}},[t._v("\n                    Generate\n                  ")]),t._v(" "),e(l.a,{attrs:{"x-small":"",disabled:0==t.formData.barCode.length,color:"success"},on:{click:t.printBarcode}},[t._v("\n                    Print\n                  ")])],1),t._v(" "),e(m.a,{staticClass:"mt-1",attrs:{label:"3Col",dense:"","hide-details":""},model:{value:t.threeColPaper,callback:function(e){t.threeColPaper=t._n(e)},expression:"threeColPaper"}})],1)])],1),t._v(" "),e(h.a,{attrs:{cols:"6"}},[e("div",{staticStyle:{"max-height":"150px","overflow-y":"auto"}},t._l(t.imagesPreviewURL,(function(r,o){return e("div",{key:o,staticClass:"d-flex align-center mb-1"},[e(n.a,{attrs:{size:"30"},on:{click:function(e){return t.previewImg(r.IMG_URL)}}},[e(w.a,{attrs:{src:r.IMG_URL}})],1),t._v(" "),e("div",{staticClass:"ml-2 flex-grow-1"},[e("div",{staticClass:"text-caption"},[t._v(t._s(r.NAME))]),t._v(" "),r.isvalid?e("div",{staticClass:"text-caption error--text"},[t._v(t._s(r.isvalid))]):t._e()]),t._v(" "),e(l.a,{attrs:{icon:"","x-small":"",color:"error"},on:{click:function(e){return t.deleteFile(o)}}},[e(x.a,{attrs:{"x-small":""}},[t._v("mdi-delete")])],1)],1)})),0)])],1)],1)],1),t._v(" "),e(f.a,{staticClass:"pa-3 pt-0"},[e(S.a),t._v(" "),e(l.a,{attrs:{text:"",small:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("\n        Close\n      ")]),t._v(" "),e(l.a,{attrs:{color:"primary",small:""},on:{click:t.uploadFiles}},[t._v("\n        Save\n      ")])],1)],1)],1)}),[],!1,null,"2f8e35d1",null);e.default=component.exports;installComponents(component,{DialogClassicMessage:r(826).default,LoadingIndicator:r(248).default,DiaImage:r(882).default,PriceListForm:r(871).default})},911:function(t,e,r){"use strict";r.r(e);r(5),r(54),r(53),r(833),r(448),r(35),r(113);var o={data:function(){return{imagesPreviewURL:[],files:[]}},methods:{onFilesChange:function(t){var e=t;if(this.files=t,e){console.log("FILE LEN: "+e.length);for(var i=0;i<e.length;i++)this.imagesPreviewURL.push({IMG_URL:URL.createObjectURL(e[i]),NAME:e[i].name,isvalid:this.sizeValidate(e[i].size)})}else this.imagesPreviewURL=null},deleteFile:function(t){this.imagesPreviewURL.splice(t,1),this.files.splice(t,1)},sizeValidate:function(t){console.log("SIZE"+t);var e=2e7;if(t>e)return"Max size is ".concat(2e4,"Kb")}}},n=r(31),component=Object(n.a)(o,undefined,undefined,!1,null,null,null);e.default=component.exports},926:function(t,e,r){var content=r(976);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("42f082f5",content,!0,{sourceMap:!1})},975:function(t,e,r){"use strict";r(926)},976:function(t,e,r){var o=r(14)((function(i){return i[1]}));o.push([t.i,'.grey[data-v-2f8e35d1],.text-h5[data-v-2f8e35d1]{font-family:"Noto Sans Lao"}',""]),o.locals={},t.exports=o}}]);