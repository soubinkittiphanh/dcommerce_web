(window.webpackJsonp=window.webpackJsonp||[]).push([[214,285],{1246:function(t,e,r){var content=r(1549);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("45b31d44",content,!0,{sourceMap:!1})},1548:function(t,e,r){"use strict";r(1246)},1549:function(t,e,r){var n=r(15)((function(i){return i[1]}));n.push([t.i,".ministry-summary-report[data-v-6966d95a]{padding:0}.report-header[data-v-6966d95a]{align-items:center;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:8px;color:#fff;display:flex;justify-content:space-between;margin-bottom:24px;padding:20px}.title-section h1[data-v-6966d95a]{font-size:28px;font-weight:600;margin:0}.title-section p[data-v-6966d95a]{font-size:14px;margin:5px 0 0;opacity:.9}.action-buttons[data-v-6966d95a]{display:flex;gap:12px}.action-buttons .v-btn[data-v-6966d95a]{color:#fff!important}.filter-card[data-v-6966d95a]{background:#fff}.filter-title[data-v-6966d95a]{background:#f8f9fa;color:#495057;font-weight:600}.filter-actions[data-v-6966d95a]{align-items:center;display:flex;gap:12px;margin-top:20px}.summary-cards[data-v-6966d95a]{margin-bottom:24px}.summary-card[data-v-6966d95a]{height:140px;overflow:hidden;position:relative}.summary-content[data-v-6966d95a]{align-items:center;display:flex;height:100%}.summary-icon[data-v-6966d95a]{font-size:48px;margin-right:16px;opacity:.8}.summary-details h3[data-v-6966d95a]{color:#333;font-size:16px;font-weight:600;margin:0}.summary-details p[data-v-6966d95a]{color:#666;font-size:12px;margin:4px 0}.summary-details h2[data-v-6966d95a]{font-size:24px;font-weight:700;margin:8px 0 0}.summary-lcy[data-v-6966d95a]{font-size:11px;margin-top:4px!important;opacity:.8}.brought-forward-card[data-v-6966d95a]{background:linear-gradient(135deg,#a8edea,#fed6e3);color:#333}.advance-card[data-v-6966d95a]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.settlement-card[data-v-6966d95a]{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff}.balance-card[data-v-6966d95a]{background:linear-gradient(135deg,#ffecd2,#fcb69f);color:#333}.chart-card[data-v-6966d95a]{margin-bottom:24px}.chart-container[data-v-6966d95a]{height:400px;position:relative}.table-card[data-v-6966d95a]{margin-bottom:24px}.table-title[data-v-6966d95a]{background:#f8f9fa;color:#495057;font-weight:600}.search-field[data-v-6966d95a]{max-width:300px}.report-table[data-v-6966d95a]{background:#fff}.ministry-cell[data-v-6966d95a]{display:flex;flex-direction:column}.ministry-name[data-v-6966d95a]{font-size:14px;font-weight:600}.ministry-code[data-v-6966d95a]{color:#666;font-family:monospace;font-size:11px}.amount-breakdown[data-v-6966d95a]{flex-direction:column}.amount-breakdown[data-v-6966d95a],.amount-row[data-v-6966d95a]{align-items:center;display:flex}.amount-row[data-v-6966d95a]{gap:8px}.amount-cell[data-v-6966d95a]{font-family:monospace;font-size:13px;font-weight:600}.currency-code[data-v-6966d95a]{background:#e9ecef;border-radius:12px;color:#495057;font-size:10px;padding:2px 6px}.exchange-rate[data-v-6966d95a]{color:#666;font-size:10px;margin-top:2px}.lcy-amount[data-v-6966d95a]{color:#6f42c1}.advance-amount[data-v-6966d95a]{color:#667eea}.settlement-amount[data-v-6966d95a]{color:#28a745}.balance-amount[data-v-6966d95a]{font-weight:700}.positive-balance[data-v-6966d95a]{color:#28a745}.negative-balance[data-v-6966d95a]{color:#dc3545}.zero-balance[data-v-6966d95a]{color:#6c757d}.detail-stat[data-v-6966d95a]{background:#f8f9fa;border-radius:8px;padding:12px;text-align:center}.detail-stat strong[data-v-6966d95a]{color:#495057;display:block;font-size:14px;margin-bottom:8px}.detail-stat p[data-v-6966d95a]{font-family:monospace;font-size:18px;font-weight:600;margin:0}.detail-stat small[data-v-6966d95a]{color:#666;display:block;font-size:11px;font-style:italic;margin-top:4px}.balance-text[data-v-6966d95a]{font-weight:700}.detail-table[data-v-6966d95a]{margin-top:16px}.date-cell[data-v-6966d95a]{font-family:monospace;font-size:13px}.reference-cell[data-v-6966d95a]{background:#f8f9fa;border-radius:4px;color:#666;font-family:monospace;font-size:12px;padding:2px 6px}@media print{.action-buttons[data-v-6966d95a],.filter-card[data-v-6966d95a],.v-btn[data-v-6966d95a]{display:none!important}.chart-card[data-v-6966d95a],.summary-cards[data-v-6966d95a]{page-break-inside:avoid}}@media (max-width:768px){.report-header[data-v-6966d95a]{gap:16px}.report-header[data-v-6966d95a],.summary-content[data-v-6966d95a]{flex-direction:column;text-align:center}.summary-icon[data-v-6966d95a]{margin-bottom:8px;margin-right:0}.chart-container[data-v-6966d95a]{height:300px}.filter-actions[data-v-6966d95a]{flex-direction:column;width:100%}.filter-actions .v-btn[data-v-6966d95a]{width:100%}.amount-breakdown[data-v-6966d95a]{font-size:12px}.detail-stat[data-v-6966d95a]{padding:8px}.detail-stat p[data-v-6966d95a]{font-size:14px}}.v-data-table[data-v-6966d95a] .v-data-table__progress{animation:loading-6966d95a 1.5s infinite;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%}@keyframes loading-6966d95a{0%{background-position:200% 0}to{background-position:-200% 0}}.v-dialog .v-card-text[data-v-6966d95a]{max-height:70vh;overflow-y:auto}.v-dialog .v-card-text[data-v-6966d95a]::-webkit-scrollbar{width:6px}.v-dialog .v-card-text[data-v-6966d95a]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.v-dialog .v-card-text[data-v-6966d95a]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.v-dialog .v-card-text[data-v-6966d95a]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}",""]),n.locals={},t.exports=n},1735:function(t,e,r){"use strict";r.r(e);var n=r(316),o=r(313),c=r(18),l=r(317),d=r(779),m=r(788),f=r(1621),v=r(753),y=r(312),h=r(167),C=r(318),x=r(778),_=r(65),w=r(776),k=r(113),M=(r(34),r(131),r(20)),L=(r(30),r(333),r(5),r(54),r(53),r(446),r(8),r(10),r(44),r(817),r(92),r(890)),D={name:"MinistrySummaryReport",data:function(){return{loading:!1,exporting:!1,loadingDetails:!1,search:"",monthMenu:!1,detailsDialog:!1,selectedMinistry:null,ministryDetails:[],filters:{reportMonth:null,ministryId:null},ministries:[],reportData:[],summaryData:{totalBroughtForwardLcy:0,totalCurrentMonthLcy:0,totalSettlementLcy:0,totalBalanceLcy:0},ministryChart:null,tableHeaders:[{text:"ກະຊວງ",value:"ministry",width:"200px"},{text:"ສະກຸນເງິນ",value:"currencyCode",width:"80px"},{text:"ຍອດຍົກມາ",value:"broughtForwardAmount",width:"130px"},{text:"LCY",value:"broughtForwardLcy",width:"100px"},{text:"ລາຍຈ່າຍເດືອນນີ້",value:"currentMonthAmount",width:"130px"},{text:"LCY",value:"currentMonthLcy",width:"100px"},{text:"ຊຳລະເດືອນນີ້",value:"settlementAmount",width:"130px"},{text:"LCY",value:"settlementLcy",width:"100px"},{text:"ຍອດສະຫຼຸບ LCY",value:"balanceLcy",width:"120px"},{text:"ຈັດການ",value:"actions",sortable:!1,width:"120px"}],detailHeaders:[{text:"ວັນທີ",value:"bookingDate"},{text:"ເລກອ້າງອີງ",value:"referenceNumber"},{text:"ປະເພດ",value:"type"},{text:"ຈຳນວນເງິນ",value:"amount"},{text:"LCY",value:"lcyAmount"},{text:"ຈຸດປະສົງ",value:"purpose"},{text:"ຜູ້ດຳເນີນການ",value:"user"},{text:"ຈຸດປະສົງ",value:"purpose"},{text:"ຜູ້ດຳເນີນການ",value:"user"}]}},created:function(){var t=this;return Object(M.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadInitialData();case 2:t.setDefaultMonth(),t.applyFilters();case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;this.$nextTick((function(){t.initializeChart()}))},beforeDestroy:function(){this.ministryChart&&this.ministryChart.destroy()},methods:{loadInitialData:function(){var t=this;return Object(M.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/ministries");case 3:r=e.sent,t.ministries=r.data.data,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading ministries:",e.t0),t.$toast.error("Error loading initial data");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},setDefaultMonth:function(){var t=new Date;this.filters.reportMonth="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"))},applyFilters:function(){var t=this;return Object(M.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,r=new URLSearchParams,Object.keys(t.filters).forEach((function(e){t.filters[e]&&r.append(e,t.filters[e])})),e.next=6,t.$axios.get("/api/money-advances/ministry-summary?".concat(r));case 6:n=e.sent,t.reportData=n.data.data,t.summaryData=n.data.summary,t.updateChart(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error loading report data:",e.t0),t.$toast.error("Error loading report data");case 16:return e.prev=16,t.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})))()},resetFilters:function(){this.filters={reportMonth:null,ministryId:null},this.setDefaultMonth(),this.applyFilters()},initializeChart:function(){var t=this.$refs.ministryChart.getContext("2d");this.ministryChart=new L.default(t,{type:"bar",data:{labels:[],datasets:[{label:"ຍອດຍົກມາ",data:[],backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"ລາຍຈ່າຍເດືອນນີ້",data:[],backgroundColor:"rgba(255, 99, 132, 0.6)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1},{label:"ຊຳລະເດືອນນີ້",data:[],backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(t){return new Intl.NumberFormat("en-US").format(t)}}}]},legend:{position:"bottom"}}})},updateChart:function(){if(this.ministryChart){var t=this.reportData.map((function(t){return t.ministryName})),e=this.reportData.map((function(t){return t.broughtForwardLcy})),r=this.reportData.map((function(t){return t.currentMonthLcy})),n=this.reportData.map((function(t){return t.settlementLcy}));this.ministryChart.data.labels=t,this.ministryChart.data.datasets[0].data=e,this.ministryChart.data.datasets[1].data=r,this.ministryChart.data.datasets[2].data=n,this.ministryChart.update()}},viewMinistryDetails:function(t){var e=this;return Object(M.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.selectedMinistry=t,e.loadingDetails=!0,e.detailsDialog=!0,r.prev=3,(n=new URLSearchParams).append("ministryId",t.ministryId),n.append("currencyId",t.currencyId),n.append("reportMonth",e.filters.reportMonth),r.next=10,e.$axios.get("/api/money-advances/ministry-details?".concat(n));case 10:o=r.sent,e.ministryDetails=o.data.data,r.next=18;break;case 14:r.prev=14,r.t0=r.catch(3),console.error("Error loading ministry details:",r.t0),e.$toast.error("Error loading ministry details");case 18:return r.prev=18,e.loadingDetails=!1,r.finish(18);case 21:case"end":return r.stop()}}),r,null,[[3,14,18,21]])})))()},exportToExcel:function(){var t=this;return Object(M.a)(regeneratorRuntime.mark((function e(){var r,n,o,link;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.exporting=!0,e.prev=1,r=new URLSearchParams,Object.keys(t.filters).forEach((function(e){t.filters[e]&&r.append(e,t.filters[e])})),e.next=6,t.$axios.get("/api/money-advances/ministry-summary/export?".concat(r),{responseType:"blob"});case 6:n=e.sent,o=new Blob([n.data]),(link=document.createElement("a")).href=window.URL.createObjectURL(o),link.download="ministry-summary-report-".concat(t.filters.reportMonth,".xlsx"),link.click(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error exporting report:",e.t0),t.$toast.error("Error exporting report");case 18:return e.prev=18,t.exporting=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,14,18,21]])})))()},printReport:function(){window.print()},formatCurrency:function(t){return t?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t):"0.00"},formatExchangeRate:function(t){return t?new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(t):"1.0000"},formatDate:function(t){return t?new Date(t).toLocaleDateString("lo-LA"):""},getBalanceClass:function(t){var e=parseFloat(t);return e>0?"positive-balance":e<0?"negative-balance":"zero-balance"},getCurrencyColor:function(t){return{USD:"green",LAK:"blue",THB:"orange",EUR:"purple",CNY:"red"}[t]||"grey"},getTypeColor:function(t){switch(t){case"advance":return"blue";case"settlement":return"green";case"brought_forward":return"orange";default:return"grey"}},getTypeText:function(t){switch(t){case"advance":return"ລາຍຈ່າຍ";case"settlement":return"ຊຳລະ";case"brought_forward":return"ຍົກມາ";default:return t}}}},R=(r(1548),r(32)),component=Object(R.a)(D,(function(){var t,e,r=this,M=r._self._c;return M("div",{staticClass:"ministry-summary-report"},[M("div",{staticClass:"report-header"},[r._m(0),r._v(" "),M("div",{staticClass:"action-buttons"},[M(n.a,{attrs:{color:"success",loading:r.exporting},on:{click:r.exportToExcel}},[M("i",{staticClass:"fas fa-file-excel"}),r._v("\n        Export Excel\n      ")]),r._v(" "),M(n.a,{attrs:{color:"primary"},on:{click:r.printReport}},[M("i",{staticClass:"fas fa-print"}),r._v("\n        Print\n      ")])],1)]),r._v(" "),M(o.a,{staticClass:"filter-card mb-4",attrs:{elevation:"2"}},[M(c.d,{staticClass:"filter-title"},[M("i",{staticClass:"fas fa-filter"}),r._v("\n      ຕົວກອງ (Filters)\n    ")]),r._v(" "),M(c.c,[M(x.a,[M(d.a,{attrs:{cols:"12",md:"4"}},[M(C.a,{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:r._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[M(k.a,r._g(r._b({attrs:{label:"ເດືອນລາຍງານ (Report Month)","prepend-icon":"mdi-calendar-month",readonly:""},model:{value:r.filters.reportMonth,callback:function(t){r.$set(r.filters,"reportMonth",t)},expression:"filters.reportMonth"}},"v-text-field",n,!1),e))]}}]),model:{value:r.monthMenu,callback:function(t){r.monthMenu=t},expression:"monthMenu"}},[r._v(" "),M(f.a,{attrs:{type:"month"},on:{input:function(t){r.monthMenu=!1}},model:{value:r.filters.reportMonth,callback:function(t){r.$set(r.filters,"reportMonth",t)},expression:"filters.reportMonth"}})],1)],1),r._v(" "),M(d.a,{attrs:{cols:"12",md:"4"}},[M(_.a,{attrs:{items:r.ministries,"item-text":"ministryName","item-value":"id",label:"ກະຊວງ (Ministry)","prepend-icon":"mdi-office-building",clearable:""},model:{value:r.filters.ministryId,callback:function(t){r.$set(r.filters,"ministryId",t)},expression:"filters.ministryId"}})],1),r._v(" "),M(d.a,{attrs:{cols:"12",md:"4"}},[M("div",{staticClass:"filter-actions"},[M(n.a,{attrs:{color:"primary",loading:r.loading},on:{click:r.applyFilters}},[M("i",{staticClass:"fas fa-search"}),r._v("\n              ຄົ້ນຫາ\n            ")]),r._v(" "),M(n.a,{attrs:{color:"secondary"},on:{click:r.resetFilters}},[M("i",{staticClass:"fas fa-undo"}),r._v("\n              ຣີເຊັດ\n            ")])],1)])],1)],1)],1),r._v(" "),M(x.a,{staticClass:"summary-cards mb-4"},[M(d.a,{attrs:{cols:"12",md:"3"}},[M(o.a,{staticClass:"summary-card brought-forward-card",attrs:{elevation:"3"}},[M(c.c,[M("div",{staticClass:"summary-content"},[M("div",{staticClass:"summary-icon"},[M("i",{staticClass:"fas fa-arrow-right"})]),r._v(" "),M("div",{staticClass:"summary-details"},[M("h3",{staticClass:"summary-title"},[r._v("ຍອດຍົກມາ")]),r._v(" "),M("p",{staticClass:"summary-subtitle"},[r._v("Total Brought Forward")]),r._v(" "),M("h2",{staticClass:"summary-amount"},[r._v("\n                "+r._s(r.formatCurrency(r.summaryData.totalBroughtForwardLcy))+"\n              ")]),r._v(" "),M("p",{staticClass:"summary-lcy"},[r._v("LCY Amount")])])])])],1)],1),r._v(" "),M(d.a,{attrs:{cols:"12",md:"3"}},[M(o.a,{staticClass:"summary-card advance-card",attrs:{elevation:"3"}},[M(c.c,[M("div",{staticClass:"summary-content"},[M("div",{staticClass:"summary-icon"},[M("i",{staticClass:"fas fa-money-bill-wave"})]),r._v(" "),M("div",{staticClass:"summary-details"},[M("h3",{staticClass:"summary-title"},[r._v("ລາຍຈ່າຍເດືອນນີ້")]),r._v(" "),M("p",{staticClass:"summary-subtitle"},[r._v("Current Month Advances")]),r._v(" "),M("h2",{staticClass:"summary-amount"},[r._v("\n                "+r._s(r.formatCurrency(r.summaryData.totalCurrentMonthLcy))+"\n              ")]),r._v(" "),M("p",{staticClass:"summary-lcy"},[r._v("LCY Amount")])])])])],1)],1),r._v(" "),M(d.a,{attrs:{cols:"12",md:"3"}},[M(o.a,{staticClass:"summary-card settlement-card",attrs:{elevation:"3"}},[M(c.c,[M("div",{staticClass:"summary-content"},[M("div",{staticClass:"summary-icon"},[M("i",{staticClass:"fas fa-hand-holding-usd"})]),r._v(" "),M("div",{staticClass:"summary-details"},[M("h3",{staticClass:"summary-title"},[r._v("ຊຳລະເດືອນນີ້")]),r._v(" "),M("p",{staticClass:"summary-subtitle"},[r._v("Current Month Settlements")]),r._v(" "),M("h2",{staticClass:"summary-amount"},[r._v("\n                "+r._s(r.formatCurrency(r.summaryData.totalSettlementLcy))+"\n              ")]),r._v(" "),M("p",{staticClass:"summary-lcy"},[r._v("LCY Amount")])])])])],1)],1),r._v(" "),M(d.a,{attrs:{cols:"12",md:"3"}},[M(o.a,{staticClass:"summary-card balance-card",attrs:{elevation:"3"}},[M(c.c,[M("div",{staticClass:"summary-content"},[M("div",{staticClass:"summary-icon"},[M("i",{staticClass:"fas fa-balance-scale"})]),r._v(" "),M("div",{staticClass:"summary-details"},[M("h3",{staticClass:"summary-title"},[r._v("ຍອດສະຫຼຸບ")]),r._v(" "),M("p",{staticClass:"summary-subtitle"},[r._v("Total Balance")]),r._v(" "),M("h2",{staticClass:"summary-amount"},[r._v("\n                "+r._s(r.formatCurrency(r.summaryData.totalBalanceLcy))+"\n              ")]),r._v(" "),M("p",{staticClass:"summary-lcy"},[r._v("LCY Amount")])])])])],1)],1)],1),r._v(" "),M(o.a,{staticClass:"chart-card mb-4",attrs:{elevation:"2"}},[M(c.d,[M("i",{staticClass:"fas fa-chart-bar"}),r._v("\n      ກາຟສະຫຼຸບຕາມກົມ (Ministry Summary Chart)\n    ")]),r._v(" "),M(c.c,[M("div",{staticClass:"chart-container"},[M("canvas",{ref:"ministryChart",attrs:{width:"400",height:"200"}})])])],1),r._v(" "),M(o.a,{staticClass:"table-card",attrs:{elevation:"2"}},[M(c.d,{staticClass:"table-title"},[M("i",{staticClass:"fas fa-table"}),r._v("\n      ລາຍລະອຽດລາຍງານຕາມກົມ (Ministry Summary Details)\n      "),M(w.a),r._v(" "),M(k.a,{staticClass:"search-field",attrs:{"append-icon":"mdi-magnify",label:"ຄົ້ນຫາກະຊວງ...","single-line":"","hide-details":""},model:{value:r.search,callback:function(t){r.search=t},expression:"search"}})],1),r._v(" "),M(m.a,{staticClass:"report-table",attrs:{headers:r.tableHeaders,items:r.reportData,search:r.search,loading:r.loading,"items-per-page":25,"footer-props":{itemsPerPageOptions:[10,25,50,100],itemsPerPageText:"ແຖວຕໍ່ໜ້າ:"}},scopedSlots:r._u([{key:"item.ministry",fn:function(t){var e=t.item;return[M("div",{staticClass:"ministry-cell"},[M("span",{staticClass:"ministry-name"},[r._v(r._s(e.ministryName))]),r._v(" "),M("span",{staticClass:"ministry-code"},[r._v(r._s(e.ministryCode))])])]}},{key:"item.currencyCode",fn:function(t){var e=t.item;return[M(l.a,{attrs:{small:"",color:r.getCurrencyColor(e.currencyCode),"text-color":"white"}},[r._v("\n          "+r._s(e.currencyCode)+"\n        ")])]}},{key:"item.broughtForwardAmount",fn:function(t){var e=t.item;return[M("div",{staticClass:"amount-breakdown"},[M("span",{staticClass:"amount-cell"},[r._v(r._s(r.formatCurrency(e.broughtForwardAmount)))]),r._v(" "),M("div",{staticClass:"exchange-rate"},[r._v("\n            Rate: "+r._s(r.formatExchangeRate(e.broughtForwardExchangeRate))+"\n          ")])])]}},{key:"item.broughtForwardLcy",fn:function(t){var e=t.item;return[M("span",{staticClass:"amount-cell lcy-amount"},[r._v("\n          "+r._s(r.formatCurrency(e.broughtForwardLcy))+"\n        ")])]}},{key:"item.currentMonthAmount",fn:function(t){var e=t.item;return[M("div",{staticClass:"amount-breakdown"},[M("span",{staticClass:"amount-cell"},[r._v(r._s(r.formatCurrency(e.currentMonthAmount)))]),r._v(" "),M("div",{staticClass:"exchange-rate"},[r._v("\n            Rate: "+r._s(r.formatExchangeRate(e.currentMonthExchangeRate))+"\n          ")])])]}},{key:"item.currentMonthLcy",fn:function(t){var e=t.item;return[M("span",{staticClass:"amount-cell advance-amount"},[r._v("\n          "+r._s(r.formatCurrency(e.currentMonthLcy))+"\n        ")])]}},{key:"item.settlementAmount",fn:function(t){var e=t.item;return[M("div",{staticClass:"amount-breakdown"},[M("span",{staticClass:"amount-cell"},[r._v(r._s(r.formatCurrency(e.settlementAmount)))]),r._v(" "),M("div",{staticClass:"exchange-rate"},[r._v("\n            Rate: "+r._s(r.formatExchangeRate(e.settlementExchangeRate))+"\n          ")])])]}},{key:"item.settlementLcy",fn:function(t){var e=t.item;return[M("span",{staticClass:"amount-cell settlement-amount"},[r._v("\n          "+r._s(r.formatCurrency(e.settlementLcy))+"\n        ")])]}},{key:"item.balanceLcy",fn:function(t){var e=t.item;return[M("span",{staticClass:"amount-cell balance-amount",class:r.getBalanceClass(e.balanceLcy)},[r._v("\n          "+r._s(r.formatCurrency(e.balanceLcy))+"\n        ")])]}},{key:"item.actions",fn:function(t){var e=t.item;return[M(n.a,{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return r.viewMinistryDetails(e)}}},[M("i",{staticClass:"fas fa-eye"}),r._v("\n          ລາຍລະອຽດ\n        ")])]}}])})],1),r._v(" "),M(v.a,{attrs:{"max-width":"1000px"},model:{value:r.detailsDialog,callback:function(t){r.detailsDialog=t},expression:"detailsDialog"}},[M(o.a,[M(c.d,[M("i",{staticClass:"fas fa-building"}),r._v("\n        ລາຍລະອຽດ - "+r._s(null===(t=r.selectedMinistry)||void 0===t?void 0:t.ministryName)+" ("+r._s(null===(e=r.selectedMinistry)||void 0===e?void 0:e.currencyCode)+")\n        "),M(w.a),r._v(" "),M(n.a,{attrs:{icon:""},on:{click:function(t){r.detailsDialog=!1}}},[M(h.a,[r._v("mdi-close")])],1)],1),r._v(" "),r.selectedMinistry?M(c.c,[M(x.a,{staticClass:"mb-4"},[M(d.a,{attrs:{cols:"12"}},[M("h3",[r._v("ສະຫຼຸບ - "+r._s(r.selectedMinistry.currencyCode)+" (Summary)")]),r._v(" "),M(y.a,{staticClass:"mb-3"})],1),r._v(" "),M(d.a,{attrs:{cols:"6",md:"3"}},[M("div",{staticClass:"detail-stat"},[M("strong",[r._v("ຍອດຍົກມາ:")]),r._v(" "),M("p",[r._v("\n                "+r._s(r.formatCurrency(r.selectedMinistry.broughtForwardAmount))+"\n                "+r._s(r.selectedMinistry.currencyCode)+"\n              ")]),r._v(" "),M("small",[r._v("LCY:\n                "+r._s(r.formatCurrency(r.selectedMinistry.broughtForwardLcy)))])])]),r._v(" "),M(d.a,{attrs:{cols:"6",md:"3"}},[M("div",{staticClass:"detail-stat"},[M("strong",[r._v("ລາຍຈ່າຍເດືອນນີ້:")]),r._v(" "),M("p",[r._v("\n                "+r._s(r.formatCurrency(r.selectedMinistry.currentMonthAmount))+"\n                "+r._s(r.selectedMinistry.currencyCode)+"\n              ")]),r._v(" "),M("small",[r._v("LCY:\n                "+r._s(r.formatCurrency(r.selectedMinistry.currentMonthLcy)))])])]),r._v(" "),M(d.a,{attrs:{cols:"6",md:"3"}},[M("div",{staticClass:"detail-stat"},[M("strong",[r._v("ຊຳລະເດືອນນີ້:")]),r._v(" "),M("p",[r._v("\n                "+r._s(r.formatCurrency(r.selectedMinistry.settlementAmount))+"\n                "+r._s(r.selectedMinistry.currencyCode)+"\n              ")]),r._v(" "),M("small",[r._v("LCY:\n                "+r._s(r.formatCurrency(r.selectedMinistry.settlementLcy)))])])]),r._v(" "),M(d.a,{attrs:{cols:"6",md:"3"}},[M("div",{staticClass:"detail-stat"},[M("strong",[r._v("ຍອດສະຫຼຸບ:")]),r._v(" "),M("p",{staticClass:"balance-text",class:r.getBalanceClass(r.selectedMinistry.balanceLcy)},[r._v("\n                "+r._s(r.formatCurrency(r.selectedMinistry.balanceLcy))+" LAK\n              ")])])])],1),r._v(" "),M(x.a,[M(d.a,{attrs:{cols:"12"}},[M("h3",[r._v("ລາຍການລະອຽດ (Detailed Transactions)")]),r._v(" "),M(y.a,{staticClass:"mb-3"}),r._v(" "),M(m.a,{staticClass:"detail-table",attrs:{headers:r.detailHeaders,items:r.ministryDetails,loading:r.loadingDetails,"hide-default-footer":""},scopedSlots:r._u([{key:"item.bookingDate",fn:function(t){var e=t.item;return[M("span",{staticClass:"date-cell"},[r._v(r._s(r.formatDate(e.bookingDate)))])]}},{key:"item.referenceNumber",fn:function(t){var e=t.item;return[M("span",{staticClass:"reference-cell"},[r._v(r._s(e.referenceNumber))])]}},{key:"item.amount",fn:function(t){var e=t.item;return[M("div",{staticClass:"amount-breakdown"},[M("span",{staticClass:"amount-cell"},[r._v(r._s(r.formatCurrency(e.amount)))]),r._v(" "),M("span",{staticClass:"currency-code"},[r._v(r._s(e.currencyCode))]),r._v(" "),M("div",{staticClass:"exchange-rate"},[r._v("\n                    Rate: "+r._s(r.formatExchangeRate(e.exchangeRate))+"\n                  ")])])]}},{key:"item.lcyAmount",fn:function(t){var e=t.item;return[M("span",{staticClass:"amount-cell lcy-amount"},[r._v(r._s(r.formatCurrency(e.lcyAmount)))])]}},{key:"item.type",fn:function(t){var e=t.item;return[M(l.a,{attrs:{color:r.getTypeColor(e.type),"text-color":"white",small:""}},[r._v("\n                  "+r._s(r.getTypeText(e.type))+"\n                ")])]}}],null,!1,1646429338)})],1)],1)],1):r._e()],1)],1)],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-section"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"fas fa-building"}),t._v("\n        ລາຍງານສະຫຼຸບຕາມກົມ\n      ")]),t._v(" "),e("p",{staticClass:"page-subtitle"},[t._v("Ministry Summary Report")])])}],!1,null,"6966d95a",null);e.default=component.exports},890:function(t,e,r){"use strict";r.r(e);var n=r(33),o=r(857);r.d(e,"Animation",(function(){return o.a})),r.d(e,"Animations",(function(){return o.b})),r.d(e,"ArcElement",(function(){return o.c})),r.d(e,"BarController",(function(){return o.d})),r.d(e,"BarElement",(function(){return o.e})),r.d(e,"BasePlatform",(function(){return o.f})),r.d(e,"BasicPlatform",(function(){return o.g})),r.d(e,"BubbleController",(function(){return o.h})),r.d(e,"CategoryScale",(function(){return o.i})),r.d(e,"Chart",(function(){return o.j})),r.d(e,"Colors",(function(){return o.k})),r.d(e,"DatasetController",(function(){return o.l})),r.d(e,"Decimation",(function(){return o.m})),r.d(e,"DomPlatform",(function(){return o.n})),r.d(e,"DoughnutController",(function(){return o.o})),r.d(e,"Element",(function(){return o.p})),r.d(e,"Filler",(function(){return o.q})),r.d(e,"Interaction",(function(){return o.r})),r.d(e,"Legend",(function(){return o.s})),r.d(e,"LineController",(function(){return o.t})),r.d(e,"LineElement",(function(){return o.u})),r.d(e,"LinearScale",(function(){return o.v})),r.d(e,"LogarithmicScale",(function(){return o.w})),r.d(e,"PieController",(function(){return o.x})),r.d(e,"PointElement",(function(){return o.y})),r.d(e,"PolarAreaController",(function(){return o.z})),r.d(e,"RadarController",(function(){return o.A})),r.d(e,"RadialLinearScale",(function(){return o.B})),r.d(e,"Scale",(function(){return o.C})),r.d(e,"ScatterController",(function(){return o.D})),r.d(e,"SubTitle",(function(){return o.E})),r.d(e,"Ticks",(function(){return o.F})),r.d(e,"TimeScale",(function(){return o.G})),r.d(e,"TimeSeriesScale",(function(){return o.H})),r.d(e,"Title",(function(){return o.I})),r.d(e,"Tooltip",(function(){return o.J})),r.d(e,"_adapters",(function(){return o.K})),r.d(e,"_detectPlatform",(function(){return o.L})),r.d(e,"animator",(function(){return o.M})),r.d(e,"controllers",(function(){return o.N})),r.d(e,"defaults",(function(){return o.P})),r.d(e,"elements",(function(){return o.Q})),r.d(e,"layouts",(function(){return o.R})),r.d(e,"plugins",(function(){return o.S})),r.d(e,"registerables",(function(){return o.T})),r.d(e,"registry",(function(){return o.U})),r.d(e,"scales",(function(){return o.V})),o.j.register.apply(o.j,Object(n.a)(o.T)),e.default=o.j}}]);