(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1318:function(t,e,r){"use strict";r.r(e);r(44),r(9),r(5),r(30);var n=r(31),o=r(20),c=r(33),d=(r(92),r(8),r(250),r(209),r(344),r(339),r(62),r(54),r(53),r(821),r(447),{name:"AuditReportsDialog",props:{show:{type:Boolean,default:!1}},data:function(){return{activeTab:"user-activity",reportTabs:[{id:"user-activity",label:"ກິດຈະກຳຜູ້ໃຊ້",icon:"fas fa-users"},{id:"system-activity",label:"ກິດຈະກຳລະບົບ",icon:"fas fa-server"},{id:"export",label:"ສົ່ງອອກ",icon:"fas fa-download"}],userActivityLoading:!1,userActivityData:[],userActivityFilter:{startDate:this.getDateDaysAgo(30),endDate:this.getTodayDate()},systemActivityLoading:!1,systemActivityData:null,systemActivityFilter:{period:"30"},exportLoading:!1,exportFilter:{startDate:this.getDateDaysAgo(30),endDate:this.getTodayDate(),reportType:"summary"},actionLabels:{CREATE:"ສ້າງ",UPDATE:"ແກ້ໄຂ",APPROVE:"ອະນຸມັດ",SETTLE:"ຊຳລະ",DELETE:"ລົບ"}}},computed:{isLoading:function(){return this.userActivityLoading||this.systemActivityLoading||this.exportLoading},uniqueActiveUsers:function(){return this.userActivityData.length},totalActivities:function(){return this.userActivityData.reduce((function(t,e){return t+e.totalActivities}),0)},mostActiveUser:function(){return 0===this.userActivityData.length?"N/A":this.userActivityData.reduce((function(t,e){return e.totalActivities>t.totalActivities?e:t})).userName},maxDailyActivity:function(){var t;return null!==(t=this.systemActivityData)&&void 0!==t&&t.dailyStats?Math.max.apply(Math,Object(c.a)(this.systemActivityData.dailyStats.map((function(t){return t.count})))):1}},watch:{show:function(t){t&&this.initializeReports()}},methods:{initializeReports:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchUserActivity();case 2:return e.next=4,t.fetchSystemActivity();case 4:case"end":return e.stop()}}),e)})))()},fetchUserActivity:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userActivityLoading=!0,e.prev=1,r={startDate:t.userActivityFilter.startDate,endDate:t.userActivityFilter.endDate},e.next=5,t.$axios.get("/api/money-advances/audit/date-range",{params:r});case 5:n=e.sent,data=n.data,o={},data.data.forEach((function(t){var e,r=t.changedBy,n=(null===(e=t.changedByUser)||void 0===e?void 0:e.cus_name)||"Unknown User";o[r]||(o[r]={userId:r,userName:n,activities:{},totalActivities:0,lastActivity:t.changedAt}),o[r].activities[t.action]||(o[r].activities[t.action]=0),o[r].activities[t.action]++,o[r].totalActivities++,new Date(t.changedAt)>new Date(o[r].lastActivity)&&(o[r].lastActivity=t.changedAt)})),t.userActivityData=Object.values(o).sort((function(a,b){return b.totalActivities-a.totalActivities})),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching user activity:",e.t0),t.userActivityData=[],t.$emit("error","ເກີດຂໍ້ຜິດພາດໃນການໂຫຼດຂໍ້ມູນກິດຈະກຳຜູ້ໃຊ້");case 17:return e.prev=17,t.userActivityLoading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,12,17,20]])})))()},fetchSystemActivity:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,c,d,l,data,v,f,m,i,x,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.systemActivityLoading=!0,e.prev=1,r=parseInt(t.systemActivityFilter.period),o=new Date,(c=new Date).setDate(c.getDate()-r),d={startDate:c.toISOString().split("T")[0],endDate:o.toISOString().split("T")[0],limit:500},e.next=9,t.$axios.get("/api/money-advances/audit/date-range",{params:d});case 9:for(l=e.sent,data=l.data,v={},f={},m=0,data.data.forEach((function(t){var e=t.changedAt.split("T")[0];v[e]||(v[e]={date:e,count:0}),v[e].count++,f[t.action]||(f[t.action]=0),f[t.action]++,m++})),i=0;i<r;i++)(x=new Date).setDate(x.getDate()-i),y=x.toISOString().split("T")[0],v[y]||(v[y]={date:y,count:0});t.systemActivityData={dailyStats:Object.values(v).sort((function(a,b){return new Date(a.date)-new Date(b.date)})),activityBreakdown:Object.entries(f).map((function(t){var e=Object(n.a)(t,2),r=e[0],o=e[1];return{action:r,count:o,percentage:(o/m*100).toFixed(1)}})).sort((function(a,b){return b.count-a.count})),recentChanges:data.data.sort((function(a,b){return new Date(b.changedAt)-new Date(a.changedAt)})).slice(0,10).map((function(t){var e,r;return{id:t.id,action:t.action,user:(null===(e=t.changedByUser)||void 0===e?void 0:e.cus_name)||"Unknown",recordId:t.recordId,recordPurpose:null===(r=t.record)||void 0===r?void 0:r.purpose,changedAt:t.changedAt}}))},e.next=24;break;case 19:e.prev=19,e.t0=e.catch(1),console.error("Error fetching system activity:",e.t0),t.systemActivityData=null,t.$emit("error","ເກີດຂໍ້ຜິດພາດໃນການໂຫຼດຂໍ້ມູນກິດຈະກຳລະບົບ");case 24:return e.prev=24,t.systemActivityLoading=!1,e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[1,19,24,27]])})))()},exportCSV:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,link;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.exportLoading=!0,e.prev=1,r={startDate:t.exportFilter.startDate,endDate:t.exportFilter.endDate,format:"csv"},e.next=5,t.$axios.get("/api/money-advances/audit/export",{params:r,responseType:"blob"});case 5:n=e.sent,o=new Blob([n.data],{type:"text/csv"}),c=window.URL.createObjectURL(o),(link=document.createElement("a")).href=c,link.download="audit-report-".concat(r.startDate,"-to-").concat(r.endDate,".csv"),document.body.appendChild(link),link.click(),document.body.removeChild(link),window.URL.revokeObjectURL(c),t.$emit("success","ສົ່ງອອກ CSV ສຳເລັດ"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.error("Export error:",e.t0),t.$emit("error","ເກີດຂໍ້ຜິດພາດໃນການສົ່ງອອກ CSV");case 22:return e.prev=22,t.exportLoading=!1,e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,18,22,25]])})))()},generateReport:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.exportLoading=!0;try{t.$emit("success","ຟັງຊັ່ນນີ້ຈະຖືກພັດທະນາໃນອະນາຄົດ")}catch(e){t.$emit("error","ເກີດຂໍ້ຜິດພາດໃນການສ້າງລາຍງານ")}finally{t.exportLoading=!1}case 2:case"end":return e.stop()}}),e)})))()},backupData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.exportLoading=!0;try{t.$emit("success","ຟັງຊັ່ນນີ້ຈະຖືກພັດທະນາໃນອະນາຄົດ")}catch(e){t.$emit("error","ເກີດຂໍ້ຜິດພາດໃນການສໍາລອງຂໍ້ມູນ")}finally{t.exportLoading=!1}case 2:case"end":return e.stop()}}),e)})))()},refreshCurrentReport:function(){"user-activity"===this.activeTab?this.fetchUserActivity():"system-activity"===this.activeTab&&this.fetchSystemActivity()},getActivityIcon:function(t){return{CREATE:"fas fa-plus-circle",UPDATE:"fas fa-edit",APPROVE:"fas fa-check-circle",SETTLE:"fas fa-money-bill-wave",DELETE:"fas fa-trash-alt"}[t]||"fas fa-question-circle"},getActivityLabel:function(t){return this.actionLabels[t]||t},formatDateTime:function(t){return t?new Date(t).toLocaleString("lo-LA"):"N/A"},formatShortDate:function(t){return new Date(t).toLocaleDateString("lo-LA",{month:"short",day:"numeric"})},formatRelativeTime:function(t){var e=new Date-new Date(t),r=Math.floor(e/6e4),n=Math.floor(e/36e5),o=Math.floor(e/864e5);return r<1?"ຫຼ້າສຸດ":r<60?"".concat(r," ນາທີຜ່ານມາ"):n<24?"".concat(n," ຊົ່ວໂມງຜ່ານມາ"):"".concat(o," ມື້ຜ່ານມາ")},getDateDaysAgo:function(t){var e=new Date;return e.setDate(e.getDate()-t),e.toISOString().split("T")[0]},getTodayDate:function(){return(new Date).toISOString().split("T")[0]},closeDialog:function(){this.$emit("close")}}}),l=(r(977),r(32)),component=Object(l.a)(d,(function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"modal-overlay",on:{click:t.closeDialog}},[e("div",{staticClass:"modal-dialog reports-dialog",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"modal-header"},[t._m(0),t._v(" "),e("button",{staticClass:"close-btn",on:{click:t.closeDialog}},[e("i",{staticClass:"fas fa-times"})])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"tabs-container"},[e("div",{staticClass:"tabs"},t._l(t.reportTabs,(function(r){return e("button",{key:r.id,class:["tab-btn",{active:t.activeTab===r.id}],on:{click:function(e){t.activeTab=r.id}}},[e("i",{class:r.icon}),t._v("\n            "+t._s(r.label)+"\n          ")])})),0)]),t._v(" "),"user-activity"===t.activeTab?e("div",{staticClass:"report-content"},[e("div",{staticClass:"report-header"},[t._m(1),t._v(" "),e("div",{staticClass:"date-filter"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userActivityFilter.startDate,expression:"userActivityFilter.startDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.userActivityFilter.startDate},on:{change:t.fetchUserActivity,input:function(e){e.target.composing||t.$set(t.userActivityFilter,"startDate",e.target.value)}}}),t._v(" "),e("span",[t._v("ຫາ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userActivityFilter.endDate,expression:"userActivityFilter.endDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.userActivityFilter.endDate},on:{change:t.fetchUserActivity,input:function(e){e.target.composing||t.$set(t.userActivityFilter,"endDate",e.target.value)}}}),t._v(" "),e("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.fetchUserActivity}},[e("i",{staticClass:"fas fa-search"}),t._v("\n              ຄົ້ນຫາ\n            ")])])]),t._v(" "),t.userActivityLoading?e("div",{staticClass:"loading-state"},[e("div",{staticClass:"spinner-sm"}),t._v(" "),e("span",[t._v("ກຳລັງໂຫຼດຂໍ້ມູນ...")])]):t.userActivityData.length>0?e("div",{staticClass:"user-activity-content"},[e("div",{staticClass:"activity-summary"},[e("div",{staticClass:"summary-card"},[t._m(2),t._v(" "),e("div",{staticClass:"summary-info"},[e("div",{staticClass:"summary-number"},[t._v(t._s(t.uniqueActiveUsers))]),t._v(" "),e("div",{staticClass:"summary-label"},[t._v("ຜູ້ໃຊ້ທີ່ມີກິດຈະກຳ")])])]),t._v(" "),e("div",{staticClass:"summary-card"},[t._m(3),t._v(" "),e("div",{staticClass:"summary-info"},[e("div",{staticClass:"summary-number"},[t._v(t._s(t.totalActivities))]),t._v(" "),e("div",{staticClass:"summary-label"},[t._v("ລວມກິດຈະກຳ")])])]),t._v(" "),e("div",{staticClass:"summary-card"},[t._m(4),t._v(" "),e("div",{staticClass:"summary-info"},[e("div",{staticClass:"summary-text"},[t._v(t._s(t.mostActiveUser))]),t._v(" "),e("div",{staticClass:"summary-label"},[t._v("ຜູ້ໃຊ້ທີ່ມີກິດຈະກຳສູງສຸດ")])])])]),t._v(" "),e("div",{staticClass:"activity-table"},[e("table",{staticClass:"table"},[t._m(5),t._v(" "),e("tbody",t._l(t.userActivityData,(function(r){return e("tr",{key:r.userId},[e("td",[e("div",{staticClass:"user-info"},[e("div",{staticClass:"user-name"},[t._v(t._s(r.userName))]),t._v(" "),e("div",{staticClass:"user-id"},[t._v("ID: "+t._s(r.userId))])])]),t._v(" "),e("td",[e("span",{staticClass:"activity-count create"},[t._v(t._s(r.activities.CREATE||0))])]),t._v(" "),e("td",[e("span",{staticClass:"activity-count update"},[t._v(t._s(r.activities.UPDATE||0))])]),t._v(" "),e("td",[e("span",{staticClass:"activity-count approve"},[t._v(t._s(r.activities.APPROVE||0))])]),t._v(" "),e("td",[e("span",{staticClass:"activity-count settle"},[t._v(t._s(r.activities.SETTLE||0))])]),t._v(" "),e("td",[e("span",{staticClass:"activity-count delete"},[t._v(t._s(r.activities.DELETE||0))])]),t._v(" "),e("td",[e("span",{staticClass:"total-count"},[t._v(t._s(r.totalActivities))])]),t._v(" "),e("td",[t._v(t._s(t.formatDateTime(r.lastActivity)))])])})),0)])])]):e("div",{staticClass:"no-data"},[e("i",{staticClass:"fas fa-chart-bar"}),t._v(" "),e("p",[t._v("ບໍ່ມີຂໍ້ມູນກິດຈະກຳໃນຊ່ວງເວລານີ້")])])]):t._e(),t._v(" "),"system-activity"===t.activeTab?e("div",{staticClass:"report-content"},[e("div",{staticClass:"report-header"},[t._m(6),t._v(" "),e("div",{staticClass:"date-filter"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.systemActivityFilter.period,expression:"systemActivityFilter.period"}],staticClass:"form-control",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.systemActivityFilter,"period",e.target.multiple?r:r[0])},t.fetchSystemActivity]}},[e("option",{attrs:{value:"7"}},[t._v("7 ວັນຜ່ານມາ")]),t._v(" "),e("option",{attrs:{value:"30"}},[t._v("30 ວັນຜ່ານມາ")]),t._v(" "),e("option",{attrs:{value:"90"}},[t._v("90 ວັນຜ່ານມາ")]),t._v(" "),e("option",{attrs:{value:"365"}},[t._v("1 ປີຜ່ານມາ")])]),t._v(" "),e("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.fetchSystemActivity}},[e("i",{staticClass:"fas fa-sync"}),t._v("\n              ອັບເດດ\n            ")])])]),t._v(" "),t.systemActivityLoading?e("div",{staticClass:"loading-state"},[e("div",{staticClass:"spinner-sm"}),t._v(" "),e("span",[t._v("ກຳລັງໂຫຼດຂໍ້ມູນ...")])]):t.systemActivityData?e("div",{staticClass:"system-activity-content"},[e("div",{staticClass:"chart-container"},[e("h6",[t._v("ກິດຈະກຳລາຍວັນ")]),t._v(" "),e("div",{staticClass:"chart-placeholder"},[e("div",{staticClass:"chart-bars"},t._l(t.systemActivityData.dailyStats,(function(r,n){return e("div",{key:n,staticClass:"chart-bar",style:{height:r.count/t.maxDailyActivity*100+"%"},attrs:{title:"".concat(r.date,": ").concat(r.count," ກິດຈະກຳ")}},[e("div",{staticClass:"bar-value"},[t._v(t._s(r.count))])])})),0),t._v(" "),e("div",{staticClass:"chart-labels"},t._l(t.systemActivityData.dailyStats,(function(r,n){return e("span",{key:n,staticClass:"chart-label"},[t._v("\n                  "+t._s(t.formatShortDate(r.date))+"\n                ")])})),0)])]),t._v(" "),e("div",{staticClass:"activity-breakdown"},[e("h6",[t._v("ການແບ່ງປະເພດກິດຈະກຳ")]),t._v(" "),e("div",{staticClass:"breakdown-grid"},t._l(t.systemActivityData.activityBreakdown,(function(r){return e("div",{key:r.action,staticClass:"breakdown-item"},[e("div",{staticClass:"breakdown-icon",class:r.action.toLowerCase()},[e("i",{class:t.getActivityIcon(r.action)})]),t._v(" "),e("div",{staticClass:"breakdown-info"},[e("div",{staticClass:"breakdown-label"},[t._v(t._s(t.getActivityLabel(r.action)))]),t._v(" "),e("div",{staticClass:"breakdown-count"},[t._v(t._s(r.count))]),t._v(" "),e("div",{staticClass:"breakdown-percentage"},[t._v(t._s(r.percentage)+"%")])])])})),0)]),t._v(" "),e("div",{staticClass:"recent-changes"},[e("h6",[t._v("ການປ່ຽນແປງຫຼ້າສຸດ")]),t._v(" "),e("div",{staticClass:"changes-timeline"},t._l(t.systemActivityData.recentChanges,(function(r){return e("div",{key:r.id,staticClass:"change-item"},[e("div",{staticClass:"change-icon",class:r.action.toLowerCase()},[e("i",{class:t.getActivityIcon(r.action)})]),t._v(" "),e("div",{staticClass:"change-content"},[e("div",{staticClass:"change-text"},[e("strong",[t._v(t._s(r.user))]),t._v(" \n                    "+t._s(t.getActivityLabel(r.action))+" \n                    "),e("em",[t._v(t._s(r.recordPurpose||"Record #".concat(r.recordId)))])]),t._v(" "),e("div",{staticClass:"change-time"},[t._v(t._s(t.formatRelativeTime(r.changedAt)))])])])})),0)])]):e("div",{staticClass:"no-data"},[e("i",{staticClass:"fas fa-server"}),t._v(" "),e("p",[t._v("ບໍ່ມີຂໍ້ມູນກິດຈະກຳລະບົບ")])])]):t._e(),t._v(" "),"export"===t.activeTab?e("div",{staticClass:"report-content"},[e("div",{staticClass:"export-content"},[t._m(7),t._v(" "),e("div",{staticClass:"export-options"},[e("div",{staticClass:"export-option"},[t._m(8),t._v(" "),e("p",[t._v("ສົ່ງອອກຂໍ້ມູນປະຫວັດການປ່ຽນແປງໃນຮູບແບບ CSV ສຳລັບການວິເຄາະ")]),t._v(" "),e("div",{staticClass:"export-controls"},[e("div",{staticClass:"date-range"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.exportFilter.startDate,expression:"exportFilter.startDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.exportFilter.startDate},on:{input:function(e){e.target.composing||t.$set(t.exportFilter,"startDate",e.target.value)}}}),t._v(" "),e("span",[t._v("ຫາ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.exportFilter.endDate,expression:"exportFilter.endDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.exportFilter.endDate},on:{input:function(e){e.target.composing||t.$set(t.exportFilter,"endDate",e.target.value)}}})]),t._v(" "),e("button",{staticClass:"btn btn-secondary",attrs:{disabled:t.exportLoading},on:{click:t.exportCSV}},[t.exportLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("i",{staticClass:"fas fa-download"}),t._v("\n                  ສົ່ງອອກ CSV\n                ")])])]),t._v(" "),e("div",{staticClass:"export-option"},[t._m(9),t._v(" "),e("p",[t._v("ສົ່ງອອກລາຍງານສະຫຼຸບດ້ວຍກາຟິກແລະການວິເຄາະ")]),t._v(" "),e("div",{staticClass:"export-controls"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.exportFilter.reportType,expression:"exportFilter.reportType"}],staticClass:"form-control",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.exportFilter,"reportType",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:"summary"}},[t._v("ສະຫຼຸບທົ່ວໄປ")]),t._v(" "),e("option",{attrs:{value:"user-activity"}},[t._v("ກິດຈະກຳຜູ້ໃຊ້")]),t._v(" "),e("option",{attrs:{value:"trend-analysis"}},[t._v("ການວິເຄາະແນວໂນ້ມ")])]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.exportLoading},on:{click:t.generateReport}},[t.exportLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("i",{staticClass:"fas fa-file-pdf"}),t._v("\n                  ສ້າງລາຍງານ\n                ")])])]),t._v(" "),e("div",{staticClass:"export-option"},[t._m(10),t._v(" "),e("p",[t._v("ສໍາລອງຂໍ້ມູນປະຫວັດການປ່ຽນແປງທັງໝົດ")]),t._v(" "),e("div",{staticClass:"export-controls"},[t._m(11),t._v(" "),e("button",{staticClass:"btn btn-warning",attrs:{disabled:t.exportLoading},on:{click:t.backupData}},[t.exportLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("i",{staticClass:"fas fa-archive"}),t._v("\n                  ສໍາລອງຂໍ້ມູນ\n                ")])])])])])]):t._e()]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline",attrs:{disabled:t.isLoading},on:{click:t.refreshCurrentReport}},[e("i",{staticClass:"fas fa-sync"}),t._v("\n        ອັບເດດ\n      ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",on:{click:t.closeDialog}},[e("i",{staticClass:"fas fa-times"}),t._v("\n        ປິດ\n      ")])])])]):t._e()}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-title-section"},[e("i",{staticClass:"fas fa-chart-line modal-icon"}),t._v(" "),e("h5",{staticClass:"modal-title"},[t._v("ລາຍງານປະຫວັດການປ່ຽນແປງ")])])},function(){var t=this._self._c;return t("h6",[t("i",{staticClass:"fas fa-users"}),this._v("\n            ລາຍງານກິດຈະກຳຜູ້ໃຊ້\n          ")])},function(){var t=this._self._c;return t("div",{staticClass:"summary-icon"},[t("i",{staticClass:"fas fa-user-friends"})])},function(){var t=this._self._c;return t("div",{staticClass:"summary-icon"},[t("i",{staticClass:"fas fa-edit"})])},function(){var t=this._self._c;return t("div",{staticClass:"summary-icon"},[t("i",{staticClass:"fas fa-crown"})])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("ຜູ້ໃຊ້")]),t._v(" "),e("th",[t._v("ສ້າງ")]),t._v(" "),e("th",[t._v("ແກ້ໄຂ")]),t._v(" "),e("th",[t._v("ອະນຸມັດ")]),t._v(" "),e("th",[t._v("ຊຳລະ")]),t._v(" "),e("th",[t._v("ລົບ")]),t._v(" "),e("th",[t._v("ລວມ")]),t._v(" "),e("th",[t._v("ກິດຈະກຳຫຼ້າສຸດ")])])])},function(){var t=this._self._c;return t("h6",[t("i",{staticClass:"fas fa-server"}),this._v("\n            ລາຍງານກິດຈະກຳລະບົບ\n          ")])},function(){var t=this._self._c;return t("h6",[t("i",{staticClass:"fas fa-download"}),this._v("\n            ສົ່ງອອກລາຍງານ\n          ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"option-header"},[e("i",{staticClass:"fas fa-file-csv"}),t._v(" "),e("h6",[t._v("ສົ່ງອອກຂໍ້ມູນ CSV")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"option-header"},[e("i",{staticClass:"fas fa-chart-pie"}),t._v(" "),e("h6",[t._v("ລາຍງານສະຫຼຸບ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"option-header"},[e("i",{staticClass:"fas fa-database"}),t._v(" "),e("h6",[t._v("ສໍາລອງຂໍ້ມູນ")])])},function(){var t=this._self._c;return t("div",{staticClass:"backup-info"},[t("small",[this._v("ຂໍ້ມູນທັງໝົດຈະຖືກສໍາລອງໃນຮູບແບບ JSON")])])}],!1,null,"7e1ed358",null);e.default=component.exports},920:function(t,e,r){var content=r(978);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("9673ac5e",content,!0,{sourceMap:!1})},977:function(t,e,r){"use strict";r(920)},978:function(t,e,r){var n=r(15)((function(i){return i[1]}));n.push([t.i,".modal-overlay[data-v-7e1ed358]{align-items:center;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:rgba(0,0,0,.6);bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1000}.reports-dialog[data-v-7e1ed358]{background:#fff;border-radius:12px;box-shadow:0 20px 60px rgba(0,0,0,.3);max-height:90vh;max-width:1200px;overflow:hidden;width:95%}.modal-header[data-v-7e1ed358]{align-items:center;background:linear-gradient(135deg,#667eea,#764ba2);border-bottom:1px solid #e9ecef;color:#fff;display:flex;justify-content:space-between;padding:24px}.modal-title-section[data-v-7e1ed358]{align-items:center;display:flex;gap:12px}.modal-icon[data-v-7e1ed358]{font-size:20px}.modal-title[data-v-7e1ed358]{font-size:18px;font-weight:600;margin:0}.close-btn[data-v-7e1ed358]{background:none;border:none;border-radius:4px;color:#fff;cursor:pointer;font-size:18px;opacity:.8;padding:8px;transition:opacity .2s}.close-btn[data-v-7e1ed358]:hover{background:hsla(0,0%,100%,.1);opacity:1}.modal-body[data-v-7e1ed358]{max-height:70vh;overflow-y:auto;padding:0}.tabs-container[data-v-7e1ed358]{background:#f8f9fa;border-bottom:1px solid #e9ecef}.tabs[data-v-7e1ed358]{display:flex;padding:0 24px}.tab-btn[data-v-7e1ed358]{align-items:center;background:none;border:none;border-bottom:3px solid transparent;color:#6c757d;cursor:pointer;display:flex;font-size:14px;font-weight:500;gap:8px;padding:16px 24px;transition:all .2s ease}.tab-btn[data-v-7e1ed358]:hover{background:hsla(0,0%,100%,.5);color:#495057}.tab-btn.active[data-v-7e1ed358]{background:#fff;border-bottom-color:#667eea;color:#667eea}.report-content[data-v-7e1ed358]{padding:24px}.report-header[data-v-7e1ed358]{align-items:center;border-bottom:1px solid #e9ecef;display:flex;justify-content:space-between;margin-bottom:24px;padding-bottom:16px}.report-header h6[data-v-7e1ed358]{color:#2c3e50;font-size:16px;gap:8px;margin:0}.date-filter[data-v-7e1ed358],.report-header h6[data-v-7e1ed358]{align-items:center;display:flex}.date-filter[data-v-7e1ed358]{gap:12px}.date-filter span[data-v-7e1ed358]{color:#6c757d;font-size:14px}.form-control[data-v-7e1ed358]{border:1px solid #ddd;border-radius:4px;font-size:14px;padding:8px 12px}.loading-state[data-v-7e1ed358]{align-items:center;color:#6c757d;display:flex;gap:12px;justify-content:center;padding:60px}.spinner-sm[data-v-7e1ed358]{animation:spin-7e1ed358 1s linear infinite;border:2px solid #f3f3f3;border-radius:50%;border-top-color:#667eea;height:20px;width:20px}.activity-summary[data-v-7e1ed358]{grid-gap:16px;display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));margin-bottom:24px}.summary-card[data-v-7e1ed358]{background:#fff;border:1px solid #e9ecef;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.05);gap:12px;padding:16px}.summary-card[data-v-7e1ed358],.summary-icon[data-v-7e1ed358]{align-items:center;display:flex}.summary-icon[data-v-7e1ed358]{background:#667eea;border-radius:50%;color:#fff;font-size:16px;height:40px;justify-content:center;width:40px}.summary-number[data-v-7e1ed358]{color:#2c3e50;font-size:20px;font-weight:700}.summary-text[data-v-7e1ed358]{color:#2c3e50;font-size:14px;font-weight:600}.summary-label[data-v-7e1ed358]{color:#7f8c8d;font-size:11px;margin-top:4px}.activity-table[data-v-7e1ed358]{border:1px solid #e9ecef;border-radius:8px;overflow:hidden}.table[data-v-7e1ed358]{border-collapse:collapse;margin:0;width:100%}.table th[data-v-7e1ed358]{background:#f8f9fa;border-bottom:1px solid #e9ecef;color:#495057;font-weight:600;text-align:left}.table td[data-v-7e1ed358],.table th[data-v-7e1ed358]{font-size:13px;padding:12px}.table td[data-v-7e1ed358]{border-bottom:1px solid #f1f3f4}.user-info[data-v-7e1ed358]{display:flex;flex-direction:column;gap:2px}.user-name[data-v-7e1ed358]{color:#2c3e50;font-weight:600}.user-id[data-v-7e1ed358]{color:#7f8c8d;font-size:11px}.activity-count[data-v-7e1ed358]{border-radius:12px;display:inline-block;font-size:11px;font-weight:600;min-width:24px;padding:4px 8px;text-align:center}.activity-count.create[data-v-7e1ed358]{background:#d4edda;color:#155724}.activity-count.update[data-v-7e1ed358]{background:#fff3cd;color:#856404}.activity-count.approve[data-v-7e1ed358]{background:#cce5ff;color:#004085}.activity-count.settle[data-v-7e1ed358]{background:#e2e3e5;color:#495057}.activity-count.delete[data-v-7e1ed358]{background:#f8d7da;color:#721c24}.total-count[data-v-7e1ed358]{color:#2c3e50;font-weight:700}.chart-container[data-v-7e1ed358]{margin-bottom:32px}.chart-container h6[data-v-7e1ed358]{color:#2c3e50;margin-bottom:16px}.chart-placeholder[data-v-7e1ed358]{background:#f8f9fa;border-radius:8px;min-height:200px;padding:20px}.chart-bars[data-v-7e1ed358]{align-items:end;display:flex;gap:4px;height:150px;margin-bottom:8px}.chart-bar[data-v-7e1ed358]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:4px 4px 0 0;cursor:pointer;flex:1;min-height:8px;position:relative;transition:all .2s ease}.chart-bar[data-v-7e1ed358]:hover{opacity:.8}.bar-value[data-v-7e1ed358]{color:#495057;font-size:10px;font-weight:600;left:50%;position:absolute;top:-20px;transform:translateX(-50%)}.chart-labels[data-v-7e1ed358]{display:flex;gap:4px}.chart-label[data-v-7e1ed358]{color:#6c757d;flex:1;font-size:10px;text-align:center}.breakdown-grid[data-v-7e1ed358]{grid-gap:16px;display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));margin-bottom:32px}.breakdown-item[data-v-7e1ed358]{align-items:center;background:#f8f9fa;border-radius:8px;display:flex;gap:12px;padding:16px}.breakdown-icon[data-v-7e1ed358]{align-items:center;border-radius:50%;color:#fff;display:flex;font-size:14px;height:32px;justify-content:center;width:32px}.breakdown-icon.create[data-v-7e1ed358]{background:#28a745}.breakdown-icon.update[data-v-7e1ed358]{background:#ffc107;color:#212529}.breakdown-icon.approve[data-v-7e1ed358]{background:#17a2b8}.breakdown-icon.settle[data-v-7e1ed358]{background:#6c757d}.breakdown-icon.delete[data-v-7e1ed358]{background:#dc3545}.breakdown-label[data-v-7e1ed358]{color:#2c3e50;font-size:12px;font-weight:600}.breakdown-count[data-v-7e1ed358]{color:#495057;font-size:18px;font-weight:700}.breakdown-percentage[data-v-7e1ed358]{color:#7f8c8d;font-size:11px}.changes-timeline[data-v-7e1ed358]{display:flex;flex-direction:column;gap:12px}.change-item[data-v-7e1ed358]{background:#f8f9fa;border-radius:6px;gap:12px;padding:12px}.change-icon[data-v-7e1ed358],.change-item[data-v-7e1ed358]{align-items:center;display:flex}.change-icon[data-v-7e1ed358]{border-radius:50%;color:#fff;font-size:10px;height:24px;justify-content:center;width:24px}.change-content[data-v-7e1ed358]{flex:1}.change-text[data-v-7e1ed358]{color:#495057;font-size:13px;margin-bottom:2px}.change-time[data-v-7e1ed358]{color:#7f8c8d;font-size:11px}.export-options[data-v-7e1ed358]{display:flex;flex-direction:column;gap:24px}.export-option[data-v-7e1ed358]{border:1px solid #e9ecef;border-radius:8px;padding:20px}.option-header[data-v-7e1ed358]{align-items:center;display:flex;gap:12px;margin-bottom:12px}.option-header i[data-v-7e1ed358]{color:#667eea;font-size:18px}.option-header h6[data-v-7e1ed358]{color:#2c3e50;margin:0}.export-controls[data-v-7e1ed358]{gap:12px;margin-top:16px}.date-range[data-v-7e1ed358],.export-controls[data-v-7e1ed358]{align-items:center;display:flex}.date-range[data-v-7e1ed358]{gap:8px}.backup-info[data-v-7e1ed358]{color:#6c757d}.btn[data-v-7e1ed358]{align-items:center;border:none;border-radius:4px;cursor:pointer;display:inline-flex;font-size:14px;font-weight:500;gap:8px;padding:8px 16px;transition:all .2s ease}.btn[data-v-7e1ed358]:hover:not(:disabled){transform:translateY(-1px)}.btn[data-v-7e1ed358]:disabled{cursor:not-allowed;opacity:.6;transform:none!important}.btn-primary[data-v-7e1ed358]{background:#667eea;color:#fff}.btn-secondary[data-v-7e1ed358]{background:#6c757d;color:#fff}.btn-warning[data-v-7e1ed358]{background:#ffc107;color:#212529}.btn-outline[data-v-7e1ed358]{background:#fff;border:2px solid #667eea;color:#667eea}.btn-outline[data-v-7e1ed358]:hover:not(:disabled){background:#667eea;color:#fff}.btn-sm[data-v-7e1ed358]{font-size:12px;padding:6px 12px}.modal-footer[data-v-7e1ed358]{align-items:center;background:#f8f9fa;border-top:1px solid #e9ecef;display:flex;justify-content:space-between;padding:20px 24px}.no-data[data-v-7e1ed358]{color:#6c757d;padding:60px 20px;text-align:center}.no-data i[data-v-7e1ed358]{font-size:48px;margin-bottom:16px;opacity:.5}@media (max-width:768px){.reports-dialog[data-v-7e1ed358]{margin:10px;width:98%}.tabs[data-v-7e1ed358]{overflow-x:auto;padding:0 16px}.tab-btn[data-v-7e1ed358]{padding:12px 16px;white-space:nowrap}.report-content[data-v-7e1ed358]{padding:16px}.report-header[data-v-7e1ed358]{align-items:stretch;flex-direction:column;gap:16px}.date-filter[data-v-7e1ed358]{flex-wrap:wrap}.activity-summary[data-v-7e1ed358],.breakdown-grid[data-v-7e1ed358]{grid-template-columns:1fr}.export-controls[data-v-7e1ed358]{align-items:stretch;flex-direction:column}.date-range[data-v-7e1ed358]{justify-content:center}}@keyframes spin-7e1ed358{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""]),n.locals={},t.exports=n}}]);