(window.webpackJsonp=window.webpackJsonp||[]).push([[241],{1294:function(t,e,r){var content=r(1612);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("0c7159cc",content,!0,{sourceMap:!1})},1611:function(t,e,r){"use strict";r(1294)},1612:function(t,e,r){var n=r(14)((function(i){return i[1]}));n.push([t.i,".money-advances-report[data-v-4999fb42]{padding:0}.report-header[data-v-4999fb42]{align-items:center;background:linear-gradient(135deg,#01532b,#0d4f3c 50%,#1a5d4a);border-radius:8px;box-shadow:0 4px 12px rgba(1,83,43,.3);color:#fff;display:flex;justify-content:space-between;margin-bottom:24px;padding:20px}.title-section h1[data-v-4999fb42]{font-size:28px;font-weight:600;margin:0}.title-section p[data-v-4999fb42]{font-size:14px;margin:5px 0 0;opacity:.9}.action-buttons[data-v-4999fb42]{display:flex;gap:12px}.filter-card[data-v-4999fb42]{background:#fff;border-radius:8px}.filter-title[data-v-4999fb42]{background:#01532b;color:#fff;font-weight:600}.custom-primary-bg[data-v-4999fb42]{background-color:#01532b!important}.custom-secondary-btn[data-v-4999fb42]{background-color:#6c757d!important;color:#fff!important;font-weight:500!important;text-transform:none!important}.filter-actions[data-v-4999fb42]{display:flex;flex-direction:column;gap:8px}.date-range-alert[data-v-4999fb42]{background-color:rgba(1,83,43,.1)!important;border-color:#01532b!important}.date-range-alert[data-v-4999fb42],.date-range-alert[data-v-4999fb42] .v-icon{color:#01532b!important}.bank-account-selection[data-v-4999fb42]{display:flex;flex-direction:column}.bank-account-selection .bank-name[data-v-4999fb42]{color:#01532b;font-size:14px;font-weight:600}.bank-account-selection small[data-v-4999fb42]{color:#666;font-size:11px}.bank-account-item[data-v-4999fb42]{padding:8px 0}.bank-account-item .bank-name[data-v-4999fb42]{color:#01532b;font-size:14px;font-weight:600}.bank-account-item .bank-details[data-v-4999fb42]{color:#666;font-size:12px;margin-top:2px}.summary-cards[data-v-4999fb42]{margin-bottom:24px}.summary-card[data-v-4999fb42]{border-top:3px solid #01532b;height:140px;overflow:hidden;position:relative}.summary-content[data-v-4999fb42]{align-items:center;display:flex;height:100%}.summary-icon[data-v-4999fb42]{color:#01532b;font-size:48px;margin-right:16px;opacity:.8}.summary-details h3[data-v-4999fb42]{color:#01532b;font-size:16px;font-weight:600;margin:0}.summary-details p[data-v-4999fb42]{color:#666;font-size:12px;margin:4px 0}.summary-details h2[data-v-4999fb42]{color:#01532b;font-size:24px;font-weight:700;margin:8px 0 0}.summary-lcy[data-v-4999fb42]{color:#01532b;font-size:11px;margin-top:4px!important;opacity:.8}.advance-card[data-v-4999fb42]{background:linear-gradient(135deg,#01532b,#0d4f3c);color:#fff}.advance-card .summary-details h2[data-v-4999fb42],.advance-card .summary-details h3[data-v-4999fb42],.advance-card .summary-icon[data-v-4999fb42],.advance-card .summary-lcy[data-v-4999fb42]{color:#fff!important}.settlement-card[data-v-4999fb42]{background:linear-gradient(135deg,#f0fdf4,#dcfce7)}.outstanding-card[data-v-4999fb42]{background:linear-gradient(135deg,#fef2f2,#fecaca)}.records-card[data-v-4999fb42]{background:linear-gradient(135deg,#fffbeb,#fef3c7)}.additional-summary[data-v-4999fb42]{margin-bottom:24px}.stats-card[data-v-4999fb42]{border-left:4px solid #01532b;height:100px}.stats-number[data-v-4999fb42]{color:#01532b;font-size:24px;font-weight:700;margin:0}.stats-label[data-v-4999fb42]{color:#6b7280;font-size:11px;line-height:1.2;margin:4px 0 0}.table-card[data-v-4999fb42]{border-left:4px solid #01532b;margin-bottom:24px}.table-title[data-v-4999fb42]{background:linear-gradient(90deg,#f8f9fa,#e9ecef);color:#01532b;font-weight:600}.search-field[data-v-4999fb42]{max-width:300px}.report-table[data-v-4999fb42]{background:#fff}.ministry-cell[data-v-4999fb42]{display:flex;flex-direction:column}.ministry-name[data-v-4999fb42]{color:#01532b;font-size:14px;font-weight:600}.ministry-code[data-v-4999fb42]{background:#f8f9fa;border-radius:4px;color:#666;display:inline-block;font-family:monospace;font-size:11px;margin-top:4px;padding:2px 6px;width:-moz-fit-content;width:fit-content}.bank-account-cell[data-v-4999fb42]{display:flex;flex-direction:column}.bank-account-name[data-v-4999fb42]{color:#01532b;font-size:14px;font-weight:600}.bank-account-number[data-v-4999fb42]{color:#666;font-family:monospace;font-size:11px}.bank-name[data-v-4999fb42]{color:#999;font-size:12px;font-style:italic}.amount-breakdown[data-v-4999fb42]{align-items:center;display:flex;flex-direction:column}.amount-cell[data-v-4999fb42]{font-family:monospace;font-size:13px;font-weight:600}.exchange-rate[data-v-4999fb42]{color:#666;font-size:10px;margin-top:2px}.lcy-amount[data-v-4999fb42]{color:#01532b}.settlement-amount[data-v-4999fb42]{color:#059669}.outstanding-amount[data-v-4999fb42]{color:#dc3545}.settled-amount[data-v-4999fb42]{color:#28a745}.progress-text[data-v-4999fb42]{color:#fff;font-size:12px;font-weight:600;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.dialog-title[data-v-4999fb42]{background:linear-gradient(90deg,#01532b,#0d4f3c);color:#fff;font-weight:600}.section-title[data-v-4999fb42]{color:#01532b;font-weight:600;margin-bottom:8px}.custom-divider[data-v-4999fb42]{border-color:#01532b!important;border-width:2px!important}.detail-stat[data-v-4999fb42]{background:linear-gradient(135deg,#f0fdf4,#dcfce7);border:1px solid #bbf7d0;border-radius:8px;padding:12px;text-align:center}.detail-stat strong[data-v-4999fb42]{color:#01532b;display:block;font-size:14px;margin-bottom:8px}.detail-stat p[data-v-4999fb42]{color:#01532b;font-family:monospace;font-size:18px;font-weight:600;margin:0}.detail-stat small[data-v-4999fb42]{color:#666;display:block;font-size:11px;font-style:italic;margin-top:4px}.detail-item[data-v-4999fb42]{font-size:14px;margin-bottom:12px}.detail-item strong[data-v-4999fb42]{color:#01532b}.detail-table[data-v-4999fb42]{border:1px solid #e5e7eb;border-radius:8px;margin-top:16px}.date-cell[data-v-4999fb42]{font-family:monospace;font-size:13px}@media print{.action-buttons[data-v-4999fb42],.filter-card[data-v-4999fb42],.v-btn[data-v-4999fb42]{display:none!important}.additional-summary[data-v-4999fb42],.summary-cards[data-v-4999fb42]{page-break-inside:avoid}}@media (max-width:768px){.report-header[data-v-4999fb42]{gap:16px}.report-header[data-v-4999fb42],.summary-content[data-v-4999fb42]{flex-direction:column;text-align:center}.summary-icon[data-v-4999fb42]{margin-bottom:8px;margin-right:0}.filter-actions[data-v-4999fb42]{margin-top:16px}.filter-actions .v-btn[data-v-4999fb42]{width:100%}.stats-card[data-v-4999fb42]{height:80px}.stats-number[data-v-4999fb42]{font-size:18px}.stats-label[data-v-4999fb42]{font-size:10px}.amount-breakdown[data-v-4999fb42]{font-size:12px}.detail-stat[data-v-4999fb42]{padding:8px}.detail-stat p[data-v-4999fb42]{font-size:14px}}",""]),n.locals={},t.exports=n},1863:function(t,e,r){"use strict";r.r(e);var n=r(878),o=r(321),l=r(318),c=r(19),d=r(322),m=r(797),v=r(806),f=r(771),_=r(317),h=r(168),y=r(319),x=r(796),C=r(66),k=r(794),D=r(112),w=(r(34),r(130),r(17)),A=(r(5),r(54),r(53),r(448),r(68),r(30),r(8),r(10),r(833),r(337),r(85),{name:"MoneyAdvancesReport",data:function(){var t=this;return{loading:!1,exporting:!1,search:"",detailsDialog:!1,selectedAdvance:null,filters:{fromDate:null,toDate:null,bankAccountId:null},rules:{required:function(t){return!!t||"ກະລຸນາເລືອກວັນທີ"},dateRange:function(){return!t.filters.fromDate||!t.filters.toDate||(new Date(t.filters.fromDate)<=new Date(t.filters.toDate)||"ວັນທີເລີ່ມຕົ້ນຕ້ອງນ້ອຍກວ່າວັນທີສິ້ນສຸດ")}},bankAccounts:[],reportData:[],summaryData:{totalAdvances:0,totalSettlements:0,outstandingBalance:0,totalAdvancesLcy:0,totalSettlementsLcy:0,outstandingBalanceLcy:0,totalRecords:0,fullySettledCount:0,partiallySettledCount:0,unsettledCount:0,overdueCount:0,averageSettlementPercentage:"0.00"},tableHeaders:[{text:"ວັນທີຈ່າຍ",value:"bookingDate",width:"100px"},{text:"ກະຊວງ",value:"ministry",width:"180px"},{text:"ບັນຊີທະນາຄານ",value:"bankAccount",width:"180px"},{text:"ສະກຸນເງິນ",value:"currencyCode",width:"80px"},{text:"ຈຳນວນເງິນ",value:"amount",width:"120px"},{text:"LCY",value:"lcyEquivalent",width:"120px"},{text:"ຊຳລະແລ້ວ",value:"settlementAmount",width:"120px"},{text:"ຄ້າງຊຳລະ",value:"outstandingAmount",width:"120px"},{text:"ສະຖານະ",value:"status",width:"100px"},{text:"ຊຳລະ %",value:"settlementPercentage",width:"120px"},{text:"ຈັດການ",value:"actions",sortable:!1,width:"100px"}],settlementHeaders:[{text:"ວັນທີຊຳລະ",value:"bookingDate"},{text:"ຈຳນວນ",value:"amount"},{text:"ວິທີການ",value:"method"},{text:"ໝາຍເຫດ",value:"notes"}]}},computed:{formattedFromDate:function(){return this.filters.fromDate?this.formatDisplayDate(this.filters.fromDate):""},formattedToDate:function(){return this.filters.toDate?this.formatDisplayDate(this.filters.toDate):""},maxDate:function(){return(new Date).toISOString().substr(0,10)},isDateRangeValid:function(){return!(!this.filters.fromDate||!this.filters.toDate)&&new Date(this.filters.fromDate)<=new Date(this.filters.toDate)},daysBetween:function(){if(!this.filters.fromDate||!this.filters.toDate)return 0;var t=new Date(this.filters.fromDate),e=new Date(this.filters.toDate).getTime()-t.getTime();return Math.ceil(e/864e5)+1}},created:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadInitialData();case 2:t.setDefaultDateRange(),t.applyFilters();case 4:case"end":return e.stop()}}),e)})))()},methods:{loadInitialData:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/bank_account/find");case 3:r=e.sent,t.bankAccounts=r.data.data||r.data,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading bank accounts:",e.t0),t.$toast.error("Error loading initial data");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},setDefaultDateRange:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0);this.filters.fromDate=e.toISOString().substr(0,10),this.filters.toDate=r.toISOString().substr(0,10)},applyFilters:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){var r,n,o,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.filters.fromDate&&t.filters.toDate){e.next=3;break}return t.$toast.warning("ກະລຸນາເລືອກໄລຍະເວລາ"),e.abrupt("return");case 3:if(t.isDateRangeValid){e.next=6;break}return t.$toast.warning("ໄລຍະເວລາບໍ່ຖືກຕ້ອງ"),e.abrupt("return");case 6:return t.loading=!0,e.prev=7,(r=new URLSearchParams).append("fromDate",t.filters.fromDate),r.append("toDate",t.filters.toDate),t.filters.bankAccountId&&r.append("bankAccountId",t.filters.bankAccountId),console.log("Fetching data with params:",r.toString()),e.next=15,t.$axios.get("/api/money-advances/report?".concat(r));case 15:if(!((n=e.sent).data&&n.data.success&&n.data.data)){e.next=23;break}t.reportData=n.data.data,t.summaryData=n.data.summary||t.getDefaultSummary(),console.info("Filtered data ".concat(JSON.stringify(t.reportData))),console.log("Data loaded successfully:",t.reportData.length,"records"),e.next=24;break;case 23:throw new Error("Invalid response format");case 24:e.next=32;break;case 26:e.prev=26,e.t0=e.catch(7),console.error("Error loading report data:",e.t0),t.reportData=[],t.summaryData=t.getDefaultSummary(),e.t0.response?(l=e.t0.response.status,c=(null===(o=e.t0.response.data)||void 0===o?void 0:o.message)||"Server error",t.$toast.error("Error ".concat(l,": ").concat(c))):e.t0.request?t.$toast.error("Network error. Please check your connection."):t.$toast.error("Error loading report data");case 32:return e.prev=32,t.loading=!1,e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[7,26,32,35]])})))()},resetFilters:function(){this.filters={fromDate:null,toDate:null,bankAccountId:null},this.setDefaultDateRange(),this.applyFilters()},getDefaultSummary:function(){return{totalAdvances:0,totalSettlements:0,outstandingBalance:0,totalAdvancesLcy:0,totalSettlementsLcy:0,outstandingBalanceLcy:0,totalRecords:0,fullySettledCount:0,partiallySettledCount:0,unsettledCount:0,overdueCount:0,averageSettlementPercentage:"0.00"}},viewAdvanceDetails:function(t){this.selectedAdvance=t,this.detailsDialog=!0},exportToExcel:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){var r,n,o,link;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.exporting=!0,e.prev=1,r=new URLSearchParams,Object.keys(t.filters).forEach((function(e){t.filters[e]&&r.append(e,t.filters[e])})),e.next=6,t.$axios.get("/api/money-advances/report/export?".concat(r),{responseType:"blob"});case 6:n=e.sent,o=new Blob([n.data]),(link=document.createElement("a")).href=window.URL.createObjectURL(o),link.download="money-advances-report-".concat(t.filters.fromDate,"-to-").concat(t.filters.toDate,".xlsx"),link.click(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error exporting report:",e.t0),t.$toast.error("Error exporting report");case 18:return e.prev=18,t.exporting=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,14,18,21]])})))()},printReport:function(){window.print()},formatDisplayDate:function(t){if(!t)return"";var e=new Date(t),r=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return"".concat(r,"/").concat(n,"/").concat(o)},formatCurrency:function(t){return t?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t):"0.00"},formatExchangeRate:function(t){return t?new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(t):"1.0000"},formatDate:function(t){return t?new Date(t).toLocaleDateString("en-GB"):""},getCurrencyColor:function(t){return{USD:"#01532B",LAK:"#01532B",THB:"#F59E0B",EUR:"#8B5CF6",CNY:"#EF4444"}[t]||"#6B7280"},getStatusColor:function(t){switch(t){case"settled":return"#28a745";case"pending":return"#ffc107";case"approved":return"#17a2b8";case"rejected":return"#dc3545";default:return"#6c757d"}},getStatusText:function(t){switch(t){case"settled":return"ຊຳລະແລ້ວ";case"pending":return"ລໍຖ້າ";case"approved":return"ອະນຸມັດ";case"rejected":return"ປະຕິເສດ";default:return t}},getProgressColor:function(t){var e=parseFloat(t);return 100===e?"#28a745":e>=50?"#ffc107":"#dc3545"}}}),S=(r(1611),r(31)),component=Object(S.a)(A,(function(){var t,e,r,w=this,A=w._self._c;return A("div",{staticClass:"money-advances-report"},[A("div",{staticClass:"report-header"},[w._m(0),w._v(" "),A("div",{staticClass:"action-buttons"},[A(o.a,{attrs:{color:"#01532B",loading:w.exporting,dark:""},on:{click:w.exportToExcel}},[A("i",{staticClass:"fas fa-file-excel"}),w._v("\n        Export Excel\n      ")]),w._v(" "),A(o.a,{attrs:{color:"#01532B",dark:""},on:{click:w.printReport}},[A("i",{staticClass:"fas fa-print"}),w._v("\n        Print\n      ")])],1)]),w._v(" "),A(l.a,{staticClass:"filter-card mb-4",attrs:{elevation:"2"}},[A(c.d,{staticClass:"filter-title d-flex align-center"},[A(h.a,{staticClass:"mr-2"},[w._v("mdi-filter")]),w._v("\n      ຕົວກອງ (Filters)\n    ")],1),w._v(" "),A(c.c,{staticClass:"pa-4"},[A(x.a,[A(m.a,{attrs:{cols:"12",md:"3"}},[A(D.a,{attrs:{type:"date",label:"ຈາກວັນທີ (From Date)",outlined:"",dense:"",rules:[w.rules.required,w.rules.dateRange],max:w.filters.toDate||w.maxDate},on:{change:w.applyFilters},model:{value:w.filters.fromDate,callback:function(t){w.$set(w.filters,"fromDate",t)},expression:"filters.fromDate"}})],1),w._v(" "),A(m.a,{attrs:{cols:"12",md:"3"}},[A(D.a,{attrs:{type:"date",label:"ເຖິງວັນທີ (To Date)",outlined:"",dense:"",rules:[w.rules.required,w.rules.dateRange],min:w.filters.fromDate,max:w.maxDate},on:{change:w.applyFilters},model:{value:w.filters.toDate,callback:function(t){w.$set(w.filters,"toDate",t)},expression:"filters.toDate"}})],1),w._v(" "),A(m.a,{attrs:{cols:"12",md:"4"}},[A(C.a,{attrs:{items:w.bankAccounts,"item-text":"accountName","item-value":"id",label:"ບັນຊີທະນາຄານ (Bank Account)",clearable:"",outlined:"",dense:""},on:{change:w.applyFilters},scopedSlots:w._u([{key:"selection",fn:function(t){var e=t.item;return[A("div",{staticClass:"bank-account-selection"},[A("span",{staticClass:"bank-name"},[w._v(w._s(e.accountName))]),w._v(" "),A("small",[w._v(w._s(e.bankName||"")+" - "+w._s(e.accountNumber))])])]}},{key:"item",fn:function(t){var e=t.item;return[A("div",{staticClass:"bank-account-item"},[A("div",{staticClass:"bank-name"},[w._v(w._s(e.accountName))]),w._v(" "),A("div",{staticClass:"bank-details"},[w._v(w._s(e.bankName||"")+" - "+w._s(e.accountNumber))])])]}}]),model:{value:w.filters.bankAccountId,callback:function(t){w.$set(w.filters,"bankAccountId",t)},expression:"filters.bankAccountId"}})],1),w._v(" "),A(m.a,{attrs:{cols:"12",md:"2"}},[A("div",{staticClass:"filter-actions"},[A(o.a,{staticClass:"custom-primary-bg white--text mb-2",attrs:{block:"",outlined:"",loading:w.loading,disabled:!w.isDateRangeValid},on:{click:w.applyFilters}},[A(h.a,{attrs:{left:"",color:"white"}},[w._v("mdi-magnify")]),w._v("\n              ຄົ້ນຫາ\n            ")],1),w._v(" "),A(o.a,{staticClass:"custom-secondary-btn",attrs:{block:"",outlined:"",color:"grey lighten-1"},on:{click:w.resetFilters}},[A(h.a,{attrs:{left:""}},[w._v("mdi-restore")]),w._v("\n              ຣີເຊັດ\n            ")],1)],1)])],1),w._v(" "),w.filters.fromDate&&w.filters.toDate?A(x.a,{staticClass:"mt-2"},[A(m.a,{attrs:{cols:"12"}},[A(n.a,{staticClass:"date-range-alert",attrs:{type:"info",dense:"",outlined:""}},[A("div",{staticClass:"d-flex align-center"},[A(h.a,{staticClass:"mr-2"},[w._v("mdi-calendar-range")]),w._v(" "),A("span",[w._v("\n                ໄລຍະເວລາທີ່ເລືອກ: "+w._s(w.formattedFromDate)+" ເຖິງ\n                "+w._s(w.formattedToDate)+" ("+w._s(w.daysBetween)+" ວັນ)\n              ")])],1)])],1)],1):w._e()],1)],1),w._v(" "),A(x.a,{staticClass:"summary-cards mb-4"},[A(m.a,{attrs:{cols:"12",md:"3"}},[A(l.a,{staticClass:"summary-card advance-card",attrs:{elevation:"3"}},[A(c.c,[A("div",{staticClass:"summary-content"},[A("div",{staticClass:"summary-icon"},[A("i",{staticClass:"fas fa-money-bill-wave"})]),w._v(" "),A("div",{staticClass:"summary-details"},[A("h3",{staticClass:"summary-title"},[w._v("ລວມລາຍຈ່າຍ")]),w._v(" "),A("p",{staticClass:"summary-subtitle"},[w._v("Total Advances")]),w._v(" "),A("h2",{staticClass:"summary-amount"},[w._v(w._s(w.formatCurrency(w.summaryData.totalAdvancesLcy)))]),w._v(" "),A("p",{staticClass:"summary-lcy"},[w._v("LAK")])])])])],1)],1),w._v(" "),A(m.a,{attrs:{cols:"12",md:"3"}},[A(l.a,{staticClass:"summary-card settlement-card",attrs:{elevation:"3"}},[A(c.c,[A("div",{staticClass:"summary-content"},[A("div",{staticClass:"summary-icon"},[A("i",{staticClass:"fas fa-hand-holding-usd"})]),w._v(" "),A("div",{staticClass:"summary-details"},[A("h3",{staticClass:"summary-title"},[w._v("ລວມຊຳລະ")]),w._v(" "),A("p",{staticClass:"summary-subtitle"},[w._v("Total Settlements")]),w._v(" "),A("h2",{staticClass:"summary-amount"},[w._v(w._s(w.formatCurrency(w.summaryData.totalSettlementsLcy)))]),w._v(" "),A("p",{staticClass:"summary-lcy"},[w._v("LAK")])])])])],1)],1),w._v(" "),A(m.a,{attrs:{cols:"12",md:"3"}},[A(l.a,{staticClass:"summary-card outstanding-card",attrs:{elevation:"3"}},[A(c.c,[A("div",{staticClass:"summary-content"},[A("div",{staticClass:"summary-icon"},[A("i",{staticClass:"fas fa-clock"})]),w._v(" "),A("div",{staticClass:"summary-details"},[A("h3",{staticClass:"summary-title"},[w._v("ຄ້າງຊຳລະ")]),w._v(" "),A("p",{staticClass:"summary-subtitle"},[w._v("Outstanding Balance")]),w._v(" "),A("h2",{staticClass:"summary-amount"},[w._v(w._s(w.formatCurrency(w.summaryData.outstandingBalanceLcy)))]),w._v(" "),A("p",{staticClass:"summary-lcy"},[w._v("LAK")])])])])],1)],1),w._v(" "),A(m.a,{attrs:{cols:"12",md:"3"}},[A(l.a,{staticClass:"summary-card records-card",attrs:{elevation:"3"}},[A(c.c,[A("div",{staticClass:"summary-content"},[A("div",{staticClass:"summary-icon"},[A("i",{staticClass:"fas fa-file-invoice"})]),w._v(" "),A("div",{staticClass:"summary-details"},[A("h3",{staticClass:"summary-title"},[w._v("ລວມລາຍການ")]),w._v(" "),A("p",{staticClass:"summary-subtitle"},[w._v("Total Records")]),w._v(" "),A("h2",{staticClass:"summary-amount"},[w._v(w._s(w.summaryData.totalRecords||0))]),w._v(" "),A("p",{staticClass:"summary-lcy"},[w._v("Records")])])])])],1)],1)],1),w._v(" "),w.summaryData.fullySettledCount?A(x.a,{staticClass:"additional-summary mb-4"},[A(m.a,{attrs:{cols:"12",md:"3"}},[A(l.a,{staticClass:"stats-card",attrs:{elevation:"2"}},[A(c.c,{staticClass:"text-center"},[A("h3",{staticClass:"stats-number"},[w._v(w._s(w.summaryData.fullySettledCount||0))]),w._v(" "),A("p",{staticClass:"stats-label"},[w._v("ຊຳລະສົມບູນ"),A("br"),w._v("Fully Settled")])])],1)],1),w._v(" "),A(m.a,{attrs:{cols:"12",md:"3"}},[A(l.a,{staticClass:"stats-card",attrs:{elevation:"2"}},[A(c.c,{staticClass:"text-center"},[A("h3",{staticClass:"stats-number"},[w._v(w._s(w.summaryData.partiallySettledCount||0))]),w._v(" "),A("p",{staticClass:"stats-label"},[w._v("ຊຳລະບາງສ່ວນ"),A("br"),w._v("Partially Settled")])])],1)],1),w._v(" "),A(m.a,{attrs:{cols:"12",md:"3"}},[A(l.a,{staticClass:"stats-card",attrs:{elevation:"2"}},[A(c.c,{staticClass:"text-center"},[A("h3",{staticClass:"stats-number"},[w._v(w._s(w.summaryData.unsettledCount||0))]),w._v(" "),A("p",{staticClass:"stats-label"},[w._v("ຍັງບໍ່ໄດ້ຊຳລະ"),A("br"),w._v("Unsettled")])])],1)],1),w._v(" "),A(m.a,{attrs:{cols:"12",md:"3"}},[A(l.a,{staticClass:"stats-card",attrs:{elevation:"2"}},[A(c.c,{staticClass:"text-center"},[A("h3",{staticClass:"stats-number"},[w._v(w._s(w.summaryData.averageSettlementPercentage||0)+"%")]),w._v(" "),A("p",{staticClass:"stats-label"},[w._v("ສະເລ່ຍຊຳລະ"),A("br"),w._v("Avg Settlement")])])],1)],1)],1):w._e(),w._v(" "),A(l.a,{staticClass:"table-card",attrs:{elevation:"2"}},[A(c.d,{staticClass:"table-title"},[A("i",{staticClass:"fas fa-table"}),w._v("\n      ລາຍລະອຽດການຈ່າຍເງິນລ່ວງໜ້າ (Money Advances Details)\n      "),A(k.a),w._v(" "),A(D.a,{staticClass:"search-field",attrs:{"append-icon":"mdi-magnify",label:"ຄົ້ນຫາ...","single-line":"","hide-details":"",outlined:"",dense:""},model:{value:w.search,callback:function(t){w.search=t},expression:"search"}})],1),w._v(" "),A(v.a,{staticClass:"report-table",attrs:{headers:w.tableHeaders,items:w.reportData,search:w.search,loading:w.loading,"items-per-page":25,"footer-props":{itemsPerPageOptions:[10,25,50,100],itemsPerPageText:"ແຖວຕໍ່ໜ້າ:"}},scopedSlots:w._u([{key:"item.bookingDate",fn:function(t){var e=t.item;return[A("span",{staticClass:"date-cell"},[w._v(w._s(w.formatDate(e.bookingDate)))])]}},{key:"item.ministry",fn:function(t){var e,r,n=t.item;return[A("div",{staticClass:"ministry-cell"},[A("span",{staticClass:"ministry-name"},[w._v(w._s((null===(e=n.ministry)||void 0===e?void 0:e.ministryName)||""))]),w._v(" "),A("span",{staticClass:"ministry-code"},[w._v(w._s((null===(r=n.ministry)||void 0===r?void 0:r.ministryCode)||""))])])]}},{key:"item.bankAccount",fn:function(t){var e,r,n,o=t.item;return[A("div",{staticClass:"bank-account-cell"},[A("span",{staticClass:"bank-account-name"},[w._v(w._s((null===(e=o.bankAccount)||void 0===e?void 0:e.accountName)||""))]),w._v(" "),A("span",{staticClass:"bank-account-number"},[w._v(w._s((null===(r=o.bankAccount)||void 0===r?void 0:r.accountNumber)||""))]),w._v(" "),A("span",{staticClass:"bank-name"},[w._v(w._s((null===(n=o.bankAccount)||void 0===n?void 0:n.bankName)||""))])])]}},{key:"item.currencyCode",fn:function(t){var e=t.item;return[A(d.a,{attrs:{small:"",color:w.getCurrencyColor(e.currencyCode),"text-color":"white"}},[w._v("\n          "+w._s(e.currencyCode)+"\n        ")])]}},{key:"item.amount",fn:function(t){var e=t.item;return[A("div",{staticClass:"amount-breakdown"},[A("span",{staticClass:"amount-cell"},[w._v(w._s(w.formatCurrency(e.amount)))]),w._v(" "),A("div",{staticClass:"exchange-rate"},[w._v("\n            Rate: "+w._s(w.formatExchangeRate(e.exchangeRate))+"\n          ")])])]}},{key:"item.lcyEquivalent",fn:function(t){var e=t.item;return[A("span",{staticClass:"amount-cell lcy-amount"},[w._v("\n          "+w._s(w.formatCurrency(e.lcyEquivalent))+"\n        ")])]}},{key:"item.settlementAmount",fn:function(t){var e=t.item;return[A("span",{staticClass:"amount-cell settlement-amount"},[w._v("\n          "+w._s(w.formatCurrency(e.settlementAmount))+"\n        ")])]}},{key:"item.outstandingAmount",fn:function(t){var e=t.item;return[A("span",{staticClass:"amount-cell",class:e.outstandingAmount>0?"outstanding-amount":"settled-amount"},[w._v("\n          "+w._s(w.formatCurrency(e.outstandingAmount))+"\n        ")])]}},{key:"item.status",fn:function(t){var e=t.item;return[A(d.a,{attrs:{small:"",color:w.getStatusColor(e.status),"text-color":"white"}},[w._v("\n          "+w._s(w.getStatusText(e.status))+"\n        ")])]}},{key:"item.settlementPercentage",fn:function(t){var e=t.item;return[A(y.a,{attrs:{value:parseFloat(e.settlementPercentage),color:w.getProgressColor(e.settlementPercentage),height:"20",rounded:""}},[A("span",{staticClass:"progress-text"},[w._v(w._s(e.settlementPercentage)+"%")])])]}},{key:"item.actions",fn:function(t){var e=t.item;return[A(o.a,{attrs:{small:"",color:"#01532B",dark:""},on:{click:function(t){return w.viewAdvanceDetails(e)}}},[A("i",{staticClass:"fas fa-eye"}),w._v("\n          ລາຍລະອຽດ\n        ")])]}}])})],1),w._v(" "),A(f.a,{attrs:{"max-width":"1000px"},model:{value:w.detailsDialog,callback:function(t){w.detailsDialog=t},expression:"detailsDialog"}},[A(l.a,[A(c.d,{staticClass:"dialog-title"},[A("i",{staticClass:"fas fa-money-bill-wave"}),w._v("\n        ລາຍລະອຽດການຈ່າຍເງິນ #"+w._s(null===(t=w.selectedAdvance)||void 0===t?void 0:t.id)+"\n        "),A(k.a),w._v(" "),A(o.a,{attrs:{icon:""},on:{click:function(t){w.detailsDialog=!1}}},[A(h.a,[w._v("mdi-close")])],1)],1),w._v(" "),w.selectedAdvance?A(c.c,[A(x.a,{staticClass:"mb-4"},[A(m.a,{attrs:{cols:"12"}},[A("h3",{staticClass:"section-title"},[w._v("ຂໍ້ມູນການຈ່າຍເງິນ (Payment Information)")]),w._v(" "),A(_.a,{staticClass:"mb-3 custom-divider"})],1),w._v(" "),A(m.a,{attrs:{cols:"6",md:"3"}},[A("div",{staticClass:"detail-stat"},[A("strong",[w._v("ວັນທີຈ່າຍ:")]),w._v(" "),A("p",[w._v(w._s(w.formatDate(w.selectedAdvance.bookingDate)))])])]),w._v(" "),A(m.a,{attrs:{cols:"6",md:"3"}},[A("div",{staticClass:"detail-stat"},[A("strong",[w._v("ຈຳນວນເງິນ:")]),w._v(" "),A("p",[w._v("\n                "+w._s(w.formatCurrency(w.selectedAdvance.amount))+"\n                "+w._s(w.selectedAdvance.currencyCode)+"\n              ")]),w._v(" "),A("small",[w._v("LCY: "+w._s(w.formatCurrency(w.selectedAdvance.lcyEquivalent)))])])]),w._v(" "),A(m.a,{attrs:{cols:"6",md:"3"}},[A("div",{staticClass:"detail-stat"},[A("strong",[w._v("ສະຖານະ:")]),w._v(" "),A("p",[w._v(w._s(w.getStatusText(w.selectedAdvance.status)))])])]),w._v(" "),A(m.a,{attrs:{cols:"6",md:"3"}},[A("div",{staticClass:"detail-stat"},[A("strong",[w._v("ຄ້າງຊຳລະ:")]),w._v(" "),A("p",{staticClass:"outstanding-text"},[w._v("\n                "+w._s(w.formatCurrency(w.selectedAdvance.outstandingAmount))+" "+w._s(w.selectedAdvance.currencyCode)+"\n              ")])])])],1),w._v(" "),A(x.a,{staticClass:"mb-4"},[A(m.a,{attrs:{cols:"12"}},[A("h3",{staticClass:"section-title"},[w._v("ຂໍ້ມູນທົ່ວໄປ (General Information)")]),w._v(" "),A(_.a,{staticClass:"mb-3 custom-divider"})],1),w._v(" "),A(m.a,{attrs:{cols:"6"}},[A("div",{staticClass:"detail-item"},[A("strong",[w._v("ກະຊວງ:")]),w._v(" "+w._s((null===(e=w.selectedAdvance.ministry)||void 0===e?void 0:e.ministryName)||"")+"\n            ")]),w._v(" "),A("div",{staticClass:"detail-item"},[A("strong",[w._v("ລະຫັດກະຊວງ:")]),w._v(" "+w._s((null===(r=w.selectedAdvance.ministry)||void 0===r?void 0:r.ministryCode)||"")+"\n            ")]),w._v(" "),A("div",{staticClass:"detail-item"},[A("strong",[w._v("ຈຸດປະສົງ:")]),w._v(" "+w._s(w.selectedAdvance.purpose)+"\n            ")])]),w._v(" "),A(m.a,{attrs:{cols:"6"}},[A("div",{staticClass:"detail-item"},[A("strong",[w._v("ບັນຊີທະນາຄານ:")]),w._v(" "+w._s(w.selectedAdvance.bankAccount.accountName)+"\n            ")]),w._v(" "),A("div",{staticClass:"detail-item"},[A("strong",[w._v("ເລກບັນຊີ:")]),w._v(" "+w._s(w.selectedAdvance.bankAccount.accountNumber)+"\n            ")]),w._v(" "),A("div",{staticClass:"detail-item"},[A("strong",[w._v("ທະນາຄານ:")]),w._v(" "+w._s(w.selectedAdvance.bankAccount.bankName)+"\n            ")])])],1),w._v(" "),w.selectedAdvance.settlementLine&&w.selectedAdvance.settlementLine.length>0?A(x.a,[A(m.a,{attrs:{cols:"12"}},[A("h3",{staticClass:"section-title"},[w._v("ລາຍການຊຳລະ (Settlement Details)")]),w._v(" "),A(_.a,{staticClass:"mb-3 custom-divider"}),w._v(" "),A(v.a,{staticClass:"detail-table",attrs:{headers:w.settlementHeaders,items:w.selectedAdvance.settlementLine,"hide-default-footer":""},scopedSlots:w._u([{key:"item.bookingDate",fn:function(t){var e=t.item;return[A("span",{staticClass:"date-cell"},[w._v(w._s(w.formatDate(e.bookingDate)))])]}},{key:"item.amount",fn:function(t){var e=t.item;return[A("span",{staticClass:"amount-cell"},[w._v(w._s(w.formatCurrency(e.amount)))])]}},{key:"item.method",fn:function(t){var e=t.item;return[A(d.a,{attrs:{small:"",color:"#01532B","text-color":"white"}},[w._v("\n                  "+w._s(e.method)+"\n                ")])]}}],null,!1,1055275594)})],1)],1):w._e()],1):w._e()],1)],1)],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-section"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"fas fa-money-bill-wave"}),t._v("\n        ລາຍງານການຈ່າຍເງິນລ່ວງໜ້າ\n      ")]),t._v(" "),e("p",{staticClass:"page-subtitle"},[t._v("Money Advances Report")])])}],!1,null,"4999fb42",null);e.default=component.exports},856:function(t,e,r){var content=r(857);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("1c8f4490",content,!0,{sourceMap:!1})},857:function(t,e,r){var n=r(14)((function(i){return i[1]}));n.push([t.i,'.theme--light.v-alert .v-alert--prominent .v-alert__icon:after{background:rgba(0,0,0,.12)}.theme--dark.v-alert .v-alert--prominent .v-alert__icon:after{background:hsla(0,0%,100%,.12)}.v-sheet.v-alert{border-radius:4px}.v-sheet.v-alert:not(.v-sheet--outlined){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.v-sheet.v-alert.v-sheet--shaped{border-radius:24px 4px}.v-alert{display:block;font-size:16px;margin-bottom:16px;padding:16px;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-alert:not(.v-sheet--tile){border-radius:4px}.v-application--is-ltr .v-alert>.v-alert__content,.v-application--is-ltr .v-alert>.v-icon{margin-right:16px}.v-application--is-rtl .v-alert>.v-alert__content,.v-application--is-rtl .v-alert>.v-icon{margin-left:16px}.v-application--is-ltr .v-alert>.v-icon+.v-alert__content{margin-right:0}.v-application--is-rtl .v-alert>.v-icon+.v-alert__content{margin-left:0}.v-application--is-ltr .v-alert>.v-alert__content+.v-icon{margin-right:0}.v-application--is-rtl .v-alert>.v-alert__content+.v-icon{margin-left:0}.v-alert__border{border-style:solid;border-width:4px;content:"";position:absolute}.v-alert__border:not(.v-alert__border--has-color){opacity:.26}.v-alert__border--left,.v-alert__border--right{bottom:0;top:0}.v-alert__border--bottom,.v-alert__border--top{left:0;right:0}.v-alert__border--bottom{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0}.v-application--is-ltr .v-alert__border--left{border-bottom-left-radius:inherit;border-top-left-radius:inherit;left:0}.v-application--is-ltr .v-alert__border--right,.v-application--is-rtl .v-alert__border--left{border-bottom-right-radius:inherit;border-top-right-radius:inherit;right:0}.v-application--is-rtl .v-alert__border--right{border-bottom-left-radius:inherit;border-top-left-radius:inherit;left:0}.v-alert__border--top{border-top-left-radius:inherit;border-top-right-radius:inherit;top:0}.v-alert__content{flex:1 1 auto}.v-application--is-ltr .v-alert__dismissible{margin:-16px -8px -16px 8px}.v-application--is-rtl .v-alert__dismissible{margin:-16px 8px -16px -8px}.v-alert__icon{align-self:flex-start;border-radius:50%;height:24px;min-width:24px;position:relative}.v-application--is-ltr .v-alert__icon{margin-right:16px}.v-application--is-rtl .v-alert__icon{margin-left:16px}.v-alert__icon.v-icon{font-size:24px}.v-alert__wrapper{align-items:center;border-radius:inherit;display:flex}.v-application--is-ltr .v-alert--border.v-alert--prominent .v-alert__icon{margin-left:8px}.v-application--is-rtl .v-alert--border.v-alert--prominent .v-alert__icon{margin-right:8px}.v-alert--dense{padding-bottom:8px;padding-top:8px}.v-alert--dense .v-alert__border{border-width:medium}.v-alert--outlined{background:transparent!important;border:thin solid!important}.v-alert--outlined .v-alert__icon{color:inherit!important}.v-alert--prominent .v-alert__icon{align-self:center;height:48px;min-width:48px}.v-alert--prominent .v-alert__icon.v-icon{font-size:32px}.v-alert--prominent .v-alert__icon.v-icon:after{background:currentColor!important;border-radius:50%;bottom:0;content:"";left:0;opacity:.16;position:absolute;right:0;top:0}.v-alert--prominent.v-alert--dense .v-alert__icon.v-icon:after{transform:scale(1)}.v-alert--text{background:transparent!important}.v-alert--text:before{background-color:currentColor;border-radius:inherit;bottom:0;content:"";left:0;opacity:.12;pointer-events:none;position:absolute;right:0;top:0}',""]),n.locals={},t.exports=n},878:function(t,e,r){"use strict";r(10),r(7),r(9),r(5),r(12),r(8),r(13);var n=r(3),o=(r(38),r(856),r(144)),l=r(74),c=r(43),d=r(65),m=r(20),v=r(345),f=r(6),_=r(16);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(f.a)(o.a,d.a,v.a).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"==typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var data={staticClass:"v-alert__border",class:Object(n.a)({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&((data=this.setBackgroundColor(this.computedColor,data)).class["v-alert__border--has-color"]=!0),this.$createElement("div",data)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(l.a,{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(c.a,{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(c.a,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=y(y({},o.a.options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"==typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||m.a.options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(_.a)("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible];return this.$createElement("div",{staticClass:"v-alert__wrapper"},t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var data={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};this.coloredBorder||(data=(this.hasText?this.setTextColor:this.setBackgroundColor)(this.computedColor,data));return this.$createElement("div",data,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})}}]);