(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{638:function(t,e,n){"use strict";n.r(e);var o=n(173),r=n(282),l=n(39),c=n(611),d=n(615),v=n(595),_=n(280),m=n(610),h=n(609),f=(n(32),n(29),n(181),n(24)),k=(n(105),n(64)),w={props:{header:{type:Object,default:null},isQuotation:{type:Boolean,default:!1}},methods:{post:function(){Object(k.a)(this.$swal,"You are posting to invoice ?",this.postToInvoice)},getFormatNum:function(t){return(new Intl.NumberFormat).format(t)},toggleDialog:function(){this.$emit("close-dialog")},postToInvoice:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isloading){e.next=2;break}return e.abrupt("return");case 2:return t.isloading=!0,{startDate:t.date,endDate:t.date2},e.next=6,t.$axios.put("api/sale/postToInvoice/".concat(t.header.id)).then((function(e){t.$emit("reload"),Object(k.k)(t.$swal,"Succeed","ດຳເນີນການສຳເລັດ")})).catch((function(e){Object(k.j)(t.$swal,"Error","Could no load data "+e.Error),console.log("Error ===>: "+e)}));case 6:t.isloading=!1;case 7:case"end":return e.stop()}}),e)})))()}},data:function(){return{search:"",isloading:!1,headers:[{text:"ສິນຄ້າ",align:"start",value:"product.pro_name"},{text:"ຈຳນວນ",align:"end",value:"quantity"},{text:"ລາຄາ",align:"end",value:"price",sortable:!0},{text:"ສ່ວນຫລຸດ",align:"end",value:"discount",sortable:!0},{text:"ລວມ",align:"end",value:"total",sortable:!1}]}}},x=n(36),component=Object(x.a)(w,(function(){var t=this,e=t._self._c;return e("div",[e(v.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(e){t.isloading=e},expression:"isloading"}},[e("loading-indicator")],1),t._v(" "),e(r.a,[e(l.b,[e(m.a,[e(c.a,{attrs:{cols:"6"}},[t._v("\n                    "+t._s(t.isQuotation?"Quotation #":"Invoice #")+"\n                    "+t._s(t.header.id)+"\n                ")]),t._v(" "),t.isQuotation?e(c.a,{staticStyle:{"text-align":"right"},attrs:{cols:"6"}},[e(o.a,{staticClass:"primary",attrs:{size:"large",variant:"outlined"},on:{click:t.post}},[t._v("\n                        Post to invoice"),e("span",{staticClass:"mdi mdi-cloud-download"})])],1):t._e()],1)],1),t._v(" "),e(_.a),t._v(" "),e(l.c,[e(r.a,[e(l.c,[e("div",[e(m.a,[e(c.a,{attrs:{cols:"4"}},[e(m.a,[e(c.a,{attrs:{cols:"12"}},[t._v("ວັນທີ: "+t._s(t.header.bookingDate)+" ")]),t._v(" "),e(c.a,{attrs:{cols:"12"}},[t._v("ຊື່ລູກຄ້າ: "+t._s(t.header.client.name))]),t._v(" "),e(c.a,{attrs:{cols:"12"}},[t._v("ເບີໂທ: "+t._s(t.header.client.telephone))]),t._v(" "),e(c.a,{attrs:{cols:"12"}},[t._v("ບໍລິສັດ: "+t._s(t.header.client.company))]),t._v(" "),e(c.a,{attrs:{cols:"12"}},[t._v("ການຊຳລະ: "+t._s(t.header.payment.payment_code)+" ")])],1)],1),t._v(" "),e(c.a,{attrs:{cols:"4"}},[e(m.a,[e(c.a,{attrs:{cols:"12"}},[t._v("ສະກຸນ: "+t._s(t.header.currency.code))]),t._v(" "),e(c.a,{attrs:{cols:"12"}},[t._v("ອັດຕາແລກປ່ຽນ: "+t._s(t.header.exchangeRate))]),t._v(" "),e(c.a,{attrs:{cols:"12"}},[t._v("ສ່ວນຫລຸດ: "+t._s(t.header.discount))]),t._v(" "),e(c.a,{attrs:{cols:"12"}},[t._v("ຍອດລວມທັງໝົດ: "+t._s(t.getFormatNum(t.header.total)))])],1)],1),t._v(" "),e(c.a,{staticStyle:{"text-align":"end"},attrs:{cols:"4"}},[e(m.a,[e(c.a,{attrs:{cols:"12"}},[t._v("ຜູ້ລົງ: "+t._s(t.header.user.cus_id)+" ")]),t._v(" "),e(c.a,{attrs:{cols:"12"}},[t._v("ຊື່: "+t._s(t.header.user.cus_name))])],1)],1)],1)],1)])],1),t._v(" "),e(_.a),t._v(" "),t.header.lines?e(d.a,{attrs:{headers:t.headers,search:t.search,items:t.header.lines},scopedSlots:t._u([{key:"item.function",fn:function(n){var r=n.item;return[e(o.a,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.editItem(r),t.wallet=!0}}},[e("i",{staticClass:"fas fa-wallet"})])]}},{key:"item.price",fn:function(e){var n=e.item;return[t._v("\n                    "+t._s(t.getFormatNum(n.price))+"\n                ")]}},{key:"item.discount",fn:function(e){var n=e.item;return[t._v("\n                    "+t._s(t.getFormatNum(n.discount))+"\n                ")]}},{key:"item.total",fn:function(e){var n=e.item;return[t._v("\n                    "+t._s(t.getFormatNum(n.total))+"\n                ")]}}],null,!0)}):t._e()],1),t._v(" "),e(l.a,[e(h.a),t._v(" "),e(o.a,{attrs:{color:"blue-darken-1",variant:"text"},on:{click:t.toggleDialog}},[t._v("\n                Close\n            ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LoadingIndicator:n(295).default})}}]);