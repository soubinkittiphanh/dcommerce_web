(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1273:function(e,t,n){var content=n(1584);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("11c73693",content,!0,{sourceMap:!1})},1583:function(e,t,n){"use strict";n(1273)},1584:function(e,t,n){var o=n(15)((function(i){return i[1]}));o.push([e.i,'.invoice-audit-viewer[data-v-6e17086e]{background:#fafafa;display:flex;flex-direction:column;height:100%}.filters[data-v-6e17086e]{background:#fff;border-bottom:1px solid #e5e5e5;padding:16px}.filter-group[data-v-6e17086e]{align-items:center;display:flex;gap:8px}.filter-input[data-v-6e17086e]{background:#fff;border:1px solid #ddd;border-radius:6px;font-size:14px;min-width:120px;padding:8px 12px}.filter-input[data-v-6e17086e]:focus{border-color:#667eea;outline:none}.btn-clear[data-v-6e17086e],.btn-search[data-v-6e17086e]{border:none;border-radius:6px;cursor:pointer;font-size:14px;padding:8px 12px}.btn-search[data-v-6e17086e]{background:#667eea;color:#fff}.btn-clear[data-v-6e17086e]{background:#6c757d;color:#fff}.loading[data-v-6e17086e]{align-items:center;color:#666;display:flex;font-size:16px;gap:12px;justify-content:center;padding:48px}.timeline[data-v-6e17086e]{flex:1;overflow-y:auto;padding:20px;position:relative}.timeline-item[data-v-6e17086e]{align-items:flex-start;display:flex;gap:16px;margin-bottom:20px;position:relative}.timeline-item[data-v-6e17086e]:not(:last-child):before{background:#e5e5e5;bottom:-20px;content:"";left:19px;position:absolute;top:40px;width:2px}.timeline-dot[data-v-6e17086e]{align-items:center;border-radius:50%;color:#fff;display:flex;flex-shrink:0;font-size:14px;height:38px;justify-content:center;position:relative;width:38px;z-index:1}.dot-create[data-v-6e17086e]{background:#28a745}.dot-update[data-v-6e17086e]{background:#667eea}.dot-delete[data-v-6e17086e]{background:#dc3545}.dot-approve[data-v-6e17086e]{background:#28a745}.dot-reject[data-v-6e17086e]{background:#dc3545}.dot-submit[data-v-6e17086e]{background:#17a2b8}.dot-cancel[data-v-6e17086e]{background:#ffc107}.timeline-content[data-v-6e17086e]{background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.1);cursor:pointer;flex:1;padding:16px;position:relative;transition:all .2s ease}.timeline-content[data-v-6e17086e]:hover{box-shadow:0 4px 8px rgba(0,0,0,.15);transform:translateY(-1px)}.timeline-item.expanded .timeline-content[data-v-6e17086e]{border-bottom-left-radius:0;border-bottom-right-radius:0}.content-header[data-v-6e17086e]{justify-content:space-between;margin-bottom:12px}.action-info[data-v-6e17086e],.content-header[data-v-6e17086e]{align-items:center;display:flex}.action-info[data-v-6e17086e]{gap:12px}.action-badge[data-v-6e17086e]{border-radius:4px;font-size:12px;font-weight:600;padding:4px 8px}.badge-create[data-v-6e17086e]{background:#d4edda;color:#155724}.badge-update[data-v-6e17086e]{background:#e6efff;color:#004085}.badge-delete[data-v-6e17086e]{background:#f8d7da;color:#721c24}.badge-approve[data-v-6e17086e]{background:#d4edda;color:#155724}.badge-reject[data-v-6e17086e]{background:#f8d7da;color:#721c24}.badge-submit[data-v-6e17086e]{background:#d1ecf1;color:#0c5460}.amount-change[data-v-6e17086e],.badge-cancel[data-v-6e17086e]{background:#fff3cd;color:#856404}.amount-change[data-v-6e17086e]{border-radius:4px;font-size:12px;font-weight:600;padding:2px 6px}.timestamp[data-v-6e17086e]{color:#666;font-size:12px;font-weight:500}.content-main[data-v-6e17086e]{justify-content:space-between;margin-bottom:8px}.content-main[data-v-6e17086e],.user-info[data-v-6e17086e]{align-items:center;display:flex}.user-info[data-v-6e17086e]{color:#333;font-size:14px;font-weight:500;gap:6px}.user-info i[data-v-6e17086e]{color:#666;font-size:12px}.invoice-info[data-v-6e17086e]{align-items:center;display:flex;font-size:14px;gap:12px}.invoice-number[data-v-6e17086e]{color:#667eea;font-size:15px;font-weight:600}.invoice-amount[data-v-6e17086e]{color:#28a745;font-size:15px;font-weight:600}.invoice-date[data-v-6e17086e]{color:#666;font-size:13px}.content-status[data-v-6e17086e]{justify-content:space-between;margin-bottom:8px}.content-status[data-v-6e17086e],.status-badge[data-v-6e17086e]{align-items:center;display:flex}.status-badge[data-v-6e17086e]{border-radius:4px;font-size:12px;font-weight:500;gap:4px;padding:3px 8px}.status-badge i[data-v-6e17086e]{font-size:8px}.status-draft[data-v-6e17086e]{background:#e9ecef;color:#495057}.status-sent[data-v-6e17086e]{background:#d1ecf1;color:#0c5460}.status-paid[data-v-6e17086e]{background:#d4edda;color:#155724}.status-overdue[data-v-6e17086e]{background:#f8d7da;color:#721c24}.status-cancelled[data-v-6e17086e]{background:#e2e3e5;color:#383d41}.status-pending[data-v-6e17086e]{background:#fff3cd;color:#856404}.status-approved[data-v-6e17086e]{background:#d4edda;color:#155724}.status-rejected[data-v-6e17086e]{background:#f8d7da;color:#721c24}.line-items-count[data-v-6e17086e]{background:#f8f9fa;border-radius:3px;color:#666;font-size:12px;padding:2px 6px}.content-preview[data-v-6e17086e]{display:flex;font-size:13px;gap:12px;margin-bottom:8px}.description[data-v-6e17086e]{color:#666}.content-reason[data-v-6e17086e]{align-items:center;color:#666;display:flex;font-size:13px;font-style:italic;gap:6px;margin-bottom:8px}.content-reason i[data-v-6e17086e]{font-size:11px}.expand-indicator[data-v-6e17086e]{color:#666;font-size:12px;position:absolute;right:16px;top:16px}.expanded-details[data-v-6e17086e]{background:#fff;border:1px solid #e5e5e5;border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-top:none;margin-left:54px;padding:16px}.details-grid[data-v-6e17086e]{grid-gap:12px;display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));margin-bottom:16px}.detail-item[data-v-6e17086e]{align-items:center;border-bottom:1px solid #f5f5f5;display:flex;justify-content:space-between;padding:8px 0}.detail-item label[data-v-6e17086e]{color:#666;font-size:12px;font-weight:500}.detail-item span[data-v-6e17086e]{color:#333;font-size:13px}.amount[data-v-6e17086e]{color:#28a745;font-weight:600}.status[data-v-6e17086e]{border-radius:4px;font-size:11px;font-weight:500;padding:2px 6px}.description-section[data-v-6e17086e]{margin-bottom:16px}.description-section h4[data-v-6e17086e]{border-bottom:1px solid #e5e5e5;color:#333;font-size:14px;margin:0 0 8px;padding-bottom:4px}.description-section p[data-v-6e17086e]{color:#666;font-size:13px;line-height:1.4;margin:0}.line-items-section h4[data-v-6e17086e]{align-items:center;border-bottom:1px solid #e5e5e5;color:#333;display:flex;font-size:14px;justify-content:space-between;margin:0 0 12px;padding-bottom:4px}.total-amount[data-v-6e17086e]{color:#28a745;font-size:13px;font-weight:600}.line-items-list[data-v-6e17086e]{display:flex;flex-direction:column;gap:8px}.line-item[data-v-6e17086e]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:6px;padding:12px}.line-item-header[data-v-6e17086e]{align-items:center;display:flex;justify-content:space-between;margin-bottom:6px}.line-number[data-v-6e17086e]{color:#333;font-size:13px;font-weight:600}.line-total[data-v-6e17086e]{color:#28a745;font-size:14px;font-weight:600}.line-item-details[data-v-6e17086e]{display:flex;flex-direction:column;gap:6px}.line-description[data-v-6e17086e]{color:#333;font-size:13px;font-weight:500}.line-quantities[data-v-6e17086e]{color:#666;display:flex;font-size:12px;gap:12px}.quantity[data-v-6e17086e],.tax-rate[data-v-6e17086e],.unit-price[data-v-6e17086e]{background:#e9ecef;border-radius:3px;padding:2px 6px}.approval-section h4[data-v-6e17086e]{border-bottom:1px solid #e5e5e5;color:#333;font-size:14px;margin:0 0 8px;padding-bottom:4px}.approval-grid[data-v-6e17086e]{grid-gap:12px;display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.approval-item[data-v-6e17086e]{align-items:center;border-bottom:1px solid #f5f5f5;display:flex;justify-content:space-between;padding:8px 0}.approval-item label[data-v-6e17086e]{color:#666;font-size:12px;font-weight:500}.approval-item span[data-v-6e17086e]{color:#333;font-size:13px}.empty-state[data-v-6e17086e]{align-items:center;color:#666;display:flex;flex-direction:column;justify-content:center;padding:48px 20px;text-align:center}.empty-state i[data-v-6e17086e]{color:#ddd;font-size:48px;margin-bottom:16px}.empty-state h3[data-v-6e17086e]{font-size:18px;margin:0 0 8px}.empty-state p[data-v-6e17086e]{font-size:14px;margin:0}.pagination[data-v-6e17086e]{border-top:1px solid #e5e5e5;gap:16px;padding:16px}.page-btn[data-v-6e17086e],.pagination[data-v-6e17086e]{align-items:center;background:#fff;display:flex;justify-content:center}.page-btn[data-v-6e17086e]{border:1px solid #ddd;border-radius:6px;cursor:pointer;height:32px;transition:all .2s;width:32px}.page-btn[data-v-6e17086e]:hover:not(:disabled){background:#f8f9fa;border-color:#667eea}.page-btn[data-v-6e17086e]:disabled{cursor:not-allowed;opacity:.5}.page-info[data-v-6e17086e]{color:#666;font-size:14px;font-weight:500}@media (max-width:768px){.timeline[data-v-6e17086e]{padding:16px}.content-main[data-v-6e17086e]{gap:8px}.content-main[data-v-6e17086e],.content-status[data-v-6e17086e]{align-items:flex-start;flex-direction:column}.content-status[data-v-6e17086e]{gap:6px}.approval-grid[data-v-6e17086e],.details-grid[data-v-6e17086e]{grid-template-columns:1fr}.expanded-details[data-v-6e17086e]{margin-left:0}.timeline-item[data-v-6e17086e]:not(:last-child):before{display:none}.filter-group[data-v-6e17086e]{flex-wrap:wrap}.line-item-header[data-v-6e17086e],.line-items-section h4[data-v-6e17086e]{align-items:flex-start;flex-direction:column;gap:4px}.line-quantities[data-v-6e17086e]{flex-wrap:wrap}}@media (max-width:480px){.invoice-info[data-v-6e17086e]{align-items:flex-start}.content-preview[data-v-6e17086e],.invoice-info[data-v-6e17086e]{flex-direction:column;gap:4px}.filter-input[data-v-6e17086e]{min-width:100px}}',""]),o.locals={},e.exports=o},1711:function(e,t,n){"use strict";n.r(t);n(44),n(9),n(5),n(7),n(67),n(35);var o=n(20),d=(n(92),n(22),n(250),{name:"InvoiceAuditViewer",props:{invoiceId:{type:[Number,String],default:null},autoLoad:{type:Boolean,default:!0},showFilters:{type:Boolean,default:!0}},emits:["logs-loaded"],data:function(){return{loading:!1,auditLogs:[],expandedId:null,filters:{dateFrom:"",dateTo:"",action:"",status:""},pagination:{page:1,limit:10,total:0,pages:0}}},mounted:function(){this.autoLoad&&this.loadAuditLogs()},watch:{invoiceId:function(){this.autoLoad&&this.loadAuditLogs()}},methods:{loadAuditLogs:function(){var e=arguments,t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:1,t.loading=!0,n.prev=2,n.next=5,t.$axios.get("/api/ar-invoices/audit/".concat(t.invoiceId));case 5:(o=n.sent).data.success&&(t.auditLogs=t.processAuditLogs(o.data.data),t.pagination=o.data.pagination||{page:1,limit:10,total:t.auditLogs.length,pages:Math.ceil(t.auditLogs.length/10)},t.$emit("logs-loaded",t.auditLogs)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),console.error("Error loading invoice audit logs:",n.t0),null===(d=t.$toast)||void 0===d||d.error("Failed to load invoice audit logs");case 13:return n.prev=13,t.loading=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,9,13,16]])})))()},processAuditLogs:function(e){return e.map((function(e){if("string"==typeof e.recordData)try{e.recordData=JSON.parse(e.recordData)}catch(e){console.warn("Failed to parse recordData:",e)}return e})).sort((function(a,b){return new Date(b.auditDate)-new Date(a.auditDate)}))},toggleExpand:function(e){this.expandedId=this.expandedId===e?null:e},changePage:function(e){e>=1&&e<=this.pagination.pages&&this.loadAuditLogs(e)},clearFilters:function(){this.filters={dateFrom:"",dateTo:"",action:"",status:""},this.loadAuditLogs()},showAmountChange:function(e,t){var n,o;if("UPDATE"!==e.action||t===this.auditLogs.length-1)return!1;var d=this.auditLogs[t+1];return!!(d&&null!==(n=d.recordData)&&void 0!==n&&n.totalAmount&&null!==(o=e.recordData)&&void 0!==o&&o.totalAmount)&&d.recordData.totalAmount!==e.recordData.totalAmount},getAmountChange:function(e,t){var n,o,d=this.auditLogs[t+1],r=((null===(n=e.recordData)||void 0===n?void 0:n.totalAmount)||0)-((null==d||null===(o=d.recordData)||void 0===o?void 0:o.totalAmount)||0);return r>0?"+".concat(this.formatCurrency(r)):r<0?"-".concat(this.formatCurrency(Math.abs(r))):""},getTotalLineItemsAmount:function(e){return e.reduce((function(e,t){return e+(t.lineTotal||0)}),0)},truncateText:function(text,e){return text?text.length>e?text.substring(0,e)+"...":text:""},getActionIcon:function(e){return{CREATE:"fas fa-plus",UPDATE:"fas fa-edit",DELETE:"fas fa-trash",APPROVE:"fas fa-check",REJECT:"fas fa-times",SUBMIT:"fas fa-paper-plane",CANCEL:"fas fa-ban"}[e]||"fas fa-circle"},getActionText:function(e){return{CREATE:"Created",UPDATE:"Updated",DELETE:"Deleted",APPROVE:"Approved",REJECT:"Rejected",SUBMIT:"Submitted",CANCEL:"Cancelled"}[e]||e},getStatusText:function(e){return{draft:"Draft",sent:"Sent",paid:"Paid",overdue:"Overdue",cancelled:"Cancelled",pending:"Pending Approval",approved:"Approved",rejected:"Rejected"}[e]||e},getUserName:function(e){var t,n,o,d,r;return(null===(t=e.recordData)||void 0===t||null===(n=t.maker)||void 0===n?void 0:n.cus_name)||(null===(o=e.recordData)||void 0===o||null===(d=o.checker)||void 0===d?void 0:d.cus_name)||(null===(r=e.user)||void 0===r?void 0:r.name)||"Unknown User"},formatTime:function(e){if(!e)return"-";var t=new Date,n=new Date(e);return Math.abs(t-n)/36e5<24?n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString("en-US",{month:"short",day:"numeric"})},formatDate:function(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"},formatDateTime:function(e){return e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"},formatCurrency:function(e){return e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(e):"-"}}}),r=d,l=(n(1583),n(32)),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-audit-viewer"},[e.showFilters?t("div",{staticClass:"filters"},[t("div",{staticClass:"filter-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.dateFrom,expression:"filters.dateFrom"}],staticClass:"filter-input",attrs:{type:"date",placeholder:"From date"},domProps:{value:e.filters.dateFrom},on:{input:function(t){t.target.composing||e.$set(e.filters,"dateFrom",t.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.dateTo,expression:"filters.dateTo"}],staticClass:"filter-input",attrs:{type:"date",placeholder:"To date"},domProps:{value:e.filters.dateTo},on:{input:function(t){t.target.composing||e.$set(e.filters,"dateTo",t.target.value)}}}),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.action,expression:"filters.action"}],staticClass:"filter-input",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.filters,"action",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:""}},[e._v("All Actions")]),e._v(" "),t("option",{attrs:{value:"CREATE"}},[e._v("Created")]),e._v(" "),t("option",{attrs:{value:"UPDATE"}},[e._v("Updated")]),e._v(" "),t("option",{attrs:{value:"DELETE"}},[e._v("Deleted")]),e._v(" "),t("option",{attrs:{value:"APPROVE"}},[e._v("Approved")]),e._v(" "),t("option",{attrs:{value:"REJECT"}},[e._v("Rejected")]),e._v(" "),t("option",{attrs:{value:"SUBMIT"}},[e._v("Submitted")]),e._v(" "),t("option",{attrs:{value:"CANCEL"}},[e._v("Cancelled")])]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.status,expression:"filters.status"}],staticClass:"filter-input",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.filters,"status",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:""}},[e._v("All Status")]),e._v(" "),t("option",{attrs:{value:"draft"}},[e._v("Draft")]),e._v(" "),t("option",{attrs:{value:"sent"}},[e._v("Sent")]),e._v(" "),t("option",{attrs:{value:"paid"}},[e._v("Paid")]),e._v(" "),t("option",{attrs:{value:"overdue"}},[e._v("Overdue")]),e._v(" "),t("option",{attrs:{value:"cancelled"}},[e._v("Cancelled")])]),e._v(" "),t("button",{staticClass:"btn-search",on:{click:e.loadAuditLogs}},[t("i",{staticClass:"fas fa-search"})]),e._v(" "),t("button",{staticClass:"btn-clear",on:{click:e.clearFilters}},[t("i",{staticClass:"fas fa-times"})])])]):e._e(),e._v(" "),e.loading?t("div",{staticClass:"loading"},[t("i",{staticClass:"fas fa-spinner fa-spin"}),e._v("\n    Loading invoice history...\n  ")]):e.auditLogs.length>0?t("div",{staticClass:"timeline"},e._l(e.auditLogs,(function(n,o){var d,r,l,c,v,f,m,x,_,h,C,D,y,w,k,A,T,z,L,I,E,S,N,U,j,P;return t("div",{key:n.id,staticClass:"timeline-item",class:{expanded:e.expandedId===n.id}},[t("div",{staticClass:"timeline-dot",class:"dot-".concat(n.action.toLowerCase())},[t("i",{class:e.getActionIcon(n.action)})]),e._v(" "),t("div",{staticClass:"timeline-content",on:{click:function(t){return e.toggleExpand(n.id)}}},[t("div",{staticClass:"content-header"},[t("div",{staticClass:"action-info"},[t("span",{staticClass:"action-badge",class:"badge-".concat(n.action.toLowerCase())},[e._v("\n              "+e._s(e.getActionText(n.action))+"\n            ")]),e._v(" "),e.showAmountChange(n,o)?t("span",{staticClass:"amount-change"},[e._v("\n              "+e._s(e.getAmountChange(n,o))+"\n            ")]):e._e()]),e._v(" "),t("span",{staticClass:"timestamp"},[e._v(e._s(e.formatTime(n.auditDate)))])]),e._v(" "),t("div",{staticClass:"content-main"},[t("div",{staticClass:"user-info"},[t("i",{staticClass:"fas fa-user"}),e._v(" "),t("span",[e._v(e._s(e.getUserName(n)))])]),e._v(" "),t("div",{staticClass:"invoice-info"},[t("span",{staticClass:"invoice-number"},[e._v(e._s((null===(d=n.recordData)||void 0===d?void 0:d.invoiceNumber)||"N/A"))]),e._v(" "),t("span",{staticClass:"invoice-amount"},[e._v(e._s(e.formatCurrency(null===(r=n.recordData)||void 0===r?void 0:r.totalAmount)))]),e._v(" "),t("span",{staticClass:"invoice-date"},[e._v(e._s(e.formatDate(null===(l=n.recordData)||void 0===l?void 0:l.invoiceDate)))])])]),e._v(" "),t("div",{staticClass:"content-status"},[t("span",{staticClass:"status-badge",class:"status-".concat(null===(c=n.recordData)||void 0===c?void 0:c.status)},[t("i",{staticClass:"fas fa-circle"}),e._v("\n            "+e._s(e.getStatusText(null===(v=n.recordData)||void 0===v?void 0:v.status))+"\n          ")]),e._v(" "),null!==(f=n.recordData)&&void 0!==f&&null!==(m=f.lineItems)&&void 0!==m&&m.length?t("span",{staticClass:"line-items-count"},[e._v("\n            "+e._s(n.recordData.lineItems.length)+" line item"+e._s(n.recordData.lineItems.length>1?"s":"")+"\n          ")]):e._e()]),e._v(" "),n.reason?t("div",{staticClass:"content-reason"},[t("i",{staticClass:"fas fa-comment-alt"}),e._v("\n          "+e._s(n.reason)+"\n        ")]):e._e(),e._v(" "),null!==(x=n.recordData)&&void 0!==x&&x.description?t("div",{staticClass:"content-preview"},[t("span",{staticClass:"description"},[e._v("\n            "+e._s(e.truncateText(n.recordData.description,50))+"\n          ")])]):e._e(),e._v(" "),t("div",{staticClass:"expand-indicator"},[t("i",{staticClass:"fas",class:e.expandedId===n.id?"fa-chevron-up":"fa-chevron-down"})])]),e._v(" "),e.expandedId===n.id?t("div",{staticClass:"expanded-details"},[t("div",{staticClass:"details-grid"},[t("div",{staticClass:"detail-item"},[t("label",[e._v("Invoice ID:")]),e._v(" "),t("span",[e._v(e._s(n.invoiceId||"-"))])]),e._v(" "),t("div",{staticClass:"detail-item"},[t("label",[e._v("Invoice Number:")]),e._v(" "),t("span",[e._v(e._s((null===(_=n.recordData)||void 0===_?void 0:_.invoiceNumber)||"-"))])]),e._v(" "),t("div",{staticClass:"detail-item"},[t("label",[e._v("Invoice Date:")]),e._v(" "),t("span",[e._v(e._s(e.formatDate(null===(h=n.recordData)||void 0===h?void 0:h.invoiceDate)))])]),e._v(" "),t("div",{staticClass:"detail-item"},[t("label",[e._v("Due Date:")]),e._v(" "),t("span",[e._v(e._s(e.formatDate(null===(C=n.recordData)||void 0===C?void 0:C.dueDate)))])]),e._v(" "),t("div",{staticClass:"detail-item"},[t("label",[e._v("Total Amount:")]),e._v(" "),t("span",{staticClass:"amount"},[e._v(e._s(e.formatCurrency(null===(D=n.recordData)||void 0===D?void 0:D.totalAmount)))])]),e._v(" "),t("div",{staticClass:"detail-item"},[t("label",[e._v("Tax Amount:")]),e._v(" "),t("span",{staticClass:"amount"},[e._v(e._s(e.formatCurrency(null===(y=n.recordData)||void 0===y?void 0:y.taxAmount)))])]),e._v(" "),t("div",{staticClass:"detail-item"},[t("label",[e._v("Net Amount:")]),e._v(" "),t("span",{staticClass:"amount"},[e._v(e._s(e.formatCurrency(null===(w=n.recordData)||void 0===w?void 0:w.netAmount)))])]),e._v(" "),t("div",{staticClass:"detail-item"},[t("label",[e._v("Status:")]),e._v(" "),t("span",{staticClass:"status",class:"status-".concat(null===(k=n.recordData)||void 0===k?void 0:k.status)},[e._v("\n              "+e._s(e.getStatusText(null===(A=n.recordData)||void 0===A?void 0:A.status))+"\n            ")])]),e._v(" "),t("div",{staticClass:"detail-item"},[t("label",[e._v("Client ID:")]),e._v(" "),t("span",[e._v(e._s((null===(T=n.recordData)||void 0===T?void 0:T.clientId)||"-"))])]),e._v(" "),t("div",{staticClass:"detail-item"},[t("label",[e._v("Currency ID:")]),e._v(" "),t("span",[e._v(e._s((null===(z=n.recordData)||void 0===z?void 0:z.currencyId)||"-"))])]),e._v(" "),t("div",{staticClass:"detail-item"},[t("label",[e._v("Exchange Rate:")]),e._v(" "),t("span",[e._v(e._s((null===(L=n.recordData)||void 0===L?void 0:L.exchangeRate)||"-"))])]),e._v(" "),t("div",{staticClass:"detail-item"},[t("label",[e._v("Created:")]),e._v(" "),t("span",[e._v(e._s(e.formatDateTime(null===(I=n.recordData)||void 0===I?void 0:I.createdAt)))])]),e._v(" "),t("div",{staticClass:"detail-item"},[t("label",[e._v("Last Updated:")]),e._v(" "),t("span",[e._v(e._s(e.formatDateTime(null===(E=n.recordData)||void 0===E?void 0:E.updateTimestamp)))])])]),e._v(" "),null!==(S=n.recordData)&&void 0!==S&&S.description?t("div",{staticClass:"description-section"},[t("h4",[e._v("Description")]),e._v(" "),t("p",[e._v(e._s(n.recordData.description))])]):e._e(),e._v(" "),null!==(N=n.recordData)&&void 0!==N&&null!==(U=N.lineItems)&&void 0!==U&&U.length?t("div",{staticClass:"line-items-section"},[t("h4",[e._v("\n            Line Items ("+e._s(n.recordData.lineItems.length)+")\n            "),t("span",{staticClass:"total-amount"},[e._v("\n              Total: "+e._s(e.formatCurrency(e.getTotalLineItemsAmount(n.recordData.lineItems)))+"\n            ")])]),e._v(" "),t("div",{staticClass:"line-items-list"},e._l(n.recordData.lineItems,(function(n){return t("div",{key:n.id||n.tempId,staticClass:"line-item"},[t("div",{staticClass:"line-item-header"},[t("span",{staticClass:"line-number"},[e._v("Line #"+e._s(n.lineNumber))]),e._v(" "),t("span",{staticClass:"line-total"},[e._v(e._s(e.formatCurrency(n.lineTotal)))])]),e._v(" "),t("div",{staticClass:"line-item-details"},[t("div",{staticClass:"line-description"},[e._v(e._s(n.description||"No description"))]),e._v(" "),t("div",{staticClass:"line-quantities"},[t("span",{staticClass:"quantity"},[e._v("Qty: "+e._s(n.quantity))]),e._v(" "),t("span",{staticClass:"unit-price"},[e._v("Unit Price: "+e._s(e.formatCurrency(n.unitPrice)))]),e._v(" "),t("span",{staticClass:"tax-rate"},[e._v("Tax: "+e._s(n.taxRate)+"%")])])])])})),0)]):e._e(),e._v(" "),null!==(j=n.recordData)&&void 0!==j&&j.maker||null!==(P=n.recordData)&&void 0!==P&&P.checker?t("div",{staticClass:"approval-section"},[t("h4",[e._v("Approval Information")]),e._v(" "),t("div",{staticClass:"approval-grid"},[n.recordData.maker?t("div",{staticClass:"approval-item"},[t("label",[e._v("Maker:")]),e._v(" "),t("span",[e._v(e._s(n.recordData.maker.cus_name||n.recordData.maker.name||"-"))])]):e._e(),e._v(" "),n.recordData.checker?t("div",{staticClass:"approval-item"},[t("label",[e._v("Checker:")]),e._v(" "),t("span",[e._v(e._s(n.recordData.checker.cus_name||n.recordData.checker.name||"-"))])]):e._e()])]):e._e()]):e._e()])})),0):t("div",{staticClass:"empty-state"},[t("i",{staticClass:"fas fa-history"}),e._v(" "),t("h3",[e._v("No invoice audit records found")]),e._v(" "),t("p",[e._v("No changes have been recorded for this invoice yet")])]),e._v(" "),e.pagination.pages>1?t("div",{staticClass:"pagination"},[t("button",{staticClass:"page-btn",attrs:{disabled:e.pagination.page<=1},on:{click:function(t){return e.changePage(e.pagination.page-1)}}},[t("i",{staticClass:"fas fa-chevron-left"})]),e._v(" "),t("span",{staticClass:"page-info"},[e._v("\n      "+e._s(e.pagination.page)+" / "+e._s(e.pagination.pages)+"\n    ")]),e._v(" "),t("button",{staticClass:"page-btn",attrs:{disabled:e.pagination.page>=e.pagination.pages},on:{click:function(t){return e.changePage(e.pagination.page+1)}}},[t("i",{staticClass:"fas fa-chevron-right"})])]):e._e()])}),[],!1,null,"6e17086e",null);t.default=component.exports}}]);