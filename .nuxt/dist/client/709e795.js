(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{702:function(t,o,r){"use strict";r.r(o);var c=r(643),d=r(183),e=r(288),n=r(28),l=r(636),C=r(619),_=r(649),k=r(638),y=r(102),I=r(29),L=(r(112),r(22),r(33),r(40),r(67)),Q={props:{id:{type:Number,default:0},productId:{type:Number,default:""},productName:{type:String,default:""},isEdit:{type:Boolean,default:!1},cost:{type:Number,default:0}},data:function(){return{stockQty:1,stockCost:this.cost,isSubmitting:!1,locationList:[],srcLocationId:1}},computed:{numberRule:function(){return[function(t){return!!t||"ກະລຸນາ ໃສ່ຈຳນວນ "},function(t){return/^[0-9]+$/.test(t)||"ໃສ່ໄດ້ສະເພາະ ຕົວເລກ"}]},user:function(){return this.$auth.user||""}},created:function(){this.loadLocation()},methods:{loadLocation:function(t){var o=this;return Object(I.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.isloading=!0,t.next=3,o.$axios.get("api/location/find").then((function(t){o.locationList=t.data.map((function(t){return t}))})).catch((function(t){Object(L.j)(o.$swal,"Error","Operation fail "+t.Error)}));case 3:o.isloading=!1;case 4:case"end":return t.stop()}}),t)})))()},stockSubmit:function(){var t=this;return Object(I.a)(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.$refs.myform.validate()||t.isSubmitting){o.next=7;break}return t.isSubmitting=!0,r={inputter:t.user.id,product_id:t.productId,stockCardQty:t.stockQty,totalCost:t.stockCost,productId:t.id,srcLocationId:t.srcLocationId},console.log("Pre fly ",r),o.next=6,t.$axios.post("/api/card/bulkCreate",r).then((function(o){console.log(o.data),Object(L.k)(t.$swal,"Succeed","ດຳເນີນການສຳເລັດ"),t.$emit("reload"),t.$emit("close-dialog")})).catch((function(o){console.log(o),Object(L.j)(t.$swal,"Error",o.response.data)}));case 6:t.isSubmitting=!1;case 7:case"end":return o.stop()}}),o)})))()}}},m=r(44),component=Object(m.a)(Q,(function(){var t=this,o=t._self._c;return o("div",[o(C.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isSubmitting,callback:function(o){t.isSubmitting=o},expression:"isSubmitting"}},[o("loading-indicator")],1),t._v(" "),o(e.a,[o(n.d,[o("span",{staticClass:"text-h5"},[t._v("ເພີ່ມສະຕັອກສິນຄ້າ "+t._s(t.productId)+" "+t._s(t.productName))])]),t._v(" "),o(n.c,[o(l.a,[o(_.a,{ref:"myform",on:{submit:function(o){return o.preventDefault(),t.submitForm.apply(null,arguments)}}},[o(c.a,{attrs:{"item-text":"name","item-value":"id",items:t.locationList,label:"Source location*"},model:{value:t.srcLocationId,callback:function(o){t.srcLocationId=o},expression:"srcLocationId"}}),t._v(" "),o(y.a,{attrs:{label:"ຈຳນວນ",rules:t.numberRule,"hide-details":"auto"},model:{value:t.stockQty,callback:function(o){t.stockQty=o},expression:"stockQty"}}),t._v(" "),o(y.a,{attrs:{label:"ຕົ້ນທຶນທັງຫໝົດ",rules:t.numberRule,"hide-details":"auto"},model:{value:t.stockCost,callback:function(o){t.stockCost=o},expression:"stockCost"}})],1)],1)],1),t._v(" "),o(n.a,[o(k.a),t._v(" "),o(d.a,{attrs:{color:"blue darken-1",text:""},on:{click:function(o){return t.$emit("close-dialog")}}},[t._v("\n                ປິດ\n            ")]),t._v(" "),o(d.a,{attrs:{color:"blue darken-1",text:""},on:{click:t.stockSubmit}},[t._v("\n                ບັນທຶກ\n            ")])],1)],1)],1)}),[],!1,null,null,null);o.default=component.exports;installComponents(component,{LoadingIndicator:r(306).default})},911:function(t,o,r){"use strict";r.r(o);var c=r(183),d=r(288),e=r(28),n=r(292),l=r(641),C=r(645),_=r(619),k=r(291),y=r(640),I=r(638),L=r(102),Q=r(86),m=r(307),f=(r(33),r(191),r(45),r(61),r(29)),v=(r(51),r(60),r(62),r(40),r(10),r(81),r(9),r(5),r(8),r(27),r(112),r(686)),h=r(67),x=r(687),w=r(308),S={components:{ProductForm:v.default,ProductFormCreate:x.default},middleware:"auths",data:function(){return{productFormCreate:!1,productFormKey:1,isstock:!1,selectedId:0,selectedProductCost:0,selectedProductName:"",isloading:!1,dialogMessage:!1,message:"",selectedStockProductId:"",loaddata:[],carddata:[],cardType:[],content:null,selectedCardType:"",pageLine:30,search:"",editProductForm:!1,selectedProductId:null,stockFormKey:1,barcode:"",timer:null,headers:[{text:"key",align:"center",value:"id"},{text:"ໄອດີ",align:"center",value:"pro_id"},{text:"ຊື່ສິນຄ້າ",align:"center",value:"pro_name"},{text:"ຫມວດສິນຄ້າ",align:"center",value:"pro_category_desc"},{text:"ລາຄາ",align:"center",value:"pro_price"},{text:"minStock",align:"center",value:"minStock"},{text:"Stock",align:"center",value:"pro_card_count"},{text:"Status",align:"center",value:"status"},{text:"cost",align:"center",value:"pro_cost_price"},{text:"ເພີ່ມສະຕັອກ",align:"center",value:"functionStock",sortable:!1},{text:"ເບິ່ງສະຕັອກ",align:"center",value:"functionStockView",sortable:!1},{text:"ແກ້ໄຂ",align:"center",value:"functionEdit",sortable:!1}]}},watch:{message:function(t){this.dialogMessage=null!=t}},mounted:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.fetchData();case 2:return o.next=4,t.loadCardCategory();case 4:window.addEventListener("keydown",t.handleKeyDown);case 5:case"end":return o.stop()}}),o)})))()},beforeDestroy:function(){window.removeEventListener("keydown",this.handleKeyDown)},methods:{importStock:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function o(){var r,c,d,e;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:r=[{inputter:1e3,product_id:1001,stockCardQty:4,totalCost:32e4,productId:1,srcLocation:1},{inputter:1e3,product_id:1002,stockCardQty:1,totalCost:23e4,productId:2,srcLocation:1},{inputter:1e3,product_id:1003,stockCardQty:8,totalCost:0,productId:3,srcLocation:1},{inputter:1e3,product_id:1004,stockCardQty:1,totalCost:457e3,productId:4,srcLocation:1},{inputter:1e3,product_id:1005,stockCardQty:12,totalCost:0,productId:5,srcLocation:1},{inputter:1e3,product_id:1006,stockCardQty:2,totalCost:358e3,productId:6,srcLocation:1},{inputter:1e3,product_id:1007,stockCardQty:2,totalCost:348e3,productId:7,srcLocation:1},{inputter:1e3,product_id:1008,stockCardQty:2,totalCost:4e5,productId:8,srcLocation:1},{inputter:1e3,product_id:1009,stockCardQty:2,totalCost:38e4,productId:9,srcLocation:1},{inputter:1e3,product_id:1010,stockCardQty:2,totalCost:577e3,productId:10,srcLocation:1},{inputter:1e3,product_id:1011,stockCardQty:2,totalCost:636e3,productId:11,srcLocation:1},{inputter:1e3,product_id:1012,stockCardQty:2,totalCost:636e3,productId:12,srcLocation:1},{inputter:1e3,product_id:1013,stockCardQty:6,totalCost:307e3,productId:13,srcLocation:1},{inputter:1e3,product_id:1014,stockCardQty:6,totalCost:307e3,productId:14,srcLocation:1},{inputter:1e3,product_id:1015,stockCardQty:9,totalCost:307e3,productId:15,srcLocation:1},{inputter:1e3,product_id:1016,stockCardQty:2,totalCost:0,productId:16,srcLocation:1},{inputter:1e3,product_id:1017,stockCardQty:4,totalCost:0,productId:17,srcLocation:1},{inputter:1e3,product_id:1018,stockCardQty:12,totalCost:0,productId:18,srcLocation:1},{inputter:1e3,product_id:1019,stockCardQty:4,totalCost:0,productId:19,srcLocation:1},{inputter:1e3,product_id:1020,stockCardQty:4,totalCost:0,productId:20,srcLocation:1},{inputter:1e3,product_id:1021,stockCardQty:2,totalCost:25e4,productId:21,srcLocation:1},{inputter:1e3,product_id:1022,stockCardQty:4,totalCost:655e3,productId:22,srcLocation:1},{inputter:1e3,product_id:1023,stockCardQty:6,totalCost:0,productId:23,srcLocation:1},{inputter:1e3,product_id:1024,stockCardQty:12,totalCost:0,productId:24,srcLocation:1},{inputter:1e3,product_id:1025,stockCardQty:3,totalCost:0,productId:25,srcLocation:1},{inputter:1e3,product_id:1026,stockCardQty:9,totalCost:0,productId:26,srcLocation:1},{inputter:1e3,product_id:1027,stockCardQty:2,totalCost:0,productId:27,srcLocation:1},{inputter:1e3,product_id:1028,stockCardQty:2,totalCost:24e4,productId:28,srcLocation:1},{inputter:1e3,product_id:1029,stockCardQty:0,totalCost:0,productId:29,srcLocation:1},{inputter:1e3,product_id:1030,stockCardQty:0,totalCost:0,productId:30,srcLocation:1},{inputter:1e3,product_id:1031,stockCardQty:1,totalCost:52e4,productId:31,srcLocation:1},{inputter:1e3,product_id:1032,stockCardQty:4,totalCost:355e3,productId:32,srcLocation:1},{inputter:1e3,product_id:1033,stockCardQty:1,totalCost:587e3,productId:33,srcLocation:1},{inputter:1e3,product_id:1034,stockCardQty:18,totalCost:0,productId:34,srcLocation:1},{inputter:1e3,product_id:1035,stockCardQty:8,totalCost:0,productId:35,srcLocation:1},{inputter:1e3,product_id:1036,stockCardQty:2,totalCost:447e3,productId:36,srcLocation:1},{inputter:1e3,product_id:1037,stockCardQty:2,totalCost:0,productId:37,srcLocation:1},{inputter:1e3,product_id:1038,stockCardQty:2,totalCost:385e3,productId:38,srcLocation:1},{inputter:1e3,product_id:1039,stockCardQty:2,totalCost:0,productId:39,srcLocation:1},{inputter:1e3,product_id:1040,stockCardQty:36,totalCost:0,productId:40,srcLocation:1},{inputter:1e3,product_id:1041,stockCardQty:1,totalCost:0,productId:41,srcLocation:1},{inputter:1e3,product_id:1042,stockCardQty:6,totalCost:0,productId:42,srcLocation:1},{inputter:1e3,product_id:1043,stockCardQty:6,totalCost:254e3,productId:43,srcLocation:1},{inputter:1e3,product_id:1044,stockCardQty:24,totalCost:0,productId:44,srcLocation:1},{inputter:1e3,product_id:1045,stockCardQty:36,totalCost:283e3,productId:45,srcLocation:1},{inputter:1e3,product_id:1046,stockCardQty:4,totalCost:0,productId:46,srcLocation:1},{inputter:1e3,product_id:1047,stockCardQty:1,totalCost:925e3,productId:47,srcLocation:1},{inputter:1e3,product_id:1048,stockCardQty:1,totalCost:925e3,productId:48,srcLocation:1},{inputter:1e3,product_id:1049,stockCardQty:6,totalCost:0,productId:49,srcLocation:1},{inputter:1e3,product_id:1050,stockCardQty:2,totalCost:45e4,productId:50,srcLocation:1},{inputter:1e3,product_id:1051,stockCardQty:1,totalCost:475e3,productId:51,srcLocation:1},{inputter:1e3,product_id:1052,stockCardQty:1,totalCost:4e5,productId:52,srcLocation:1},{inputter:1e3,product_id:1053,stockCardQty:1,totalCost:4e5,productId:53,srcLocation:1},{inputter:1e3,product_id:1054,stockCardQty:0,totalCost:0,productId:54,srcLocation:1},{inputter:1e3,product_id:1055,stockCardQty:2,totalCost:705e3,productId:55,srcLocation:1},{inputter:1e3,product_id:1056,stockCardQty:10,totalCost:0,productId:56,srcLocation:1},{inputter:1e3,product_id:1057,stockCardQty:1,totalCost:741e3,productId:57,srcLocation:1},{inputter:1e3,product_id:1058,stockCardQty:1,totalCost:705e3,productId:58,srcLocation:1},{inputter:1e3,product_id:1059,stockCardQty:1,totalCost:708e3,productId:59,srcLocation:1},{inputter:1e3,product_id:1060,stockCardQty:4,totalCost:567e3,productId:60,srcLocation:1},{inputter:1e3,product_id:1061,stockCardQty:1,totalCost:0,productId:61,srcLocation:1},{inputter:1e3,product_id:1062,stockCardQty:6,totalCost:0,productId:62,srcLocation:1},{inputter:1e3,product_id:1063,stockCardQty:2,totalCost:735e3,productId:63,srcLocation:1},{inputter:1e3,product_id:1064,stockCardQty:1,totalCost:512e3,productId:64,srcLocation:1},{inputter:1e3,product_id:1065,stockCardQty:4,totalCost:0,productId:65,srcLocation:1},{inputter:1e3,product_id:1066,stockCardQty:1,totalCost:32e4,productId:66,srcLocation:1},{inputter:1e3,product_id:1067,stockCardQty:12,totalCost:0,productId:67,srcLocation:1},{inputter:1e3,product_id:1068,stockCardQty:6,totalCost:0,productId:68,srcLocation:1},{inputter:1e3,product_id:1069,stockCardQty:2,totalCost:795e3,productId:69,srcLocation:1},{inputter:1e3,product_id:1070,stockCardQty:2,totalCost:0,productId:70,srcLocation:1},{inputter:1e3,product_id:1071,stockCardQty:10,totalCost:0,productId:71,srcLocation:1},{inputter:1e3,product_id:1072,stockCardQty:1,totalCost:225e3,productId:72,srcLocation:1},{inputter:1e3,product_id:1073,stockCardQty:8,totalCost:0,productId:73,srcLocation:1},{inputter:1e3,product_id:1074,stockCardQty:12,totalCost:0,productId:74,srcLocation:1},{inputter:1e3,product_id:1075,stockCardQty:4,totalCost:3e5,productId:75,srcLocation:1},{inputter:1e3,product_id:1076,stockCardQty:2,totalCost:362e3,productId:76,srcLocation:1},{inputter:1e3,product_id:1077,stockCardQty:1,totalCost:358e3,productId:77,srcLocation:1},{inputter:1e3,product_id:1078,stockCardQty:1,totalCost:358e3,productId:78,srcLocation:1},{inputter:1e3,product_id:1079,stockCardQty:6,totalCost:414e3,productId:79,srcLocation:1},{inputter:1e3,product_id:1080,stockCardQty:8,totalCost:0,productId:80,srcLocation:1},{inputter:1e3,product_id:1081,stockCardQty:8,totalCost:0,productId:81,srcLocation:1},{inputter:1e3,product_id:1082,stockCardQty:20,totalCost:0,productId:82,srcLocation:1},{inputter:1e3,product_id:1083,stockCardQty:2,totalCost:0,productId:83,srcLocation:1},{inputter:1e3,product_id:1084,stockCardQty:2,totalCost:0,productId:84,srcLocation:1},{inputter:1e3,product_id:1085,stockCardQty:4,totalCost:0,productId:85,srcLocation:1},{inputter:1e3,product_id:1086,stockCardQty:2,totalCost:0,productId:86,srcLocation:1},{inputter:1e3,product_id:1087,stockCardQty:2,totalCost:0,productId:87,srcLocation:1},{inputter:1e3,product_id:1088,stockCardQty:2,totalCost:342e3,productId:88,srcLocation:1},{inputter:1e3,product_id:1089,stockCardQty:2,totalCost:4e5,productId:89,srcLocation:1},{inputter:1e3,product_id:1090,stockCardQty:2,totalCost:0,productId:90,srcLocation:1},{inputter:1e3,product_id:1091,stockCardQty:1,totalCost:335e3,productId:91,srcLocation:1},{inputter:1e3,product_id:1092,stockCardQty:4,totalCost:328e3,productId:92,srcLocation:1},{inputter:1e3,product_id:1093,stockCardQty:0,totalCost:285e3,productId:93,srcLocation:1},{inputter:1e3,product_id:1094,stockCardQty:2,totalCost:58e4,productId:94,srcLocation:1},{inputter:1e3,product_id:1095,stockCardQty:6,totalCost:263e3,productId:95,srcLocation:1},{inputter:1e3,product_id:1096,stockCardQty:18,totalCost:33e4,productId:96,srcLocation:1},{inputter:1e3,product_id:1097,stockCardQty:4,totalCost:32e4,productId:97,srcLocation:1},{inputter:1e3,product_id:1098,stockCardQty:0,totalCost:0,productId:98,srcLocation:1},{inputter:1e3,product_id:1099,stockCardQty:60,totalCost:0,productId:99,srcLocation:1},{inputter:1e3,product_id:1100,stockCardQty:6,totalCost:0,productId:100,srcLocation:1},{inputter:1e3,product_id:1101,stockCardQty:20,totalCost:0,productId:101,srcLocation:1},{inputter:1e3,product_id:1102,stockCardQty:6,totalCost:29e4,productId:102,srcLocation:1},{inputter:1e3,product_id:1103,stockCardQty:12,totalCost:0,productId:103,srcLocation:1},{inputter:1e3,product_id:1104,stockCardQty:4,totalCost:0,productId:104,srcLocation:1},{inputter:1e3,product_id:1105,stockCardQty:2,totalCost:307e3,productId:105,srcLocation:1},{inputter:1e3,product_id:1106,stockCardQty:2,totalCost:533e3,productId:106,srcLocation:1},{inputter:1e3,product_id:1107,stockCardQty:4,totalCost:36e4,productId:107,srcLocation:1},{inputter:1e3,product_id:1108,stockCardQty:6,totalCost:24e4,productId:108,srcLocation:1},{inputter:1e3,product_id:1109,stockCardQty:4,totalCost:24e4,productId:109,srcLocation:1},{inputter:1e3,product_id:1110,stockCardQty:4,totalCost:0,productId:110,srcLocation:1},{inputter:1e3,product_id:1111,stockCardQty:6,totalCost:0,productId:111,srcLocation:1},{inputter:1e3,product_id:1112,stockCardQty:2,totalCost:725e3,productId:112,srcLocation:1},{inputter:1e3,product_id:1113,stockCardQty:10,totalCost:37e4,productId:113,srcLocation:1},{inputter:1e3,product_id:1114,stockCardQty:36,totalCost:125e3,productId:114,srcLocation:1},{inputter:1e3,product_id:1115,stockCardQty:36,totalCost:0,productId:115,srcLocation:1},{inputter:1e3,product_id:1116,stockCardQty:4,totalCost:537e3,productId:116,srcLocation:1},{inputter:1e3,product_id:1117,stockCardQty:2,totalCost:48e4,productId:117,srcLocation:1},{inputter:1e3,product_id:1118,stockCardQty:4,totalCost:219e3,productId:118,srcLocation:1},{inputter:1e3,product_id:1119,stockCardQty:2,totalCost:239e3,productId:119,srcLocation:1},{inputter:1e3,product_id:1120,stockCardQty:1,totalCost:1231e3,productId:120,srcLocation:1},{inputter:1e3,product_id:1121,stockCardQty:1,totalCost:934e3,productId:121,srcLocation:1},{inputter:1e3,product_id:1122,stockCardQty:1,totalCost:9e5,productId:122,srcLocation:1},{inputter:1e3,product_id:1123,stockCardQty:1,totalCost:6e5,productId:123,srcLocation:1},{inputter:1e3,product_id:1124,stockCardQty:2,totalCost:0,productId:124,srcLocation:1},{inputter:1e3,product_id:1125,stockCardQty:12,totalCost:0,productId:125,srcLocation:1},{inputter:1e3,product_id:1126,stockCardQty:1,totalCost:785e3,productId:126,srcLocation:1},{inputter:1e3,product_id:1127,stockCardQty:1,totalCost:985e3,productId:127,srcLocation:1},{inputter:1e3,product_id:1128,stockCardQty:12,totalCost:0,productId:128,srcLocation:1},{inputter:1e3,product_id:1129,stockCardQty:1,totalCost:0,productId:129,srcLocation:1},{inputter:1e3,product_id:1130,stockCardQty:6,totalCost:0,productId:130,srcLocation:1},{inputter:1e3,product_id:1131,stockCardQty:2,totalCost:0,productId:131,srcLocation:1},{inputter:1e3,product_id:1132,stockCardQty:0,totalCost:0,productId:132,srcLocation:1},{inputter:1e3,product_id:1133,stockCardQty:1,totalCost:507e3,productId:133,srcLocation:1},{inputter:1e3,product_id:1134,stockCardQty:1,totalCost:616e3,productId:134,srcLocation:1},{inputter:1e3,product_id:1135,stockCardQty:4,totalCost:0,productId:135,srcLocation:1},{inputter:1e3,product_id:1136,stockCardQty:1,totalCost:4e5,productId:136,srcLocation:1},{inputter:1e3,product_id:1137,stockCardQty:2,totalCost:374e3,productId:137,srcLocation:1},{inputter:1e3,product_id:1138,stockCardQty:2,totalCost:374e3,productId:138,srcLocation:1},{inputter:1e3,product_id:1139,stockCardQty:2,totalCost:374e3,productId:139,srcLocation:1},{inputter:1e3,product_id:1140,stockCardQty:2,totalCost:384e3,productId:140,srcLocation:1},{inputter:1e3,product_id:1141,stockCardQty:2,totalCost:42e4,productId:141,srcLocation:1},{inputter:1e3,product_id:1142,stockCardQty:2,totalCost:39e4,productId:142,srcLocation:1},{inputter:1e3,product_id:1143,stockCardQty:2,totalCost:383e3,productId:143,srcLocation:1},{inputter:1e3,product_id:1144,stockCardQty:2,totalCost:44e4,productId:144,srcLocation:1},{inputter:1e3,product_id:1145,stockCardQty:2,totalCost:715e3,productId:145,srcLocation:1},{inputter:1e3,product_id:1146,stockCardQty:2,totalCost:527e3,productId:146,srcLocation:1},{inputter:1e3,product_id:1147,stockCardQty:2,totalCost:71e4,productId:147,srcLocation:1},{inputter:1e3,product_id:1148,stockCardQty:2,totalCost:0,productId:148,srcLocation:1},{inputter:1e3,product_id:1149,stockCardQty:2,totalCost:378e3,productId:149,srcLocation:1},{inputter:1e3,product_id:1150,stockCardQty:2,totalCost:0,productId:150,srcLocation:1},{inputter:1e3,product_id:1151,stockCardQty:2,totalCost:307e3,productId:151,srcLocation:1},{inputter:1e3,product_id:1152,stockCardQty:2,totalCost:0,productId:152,srcLocation:1},{inputter:1e3,product_id:1153,stockCardQty:2,totalCost:0,productId:153,srcLocation:1},{inputter:1e3,product_id:1154,stockCardQty:2,totalCost:0,productId:154,srcLocation:1},{inputter:1e3,product_id:1155,stockCardQty:12,totalCost:0,productId:155,srcLocation:1},{inputter:1e3,product_id:1156,stockCardQty:6,totalCost:0,productId:156,srcLocation:1},{inputter:1e3,product_id:1157,stockCardQty:2,totalCost:0,productId:157,srcLocation:1},{inputter:1e3,product_id:1158,stockCardQty:12,totalCost:0,productId:158,srcLocation:1},{inputter:1e3,product_id:1159,stockCardQty:2,totalCost:396e3,productId:159,srcLocation:1},{inputter:1e3,product_id:1160,stockCardQty:6,totalCost:0,productId:160,srcLocation:1},{inputter:1e3,product_id:1161,stockCardQty:20,totalCost:0,productId:161,srcLocation:1},{inputter:1e3,product_id:1162,stockCardQty:12,totalCost:0,productId:162,srcLocation:1},{inputter:1e3,product_id:1163,stockCardQty:48,totalCost:0,productId:163,srcLocation:1},{inputter:1e3,product_id:1164,stockCardQty:0,totalCost:0,productId:164,srcLocation:1},{inputter:1e3,product_id:1165,stockCardQty:6,totalCost:0,productId:165,srcLocation:1},{inputter:1e3,product_id:1166,stockCardQty:18,totalCost:0,productId:166,srcLocation:1},{inputter:1e3,product_id:1167,stockCardQty:2,totalCost:0,productId:167,srcLocation:1},{inputter:1e3,product_id:1168,stockCardQty:4,totalCost:0,productId:168,srcLocation:1},{inputter:1e3,product_id:1169,stockCardQty:2,totalCost:0,productId:169,srcLocation:1},{inputter:1e3,product_id:1170,stockCardQty:2,totalCost:0,productId:170,srcLocation:1},{inputter:1e3,product_id:1171,stockCardQty:2,totalCost:0,productId:171,srcLocation:1},{inputter:1e3,product_id:1172,stockCardQty:1,totalCost:0,productId:172,srcLocation:1},{inputter:1e3,product_id:1173,stockCardQty:4,totalCost:0,productId:173,srcLocation:1},{inputter:1e3,product_id:1174,stockCardQty:24,totalCost:0,productId:174,srcLocation:1},{inputter:1e3,product_id:1175,stockCardQty:4,totalCost:0,productId:175,srcLocation:1},{inputter:1e3,product_id:1176,stockCardQty:1,totalCost:0,productId:176,srcLocation:1},{inputter:1e3,product_id:1177,stockCardQty:2,totalCost:0,productId:177,srcLocation:1},{inputter:1e3,product_id:1178,stockCardQty:6,totalCost:0,productId:178,srcLocation:1},{inputter:1e3,product_id:1179,stockCardQty:2,totalCost:0,productId:179,srcLocation:1},{inputter:1e3,product_id:1180,stockCardQty:2,totalCost:0,productId:180,srcLocation:1},{inputter:1e3,product_id:1181,stockCardQty:4,totalCost:0,productId:181,srcLocation:1},{inputter:1e3,product_id:1182,stockCardQty:4,totalCost:0,productId:182,srcLocation:1},{inputter:1e3,product_id:1183,stockCardQty:0,totalCost:0,productId:183,srcLocation:1},{inputter:1e3,product_id:1184,stockCardQty:4,totalCost:0,productId:184,srcLocation:1},{inputter:1e3,product_id:1185,stockCardQty:2,totalCost:0,productId:185,srcLocation:1},{inputter:1e3,product_id:1186,stockCardQty:4,totalCost:0,productId:186,srcLocation:1},{inputter:1e3,product_id:1187,stockCardQty:4,totalCost:0,productId:187,srcLocation:1},{inputter:1e3,product_id:1188,stockCardQty:1,totalCost:0,productId:188,srcLocation:1},{inputter:1e3,product_id:1189,stockCardQty:2,totalCost:525e3,productId:189,srcLocation:1},{inputter:1e3,product_id:1190,stockCardQty:2,totalCost:959e3,productId:190,srcLocation:1},{inputter:1e3,product_id:1191,stockCardQty:2,totalCost:0,productId:191,srcLocation:1},{inputter:1e3,product_id:1192,stockCardQty:2,totalCost:238500,productId:192,srcLocation:1},{inputter:1e3,product_id:1193,stockCardQty:4,totalCost:25e4,productId:193,srcLocation:1},{inputter:1e3,product_id:1194,stockCardQty:6,totalCost:0,productId:194,srcLocation:1},{inputter:1e3,product_id:1195,stockCardQty:2,totalCost:0,productId:195,srcLocation:1},{inputter:1e3,product_id:1196,stockCardQty:1,totalCost:636e3,productId:196,srcLocation:1},{inputter:1e3,product_id:1197,stockCardQty:1,totalCost:636e3,productId:197,srcLocation:1},{inputter:1e3,product_id:1198,stockCardQty:1,totalCost:7e5,productId:198,srcLocation:1},{inputter:1e3,product_id:1199,stockCardQty:1,totalCost:8e5,productId:199,srcLocation:1},{inputter:1e3,product_id:1200,stockCardQty:1,totalCost:775e3,productId:200,srcLocation:1},{inputter:1e3,product_id:1201,stockCardQty:1,totalCost:85e4,productId:201,srcLocation:1},{inputter:1e3,product_id:1202,stockCardQty:1,totalCost:795e3,productId:202,srcLocation:1},{inputter:1e3,product_id:1203,stockCardQty:1,totalCost:13e5,productId:203,srcLocation:1},{inputter:1e3,product_id:1204,stockCardQty:6,totalCost:17e5,productId:204,srcLocation:1},{inputter:1e3,product_id:1205,stockCardQty:1,totalCost:115e4,productId:205,srcLocation:1},{inputter:1e3,product_id:1206,stockCardQty:2,totalCost:11e5,productId:206,srcLocation:1},{inputter:1e3,product_id:1207,stockCardQty:2,totalCost:1092500,productId:207,srcLocation:1},{inputter:1e3,product_id:1208,stockCardQty:2,totalCost:2345e3,productId:208,srcLocation:1},{inputter:1e3,product_id:1209,stockCardQty:1,totalCost:845e3,productId:209,srcLocation:1},{inputter:1e3,product_id:1210,stockCardQty:1,totalCost:993e3,productId:210,srcLocation:1},{inputter:1e3,product_id:1211,stockCardQty:1,totalCost:1033e3,productId:211,srcLocation:1},{inputter:1e3,product_id:1212,stockCardQty:1,totalCost:954e3,productId:212,srcLocation:1},{inputter:1e3,product_id:1213,stockCardQty:1,totalCost:0,productId:213,srcLocation:1},{inputter:1e3,product_id:1214,stockCardQty:1,totalCost:965e3,productId:214,srcLocation:1},{inputter:1e3,product_id:1215,stockCardQty:1,totalCost:834e3,productId:215,srcLocation:1},{inputter:1e3,product_id:1216,stockCardQty:1,totalCost:1172300,productId:216,srcLocation:1},{inputter:1e3,product_id:1217,stockCardQty:1,totalCost:577e3,productId:217,srcLocation:1},{inputter:1e3,product_id:1218,stockCardQty:1,totalCost:0,productId:218,srcLocation:1},{inputter:1e3,product_id:1219,stockCardQty:1,totalCost:616e3,productId:219,srcLocation:1},{inputter:1e3,product_id:1220,stockCardQty:1,totalCost:487500,productId:220,srcLocation:1},{inputter:1e3,product_id:1221,stockCardQty:1,totalCost:948e3,productId:221,srcLocation:1},{inputter:1e3,product_id:1222,stockCardQty:0,totalCost:620500,productId:222,srcLocation:1},{inputter:1e3,product_id:1223,stockCardQty:4,totalCost:6e5,productId:223,srcLocation:1},{inputter:1e3,product_id:1224,stockCardQty:10,totalCost:616e3,productId:224,srcLocation:1},{inputter:1e3,product_id:1225,stockCardQty:36,totalCost:53e4,productId:225,srcLocation:1},{inputter:1e3,product_id:1226,stockCardQty:1,totalCost:42e4,productId:226,srcLocation:1},{inputter:1e3,product_id:1227,stockCardQty:1,totalCost:557e3,productId:227,srcLocation:1},{inputter:1e3,product_id:1228,stockCardQty:1,totalCost:497e3,productId:228,srcLocation:1},{inputter:1e3,product_id:1229,stockCardQty:1,totalCost:378100,productId:229,srcLocation:1},{inputter:1e3,product_id:1230,stockCardQty:8,totalCost:27e4,productId:230,srcLocation:1},{inputter:1e3,product_id:1231,stockCardQty:8,totalCost:338200,productId:231,srcLocation:1},{inputter:1e3,product_id:1232,stockCardQty:4,totalCost:497e3,productId:232,srcLocation:1},{inputter:1e3,product_id:1233,stockCardQty:2,totalCost:29e4,productId:233,srcLocation:1},{inputter:1e3,product_id:1234,stockCardQty:2,totalCost:457e3,productId:234,srcLocation:1},{inputter:1e3,product_id:1235,stockCardQty:2,totalCost:457e3,productId:235,srcLocation:1},{inputter:1e3,product_id:1236,stockCardQty:2,totalCost:44e4,productId:236,srcLocation:1},{inputter:1e3,product_id:1237,stockCardQty:2,totalCost:33e4,productId:237,srcLocation:1},{inputter:1e3,product_id:1238,stockCardQty:2,totalCost:513e3,productId:238,srcLocation:1},{inputter:1e3,product_id:1239,stockCardQty:1,totalCost:446e3,productId:239,srcLocation:1},{inputter:1e3,product_id:1240,stockCardQty:1,totalCost:417e3,productId:240,srcLocation:1},{inputter:1e3,product_id:1241,stockCardQty:2,totalCost:397e3,productId:241,srcLocation:1},{inputter:1e3,product_id:1242,stockCardQty:12,totalCost:49e4,productId:242,srcLocation:1},{inputter:1e3,product_id:1243,stockCardQty:1,totalCost:642e3,productId:243,srcLocation:1},{inputter:1e3,product_id:1244,stockCardQty:1,totalCost:0,productId:244,srcLocation:1},{inputter:1e3,product_id:1245,stockCardQty:1,totalCost:45e4,productId:245,srcLocation:1},{inputter:1e3,product_id:1246,stockCardQty:1,totalCost:65e4,productId:246,srcLocation:1},{inputter:1e3,product_id:1247,stockCardQty:2,totalCost:315e3,productId:247,srcLocation:1},{inputter:1e3,product_id:1248,stockCardQty:6,totalCost:2e5,productId:248,srcLocation:1},{inputter:1e3,product_id:1249,stockCardQty:12,totalCost:185e3,productId:249,srcLocation:1},{inputter:1e3,product_id:1250,stockCardQty:12,totalCost:185e3,productId:250,srcLocation:1},{inputter:1e3,product_id:1251,stockCardQty:8,totalCost:54e4,productId:251,srcLocation:1},{inputter:1e3,product_id:1252,stockCardQty:4,totalCost:54e4,productId:252,srcLocation:1},{inputter:1e3,product_id:1253,stockCardQty:8,totalCost:5e5,productId:253,srcLocation:1},{inputter:1e3,product_id:1254,stockCardQty:2,totalCost:5e5,productId:254,srcLocation:1},{inputter:1e3,product_id:1255,stockCardQty:6,totalCost:42e4,productId:255,srcLocation:1},{inputter:1e3,product_id:1256,stockCardQty:1,totalCost:54e4,productId:256,srcLocation:1},{inputter:1e3,product_id:1257,stockCardQty:1,totalCost:61e4,productId:257,srcLocation:1},{inputter:1e3,product_id:1258,stockCardQty:8,totalCost:47e4,productId:258,srcLocation:1},{inputter:1e3,product_id:1259,stockCardQty:8,totalCost:41e4,productId:259,srcLocation:1},{inputter:1e3,product_id:1260,stockCardQty:4,totalCost:325e3,productId:260,srcLocation:1},{inputter:1e3,product_id:1261,stockCardQty:2,totalCost:36e4,productId:261,srcLocation:1},{inputter:1e3,product_id:1262,stockCardQty:2,totalCost:34e4,productId:262,srcLocation:1},{inputter:1e3,product_id:1263,stockCardQty:2,totalCost:22e4,productId:263,srcLocation:1},{inputter:1e3,product_id:1264,stockCardQty:6,totalCost:21e4,productId:264,srcLocation:1},{inputter:1e3,product_id:1265,stockCardQty:6,totalCost:13e4,productId:265,srcLocation:1},{inputter:1e3,product_id:1266,stockCardQty:6,totalCost:13e4,productId:266,srcLocation:1},{inputter:1e3,product_id:1267,stockCardQty:6,totalCost:13e4,productId:267,srcLocation:1},{inputter:1e3,product_id:1268,stockCardQty:6,totalCost:13e4,productId:268,srcLocation:1},{inputter:1e3,product_id:1269,stockCardQty:6,totalCost:14e4,productId:269,srcLocation:1},{inputter:1e3,product_id:1270,stockCardQty:6,totalCost:14e4,productId:270,srcLocation:1},{inputter:1e3,product_id:1271,stockCardQty:6,totalCost:14e4,productId:271,srcLocation:1},{inputter:1e3,product_id:1272,stockCardQty:0,totalCost:0,productId:272,srcLocation:1},{inputter:1e3,product_id:1273,stockCardQty:0,totalCost:0,productId:273,srcLocation:1},{inputter:1e3,product_id:1274,stockCardQty:0,totalCost:0,productId:274,srcLocation:1},{inputter:1e3,product_id:1275,stockCardQty:0,totalCost:0,productId:275,srcLocation:1},{inputter:1e3,product_id:1276,stockCardQty:0,totalCost:0,productId:276,srcLocation:1},{inputter:1e3,product_id:1277,stockCardQty:0,totalCost:0,productId:277,srcLocation:1},{inputter:1e3,product_id:1278,stockCardQty:0,totalCost:0,productId:278,srcLocation:1},{inputter:1e3,product_id:1279,stockCardQty:0,totalCost:0,productId:279,srcLocation:1},{inputter:1e3,product_id:1280,stockCardQty:0,totalCost:0,productId:280,srcLocation:1},{inputter:1e3,product_id:1281,stockCardQty:0,totalCost:0,productId:281,srcLocation:1}],t.isloading=!0,c=regeneratorRuntime.mark((function o(){var r,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=e[d],c=!1,o.next=4,t.$axios.post("/api/card/bulkCreate",r).then((function(o){console.log(o.data),Object(w.c)(t.$swal,"Succeed","ດຳເນີນການສຳເລັດ")})).catch((function(o){console.log(o),Object(w.b)(t.$swal,"Error",o.response.data),c=!0,t.isloading=!1}));case 4:if(!c){o.next=6;break}return o.abrupt("return","break");case 6:t.isloading=!1;case 7:case"end":return o.stop()}}),o)})),d=0,e=r;case 4:if(!(d<e.length)){o.next=12;break}return o.delegateYield(c(),"t0",6);case 6:if("break"!==o.t0){o.next=9;break}return o.abrupt("break",12);case 9:d++,o.next=4;break;case 12:case"end":return o.stop()}}),o)})))()},handleKeyDown:function(t){var o=this;if(this.timer&&clearInterval(this.timer),"Enter"==t.key)return this.barcode&&console.log("Do something we got barcode"),void(this.barcode="");"Shift"!=t.key&&(this.barcode+=t.key),this.timer=setInterval((function(){return o.barcode=""}),20),console.log("Key is pressing ".concat(t.key))},formatNumber:function(t){return Object(h.e)(t)},verifyStockStatus:function(t,o){return 0==o?"Out of stock":t<o?"In stock":"Low stock"},triggerCardForm:function(t){this.stockFormKey+=1,this.selectedProductId=t.pro_id,this.selectedId=t.id,this.selectedProductCost=t.pro_cost_price,this.selectedProductName=t.pro_name,this.isstock=!0},fetchData:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t.isloading=!0,o.next=3,t.$axios.get("product_f").then((function(o){t.loaddata=o.data.map((function(t){return console.log(t.pro_id),{id:t.id,pro_id:t.pro_id,pro_name:t.pro_name,pro_price:t.pro_price,pro_desc:t.pro_desc,pro_status:t.pro_status,pro_category:t.pro_category,pro_category_desc:t.pro_category+" - "+t.categ_name,pro_card_count:t.card_count,pro_cost_price:t.cost_price,pro_outlet:t.outlet,pro_outlet_name:t.outlet_name,minStock:t.minStock,functionEdit:t.pro_id,functionStock:t.pro_id,functionStockView:t.pro_id,status:t.pro_id}}))})).catch((function(o){t.message=o,console.log("Error: "+o)}));case 3:t.isloading=!1;case 4:case"end":return o.stop()}}),o)})))()},editItem:function(t){this.productFormKey+=1,this.selectedProductId=t.pro_id,this.editProductForm=!0},editStock:function(t){console.log("ID "+t.pro_id),console.log("NAME "+t.pro_name),console.log("OBJ "+Object.keys(t)),this.$router.push("/admin/stock/".concat(t.pro_id))},attachFile:function(t){var o=this;this.carddata.length=0;var r=t,c=new FileReader;r&&(console.log("FILE LEN: "+r),c.onload=function(t){o.content=t.target.result,console.log("Data content => : "+o.content);var r=o.content.replace(/\r\n/g,"\n").split("\n").filter((function(t){return""!==t&&t.length>=10})),i=0;r.forEach((function(element){i++,console.log("Data loop ".concat(i," ").concat(element)),o.carddata.push(element.replace("\t","|").replace("\t","|").split("'").pop()),console.log(element.split("'").pop())})),console.log("CARD DATA: "+o.carddata)},c.onerror=function(t){return console.log(t)},c.readAsText(r))},loadCardCategory:function(){var t=this;this.isloading=!0,this.$axios.get("stockcate_f").then((function(o){t.cardType=o.data.map((function(t){return{card_type_code:t.card_type_code,card_type_name:t.card_type_name}})),t.selectedCardType=t.cardType[0].card_type_code,console.log("CARD LEN: "+t.cardType.length),console.log("CARD LEN: "+t.cardType[0].card_type_code),t.isloading=!1})).catch((function(o){console.log("Error: "+o),t.isloading=!1}))},rebuildStock:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t.isloading){o.next=5;break}return t.isloading=!0,o.next=4,t.$axios.put("/api/product/stockcount").then((function(o){Object(w.c)(t.$swal,"Succeed","ດຳເນີນການສຳເລັດ"),t.fetchData()})).catch((function(o){Object(w.b)(t.$swal,"Error",o.response.data)}));case 4:t.isloading=!1;case 5:case"end":return o.stop()}}),o)})))()}}},F=r(44),component=Object(F.a)(S,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"text-center"},[o("h1",[t._v("PRODUCT LIST "+t._s(t.barcode))]),t._v(" "),o(_.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(o){t.isloading=o},expression:"isloading"}},[o("loading-indicator")],1),t._v(" "),o(_.a,{attrs:{"max-width":"300px"},model:{value:t.dialogMessage,callback:function(o){t.dialogMessage=o},expression:"dialogMessage"}},[o("dialog-classic-message",{attrs:{message:t.message},on:{closedialog:function(o){t.message=null}}})],1),t._v(" "),o(_.a,{attrs:{"max-width":"600px"},model:{value:t.isstock,callback:function(o){t.isstock=o},expression:"isstock"}},[o("card-form",{key:t.stockFormKey,attrs:{"product-id":t.selectedProductId,id:t.selectedId,cost:t.selectedProductCost,"product-name":t.selectedProductName},on:{"close-dialog":function(o){t.isstock=!1},reload:t.rebuildStock}})],1),t._v(" "),o(_.a,{attrs:{"max-width":"1200px"},model:{value:t.editProductForm,callback:function(o){t.editProductForm=o},expression:"editProductForm"}},[o("product-form",{key:t.productFormKey,attrs:{"header-id":t.selectedProductId,isEdit:t.editProductForm},on:{"close-dialog":function(o){t.editProductForm=!1},refresh:t.fetchData}})],1),t._v(" "),o(_.a,{attrs:{"max-width":"1200px"},model:{value:t.productFormCreate,callback:function(o){t.productFormCreate=o},expression:"productFormCreate"}},[o("product-form-create",{on:{"close-dialog":function(o){t.productFormCreate=!1},refresh:t.fetchData}})],1),t._v(" "),o(d.a,[o(e.d,[o(y.a,[o(l.a,{attrs:{cols:"6",sm:"6",md:"6"}},[o(L.a,{attrs:{"append-icon":"mdi-magnify",label:"ຊອກຫາ","single-line":"","hide-detailsx":""},model:{value:t.search,callback:function(o){t.search=o},expression:"search"}})],1),t._v(" "),o(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[o(c.a,{staticClass:"primary",attrs:{size:"large",variant:"outlined",rounded:""},on:{click:t.rebuildStock}},[o("span",{staticClass:"mdi mdi-update"}),t._v("\n            Refresh\n          ")])],1)],1)],1),t._v(" "),t.loaddata?o(C.a,{attrs:{headers:t.headers,search:t.search,items:t.loaddata,"items-per-page":t.pageLine},scopedSlots:t._u([{key:"top",fn:function(){return[o(Q.a,{attrs:{flat:""}},[o(m.a,[t._v("ສິນຄ້າທັງຫມົດ: "+t._s(t.loaddata.length))]),t._v(" "),o(k.a,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),o(I.a),t._v(" "),o(c.a,{staticClass:"primary",attrs:{size:"large",variant:"outlined",rounded:""},on:{click:function(o){t.productFormCreate=!0}}},[o("span",{staticClass:"mdi mdi-note-plus-outline"}),t._v("\n            ສ້າງສິນຄ້າໃຫມ່\n          ")]),t._v(" "),o(c.a,{staticClass:"primary",attrs:{size:"large",variant:"outlined",rounded:""},on:{click:t.importStock}},[o("span",{staticClass:"mdi mdi-note-plus-outline"}),t._v("\n            Impor stock\n          ")])],1)]},proxy:!0},{key:"item.functionEdit",fn:function(r){var d=r.item;return[o(c.a,{attrs:{color:"primary",text:""},on:{click:function(o){t.editItem(d),t.wallet=!0}}},[o("i",{staticClass:"fa fa-pencil-square-o"})])]}},{key:"item.functionStock",fn:function(r){var d=r.item;return[o(c.a,{attrs:{color:"primary",text:""},on:{click:function(o){t.triggerCardForm(d),t.wallet=!0}}},[o("i",{staticClass:"fa fa-cart-plus"})])]}},{key:"item.functionStockView",fn:function(r){var d=r.item;return[o(c.a,{attrs:{color:"primary",text:""},on:{click:function(o){t.editStock(d),t.wallet=!0}}},[o("i",{staticClass:"fa fa-eye"})])]}},{key:"item.pro_cost_price",fn:function(o){var r=o.item;return[t._v("\n        "+t._s(t.formatNumber(r.pro_cost_price))+"\n\n      ")]}},{key:"item.pro_price",fn:function(o){var r=o.item;return[t._v("\n        "+t._s(t.formatNumber(r.pro_price))+"\n\n      ")]}},{key:"item.pro_card_count",fn:function(o){var r=o.item;return[t._v("\n\n        "+t._s(r.pro_card_count)+"\n\n\n      ")]}},{key:"item.minStock",fn:function(o){var r=o.item;return[t._v("\n        "+t._s(t.formatNumber(r.minStock))+"\n      ")]}},{key:"item.status",fn:function(r){var c=r.item;return[o(n.a,{staticClass:"ma-2",attrs:{color:t.verifyStockStatus(c.minStock,c.pro_card_count).includes("In")?"green":t.verifyStockStatus(c.minStock,c.pro_card_count).includes("Out")?"red":"orange","text-color":"white"}},[t._v("\n          "+t._s(t.verifyStockStatus(c.minStock,c.pro_card_count))+"\n        ")])]}}],null,!0)}):t._e()],1)],1)}),[],!1,null,null,null);o.default=component.exports;installComponents(component,{LoadingIndicator:r(306).default,DialogClassicMessage:r(648).default,CardForm:r(702).default,ProductForm:r(686).default,ProductFormCreate:r(687).default})}}]);