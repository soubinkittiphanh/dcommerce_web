(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1058:function(t,e,r){var content=r(1399);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("6e64637f",content,!0,{sourceMap:!1})},1398:function(t,e,r){"use strict";r(1058)},1399:function(t,e,r){var o=r(14)((function(i){return i[1]}));o.push([t.i,'.full-modal[data-v-3688e510]{background:#fff;height:100vh;margin:0;padding:0;width:100vw;z-index:9999}.full-modal[data-v-3688e510],.modal-overlay[data-v-3688e510]{left:0;position:fixed;top:0}.modal-overlay[data-v-3688e510]{align-items:center;background:rgba(0,0,0,.6);bottom:0;display:flex;justify-content:center;right:0;z-index:1000}.modal-dialog[data-v-3688e510]{background:#fff;border-radius:8px;box-shadow:0 10px 30px rgba(0,0,0,.3);display:flex;flex-direction:column;max-height:90vh;max-width:800px;overflow:hidden;width:95%}.modal-header[data-v-3688e510]{background:#01532b;border-bottom:1px solid #e5e7eb;color:#fff;justify-content:space-between;padding:16px 20px}.modal-header[data-v-3688e510],.modal-title[data-v-3688e510]{align-items:center;display:flex}.modal-title[data-v-3688e510]{font-size:16px;font-weight:600;gap:8px;margin:0}.close-btn[data-v-3688e510]{background:none;border:none;border-radius:4px;color:#fff;cursor:pointer;opacity:.8;padding:4px}.close-btn[data-v-3688e510]:hover{background:hsla(0,0%,100%,.1);opacity:1}.stepper[data-v-3688e510]{background:#f9fafb;border-bottom:1px solid #e5e7eb;justify-content:center;padding:16px}.step[data-v-3688e510],.stepper[data-v-3688e510]{align-items:center;display:flex}.step[data-v-3688e510]{border-radius:6px;cursor:pointer;gap:8px;padding:8px 12px;transition:all .2s}.step.active[data-v-3688e510]{background:rgba(1,83,43,.1);color:#01532b}.step.completed[data-v-3688e510]{color:#059669}.step[data-v-3688e510]:not(.available){cursor:not-allowed;opacity:.5}.step-number[data-v-3688e510]{align-items:center;background:#e5e7eb;border-radius:50%;display:flex;font-size:12px;font-weight:600;height:24px;justify-content:center;width:24px}.step.active .step-number[data-v-3688e510]{background:#01532b;color:#fff}.step.completed .step-number[data-v-3688e510]{background:#059669;color:#fff}.step-label[data-v-3688e510]{font-size:14px;font-weight:500}.step-line[data-v-3688e510]{background:#e5e7eb;height:2px;margin:0 16px;width:60px}.step-line.completed[data-v-3688e510]{background:#059669}.modal-body[data-v-3688e510]{flex:1;max-height:60vh;overflow-y:auto;padding:20px}.form-grid[data-v-3688e510]{grid-gap:16px;display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.form-group[data-v-3688e510]{display:flex;flex-direction:column}.form-group.full-width[data-v-3688e510]{grid-column:1/-1}.form-group label[data-v-3688e510]{align-items:center;color:#374151;display:flex;font-size:13px;font-weight:600;gap:6px;margin-bottom:6px}.form-group label.required[data-v-3688e510]:after{color:#ef4444;content:"*"}.form-group input[data-v-3688e510],.form-group select[data-v-3688e510],.form-group textarea[data-v-3688e510]{background:#fafafa;border:1px solid #d1d5db;border-radius:6px;font-size:14px;padding:8px 12px;transition:all .2s}.form-group input[data-v-3688e510]:focus,.form-group select[data-v-3688e510]:focus,.form-group textarea[data-v-3688e510]:focus{background:#fff;border-color:#01532b;box-shadow:0 0 0 2px rgba(1,83,43,.1);outline:none}.form-group input.error[data-v-3688e510],.form-group select.error[data-v-3688e510]{border-color:#ef4444}.form-group textarea[data-v-3688e510]{min-height:60px;resize:vertical}.radio-group[data-v-3688e510]{display:flex;gap:16px;margin-top:4px}.radio-group label[data-v-3688e510]{align-items:center;cursor:pointer;display:flex;font-weight:500;gap:6px;margin-bottom:0}.date-group[data-v-3688e510],.location-group[data-v-3688e510],.passport-group[data-v-3688e510]{grid-gap:8px;display:grid;gap:8px;grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}.photo-upload-container[data-v-3688e510]{align-items:flex-start;display:flex;gap:8px}.photo-upload[data-v-3688e510]{align-items:center;border:2px dashed #d1d5db;border-radius:8px;cursor:pointer;display:flex;height:80px;justify-content:center;overflow:hidden;position:relative;transition:border-color .2s;width:80px}.photo-upload[data-v-3688e510]:hover{border-color:#01532b}.photo-upload img[data-v-3688e510]{height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.photo-placeholder[data-v-3688e510]{align-items:center;color:#6b7280;display:flex;flex-direction:column;font-size:12px;gap:4px}.photo-placeholder i[data-v-3688e510]{font-size:18px}.photo-actions[data-v-3688e510]{display:flex;flex-direction:column;gap:4px}.btn-remove-photo[data-v-3688e510]{background:#ef4444;border:none;border-radius:4px;color:#fff;cursor:pointer;font-size:12px;padding:6px 8px;transition:background .2s}.btn-remove-photo[data-v-3688e510]:hover{background:#dc2626}.form-errors[data-v-3688e510]{background:#fef2f2;border:1px solid #fecaca;border-radius:6px;color:#dc2626;font-size:13px;margin-top:16px;padding:8px 12px}.modal-footer[data-v-3688e510]{background:#f9fafb;border-top:1px solid #e5e7eb;padding:16px 20px}.actions[data-v-3688e510]{display:flex;gap:12px;justify-content:space-between}.btn[data-v-3688e510]{align-items:center;border:none;border-radius:6px;cursor:pointer;display:flex;font-size:14px;font-weight:500;gap:6px;padding:8px 16px;transition:all .2s}.btn[data-v-3688e510]:disabled{cursor:not-allowed;opacity:.6}.btn.primary[data-v-3688e510]{background:#01532b;color:#fff}.btn.primary[data-v-3688e510]:hover:not(:disabled){background:#064e3b}.btn.secondary[data-v-3688e510]{background:#6b7280;color:#fff}.btn.secondary[data-v-3688e510]:hover:not(:disabled){background:#4b5563}.btn.outline[data-v-3688e510]{background:transparent;border:1px solid #01532b;color:#01532b}.btn.outline[data-v-3688e510]:hover:not(:disabled){background:#01532b;color:#fff}@media (max-width:768px){.modal-dialog[data-v-3688e510]{max-height:95vh;width:98%}.form-grid[data-v-3688e510]{gap:12px;grid-template-columns:1fr}.stepper[data-v-3688e510]{padding:12px}.step-line[data-v-3688e510]{margin:0 12px;width:40px}.modal-body[data-v-3688e510]{padding:16px}.date-group[data-v-3688e510],.location-group[data-v-3688e510],.passport-group[data-v-3688e510]{grid-template-columns:1fr}.actions[data-v-3688e510]{flex-wrap:wrap}.btn[data-v-3688e510]{flex:1;min-width:120px}.photo-upload-container[data-v-3688e510]{align-items:flex-start;flex-direction:column}.photo-actions[data-v-3688e510]{flex-direction:row}}',""]),o.locals={},t.exports=o},1713:function(t,e,r){"use strict";r.r(e);var o=r(321),n=r(318),l=r(19),c=r(771),d=r(168),m=r(244),v=r(794),f=(r(39),r(9),r(5),r(30),r(63),r(103),r(17)),h=(r(85),r(76),r(10),r(8),r(38),r(52),r(101),{name:"ApplicantDialog",props:{visible:Boolean,applicant:Object,jobBatches:{type:Array,default:function(){return[]}}},data:function(){return{previewDialog:{visible:!1,title:"",image:""},loading:!1,currentStep:1,applicantPhotoPreview:null,passportPhotoPreview:null,applicantPhotoFile:null,passportPhotoFile:null,formData:{firstName:"",lastName:"",gender:"",age:null,maritalStatus:"",phone:"",emergencyContactNo:"",address:"",village:"",city:"",district:"",passportAvailability:!1,passportNo:"",passportExpiredDate:"",workPlace:"",contactStartDate:"",contactEndDate:"",registertDate:"",interviewExamDate:"",passportPhoto:"",applicantPhoto:"",jobBatchId:null,status:"INTERVIEW"},errors:{},formErrors:[]}},computed:{isEditMode:function(){return this.applicant&&this.applicant.id},today:function(){return(new Date).toISOString().split("T")[0]},step1Valid:function(){return this.formData.firstName.trim()&&this.formData.lastName.trim()&&this.formData.gender},isFormValid:function(){var t=2!==this.currentStep||this.formData.phone&&this.formData.phone.trim();return this.step1Valid&&t&&0===this.formErrors.length}},watch:{visible:function(t){t?(this.initializeForm(),this.loadJobBatches()):this.resetForm()},applicant:{handler:function(t,e){var r=this;this.visible&&t!==e&&this.$nextTick((function(){r.initializeForm()}))},deep:!0},"formData.passportAvailability":function(t){t||(this.formData.passportNo="",this.formData.passportExpiredDate="",this.formData.passportPhoto="",this.passportPhotoPreview=null,this.passportPhotoFile=null)}},methods:{openPreview:function(title,image){this.previewDialog.title=title,this.previewDialog.image=image,this.previewDialog.visible=!0},loadJobBatches:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.jobBatches&&0!==t.jobBatches.length||t.$emit("load-job-batches");case 1:case"end":return e.stop()}}),e)})))()},goToStep:function(t){(1===t||2===t&&this.step1Valid)&&(this.currentStep=t,this.errors={},this.formErrors=[])},continueToStep2:function(){this.step1Valid&&(this.currentStep=2)},saveStep1Only:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.validateStep1()){e.next=2;break}return e.abrupt("return");case 2:t.loading=!0;try{r=t.createFormData(!0),t.$emit("save",r,!0)}catch(e){t.formErrors.push("An error occurred while saving"),console.error("Save error:",e)}finally{t.loading=!1}case 4:case"end":return e.stop()}}),e)})))()},initializeForm:function(){this.applicant&&this.applicant.id?(this.formData={firstName:this.applicant.firstName||"",lastName:this.applicant.lastName||"",gender:this.applicant.gender||"",age:this.applicant.age||null,maritalStatus:this.applicant.maritalStatus||"",phone:this.applicant.phone||"",emergencyContactNo:this.applicant.emergencyContactNo||"",address:this.applicant.address||"",village:this.applicant.village||"",city:this.applicant.city||"",district:this.applicant.district||"",passportAvailability:this.applicant.passportAvailability||!1,passportNo:this.applicant.passportNo||"",passportExpiredDate:this.applicant.passportExpiredDate?this.applicant.passportExpiredDate.split("T")[0]:"",workPlace:this.applicant.workPlace||"",contactStartDate:this.applicant.contactStartDate?this.applicant.contactStartDate.split("T")[0]:"",contactEndDate:this.applicant.contactEndDate?this.applicant.contactEndDate.split("T")[0]:"",registertDate:this.applicant.registertDate?this.applicant.registertDate.slice(0,16):"",interviewExamDate:this.applicant.interviewExamDate?this.applicant.interviewExamDate.slice(0,16):"",passportPhoto:this.applicant.passportPhoto||"",applicantPhoto:this.applicant.applicantPhoto||"",jobBatchId:this.applicant.jobBatchId||null,status:this.applicant.status||"INTERVIEW"},this.applicantPhotoPreview=null,this.passportPhotoPreview=null,this.applicantPhotoFile=null,this.passportPhotoFile=null,this.applicant.phone&&(this.currentStep=2)):this.resetFormData(),this.errors={},this.formErrors=[]},resetFormData:function(){this.formData={firstName:"",lastName:"",gender:"",age:null,maritalStatus:"",phone:"",emergencyContactNo:"",address:"",village:"",city:"",district:"",passportAvailability:!1,passportNo:"",passportExpiredDate:"",workPlace:"",contactStartDate:"",contactEndDate:"",registertDate:"",interviewExamDate:"",passportPhoto:"",applicantPhoto:"",jobBatchId:null,status:"INTERVIEW"},this.applicantPhotoPreview=null,this.passportPhotoPreview=null,this.applicantPhotoFile=null,this.passportPhotoFile=null},resetForm:function(){this.resetFormData(),this.errors={},this.formErrors=[],this.loading=!1,this.currentStep=1},validateStep1:function(){return this.errors={},this.formErrors=[],this.formData.firstName.trim()||(this.errors.firstName=!0,this.formErrors.push("ຊື່ຈຳເປັນ")),this.formData.lastName.trim()||(this.errors.lastName=!0,this.formErrors.push("ນາມສະກຸນຈຳເປັນ")),this.formData.gender||(this.errors.gender=!0,this.formErrors.push("ເລືອກເພດ")),this.formData.age&&(this.formData.age<18||this.formData.age>32)&&this.formErrors.push("ອາຍຸ 18-32 ປີ"),0===this.formErrors.length},validateForm:function(){return!!this.validateStep1()&&(2===this.currentStep&&(this.formData.phone.trim()||(this.errors.phone=!0,this.formErrors.push("ເບີໂທຈຳເປັນ"))),0===this.formErrors.length)},createFormData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=new FormData;return(e?["firstName","lastName","gender","age","address","passportAvailability","jobBatchId","status"]:Object.keys(this.formData)).forEach((function(e){var o=t.formData[e];"passportPhoto"!==e&&"applicantPhoto"!==e&&""!==o&&null!==o&&r.append(e,o)})),this.applicantPhotoFile?r.append("applicantPhoto",this.applicantPhotoFile):this.formData.applicantPhoto?r.append("applicantPhoto",this.formData.applicantPhoto):r.append("applicantPhoto",""),this.formData.passportAvailability&&(this.passportPhotoFile?r.append("passportPhoto",this.passportPhotoFile):this.formData.passportPhoto?r.append("passportPhoto",this.formData.passportPhoto):r.append("passportPhoto","")),r},saveApplicant:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.validateForm()){e.next=2;break}return e.abrupt("return");case 2:t.loading=!0;try{r=t.createFormData(),t.$emit("save",r,!1)}catch(e){t.formErrors.push("Error saving"),console.error("Save error:",e)}finally{t.loading=!1}case 4:case"end":return e.stop()}}),e)})))()},closeDialog:function(){this.$emit("close")},handleOverlayClick:function(){this.closeDialog()},triggerFileInput:function(t){"applicant"===t?this.$refs.applicantFileInput.click():"passport"===t&&this.$refs.passportFileInput.click()},handleFileSelect:function(t,e){var r=this,o=t.target.files[0];if(o)if(this.formErrors=this.formErrors.filter((function(t){return!t.includes("ຮູບ")})),o.type.startsWith("image/"))if(o.size>5242880)this.formErrors.push("ຮູບໃຫຍ່ເກີນ 5MB");else{"applicant"===e?this.applicantPhotoFile=o:"passport"===e&&(this.passportPhotoFile=o);var n=new FileReader;n.onload=function(t){"applicant"===e?r.applicantPhotoPreview=t.target.result:"passport"===e&&(r.passportPhotoPreview=t.target.result)},n.readAsDataURL(o)}else this.formErrors.push("ເລືອກຮູບພາບເທົ່ານັ້ນ")},removePhoto:function(t){"applicant"===t?(this.applicantPhotoFile=null,this.applicantPhotoPreview=null,this.formData.applicantPhoto="",this.$refs.applicantFileInput&&(this.$refs.applicantFileInput.value="")):"passport"===t&&(this.passportPhotoFile=null,this.passportPhotoPreview=null,this.formData.passportPhoto="",this.$refs.passportFileInput&&(this.$refs.passportFileInput.value=""))},getImageUrl:function(path){return path?path.startsWith("http://")||path.startsWith("https://")?path:"".concat(this.$axios.defaults.baseURL).concat(path):null}}}),D=h,_=(r(1398),r(31)),component=Object(_.a)(D,(function(){var t=this,e=t._self._c;return t.visible?e("div",{staticClass:"modal-overlay",on:{click:t.handleOverlayClick}},[e(c.a,{attrs:{"max-width":"600px"},model:{value:t.previewDialog.visible,callback:function(e){t.$set(t.previewDialog,"visible",e)},expression:"previewDialog.visible"}},[e(n.a,[e(l.d,{staticClass:"headline"},[t._v("\n        "+t._s(t.previewDialog.title)+"\n        "),e(v.a),t._v(" "),e(o.a,{attrs:{icon:""},on:{click:function(e){t.previewDialog.visible=!1}}},[e(d.a,[t._v("mdi-close")])],1)],1),t._v(" "),e(l.c,{staticClass:"d-flex justify-center"},[e(m.a,{attrs:{src:t.previewDialog.image,"max-height":"500",contain:""}})],1)],1)],1),t._v(" "),e("div",{staticClass:"modal-dialog",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[e("i",{staticClass:"fas fa-user-plus"}),t._v("\n        "+t._s(t.isEditMode?"ແກ້ໄຂຜູ້ສະໝັກ":"ເພີ່ມຜູ້ສະໝັກ")+"\n      ")]),t._v(" "),e("button",{staticClass:"close-btn",on:{click:t.closeDialog}},[e("i",{staticClass:"fas fa-times"})])]),t._v(" "),e("div",{staticClass:"stepper"},[e("div",{staticClass:"step",class:{active:1===t.currentStep,completed:t.currentStep>1},on:{click:function(e){return t.goToStep(1)}}},[e("span",{staticClass:"step-number"},[t._v(t._s(t.currentStep>1?"✓":"1"))]),t._v(" "),e("span",{staticClass:"step-label"},[t._v("ພື້ນຖານ")])]),t._v(" "),e("div",{staticClass:"step-line",class:{completed:t.currentStep>1}}),t._v(" "),e("div",{staticClass:"step",class:{active:2===t.currentStep,available:t.step1Valid},on:{click:function(e){t.step1Valid&&t.goToStep(2)}}},[e("span",{staticClass:"step-number"},[t._v("2")]),t._v(" "),e("span",{staticClass:"step-label"},[t._v("ລາຍລະອຽດ")])])]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.saveApplicant.apply(null,arguments)}}},[e("div",{staticClass:"modal-body"},[e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.currentStep,expression:"currentStep === 1"}]},[e("div",{staticClass:"form-grid"},[e("div",{staticClass:"form-group"},[t._m(0),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.jobBatchId,expression:"formData.jobBatchId"}],class:{error:t.errors.jobBatchId},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.formData,"jobBatchId",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:""}},[t._v("ເລືອກ Job Batch")]),t._v(" "),t._l(t.jobBatches,(function(r){return e("option",{key:r.id,domProps:{value:r.id}},[t._v("\n                  "+t._s(r.batchName)+t._s(r.workPlace?" - ".concat(r.workPlace):"")+"\n                ")])}))],2)]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(1),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.firstName,expression:"formData.firstName"}],class:{error:t.errors.firstName},attrs:{type:"text",placeholder:"ຊື່ຕົວຈິງ",required:""},domProps:{value:t.formData.firstName},on:{input:function(e){e.target.composing||t.$set(t.formData,"firstName",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(2),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.lastName,expression:"formData.lastName"}],class:{error:t.errors.lastName},attrs:{type:"text",placeholder:"ນາມສະກຸນ",required:""},domProps:{value:t.formData.lastName},on:{input:function(e){e.target.composing||t.$set(t.formData,"lastName",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(3),t._v(" "),e("div",{staticClass:"radio-group"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.gender,expression:"formData.gender"}],attrs:{type:"radio",value:"male",required:""},domProps:{checked:t._q(t.formData.gender,"male")},on:{change:function(e){return t.$set(t.formData,"gender","male")}}}),t._v("\n                  ຊາຍ")]),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.gender,expression:"formData.gender"}],attrs:{type:"radio",value:"female",required:""},domProps:{checked:t._q(t.formData.gender,"female")},on:{change:function(e){return t.$set(t.formData,"gender","female")}}}),t._v("\n                  ຍິງ")])])]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(4),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.formData.age,expression:"formData.age",modifiers:{number:!0}}],attrs:{type:"number",min:"18",max:"32",placeholder:"ອາຍຸ"},domProps:{value:t.formData.age},on:{input:function(e){e.target.composing||t.$set(t.formData,"age",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("div",{staticClass:"form-group full-width"},[t._m(5),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.address,expression:"formData.address"}],attrs:{rows:"2",placeholder:"ທີ່ຢູ່ລະອຽດ..."},domProps:{value:t.formData.address},on:{input:function(e){e.target.composing||t.$set(t.formData,"address",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[e("i",{staticClass:"fas fa-passport"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.passportAvailability,expression:"formData.passportAvailability"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formData.passportAvailability)?t._i(t.formData.passportAvailability,null)>-1:t.formData.passportAvailability},on:{change:function(e){var r=t.formData.passportAvailability,o=e.target,n=!!o.checked;if(Array.isArray(r)){var l=t._i(r,null);o.checked?l<0&&t.$set(t.formData,"passportAvailability",r.concat([null])):l>-1&&t.$set(t.formData,"passportAvailability",r.slice(0,l).concat(r.slice(l+1)))}else t.$set(t.formData,"passportAvailability",n)}}}),t._v("\n                ມີໜັງສືເດີນທາງ\n              ")])]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(6),t._v(" "),e("div",{staticClass:"photo-upload-container"},[e("div",{staticClass:"photo-upload"},[t.applicantPhotoPreview||t.formData.applicantPhoto?e("img",{staticStyle:{cursor:"pointer"},attrs:{src:t.applicantPhotoPreview||t.getImageUrl(t.formData.applicantPhoto),alt:"Applicant"},on:{click:function(e){t.openPreview("ຮູບຜູ້ສະໝັກ",t.applicantPhotoPreview||t.getImageUrl(t.formData.applicantPhoto))}}}):e("div",{staticClass:"photo-placeholder",on:{click:function(e){return t.triggerFileInput("applicant")}}},[e("i",{staticClass:"fas fa-plus"}),t._v(" "),e("span",[t._v("ເພີ່ມຮູບ")])])]),t._v(" "),t.applicantPhotoFile||t.formData.applicantPhoto?e("div",{staticClass:"photo-actions"},[e("button",{staticClass:"btn-remove-photo",attrs:{type:"button",title:"ລຶບຮູບ"},on:{click:function(e){return e.stopPropagation(),t.removePhoto("applicant")}}},[e("i",{staticClass:"fas fa-trash"})])]):t._e()]),t._v(" "),e("input",{ref:"applicantFileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.handleFileSelect(e,"applicant")}}})]),t._v(" "),t.formData.passportAvailability?e("div",{staticClass:"form-group"},[t._m(7),t._v(" "),e("div",{staticClass:"photo-upload-container"},[e("div",{staticClass:"photo-upload"},[t.passportPhotoPreview||t.formData.passportPhoto?e("img",{staticStyle:{cursor:"pointer"},attrs:{src:t.passportPhotoPreview||t.getImageUrl(t.formData.passportPhoto),alt:"Passport"},on:{click:function(e){t.openPreview("ຮູບໜັງສື",t.passportPhotoPreview||t.getImageUrl(t.formData.passportPhoto))}}}):e("div",{staticClass:"photo-placeholder",on:{click:function(e){return t.triggerFileInput("passport")}}},[e("i",{staticClass:"fas fa-plus"}),t._v(" "),e("span",[t._v("ເພີ່ມຮູບ")])])]),t._v(" "),t.passportPhotoFile||t.formData.passportPhoto?e("div",{staticClass:"photo-actions"},[e("button",{staticClass:"btn-remove-photo",attrs:{type:"button",title:"ລຶບຮູບ"},on:{click:function(e){return e.stopPropagation(),t.removePhoto("passport")}}},[e("i",{staticClass:"fas fa-trash"})])]):t._e()]),t._v(" "),e("input",{ref:"passportFileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.handleFileSelect(e,"passport")}}})]):t._e()])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.currentStep,expression:"currentStep === 2"}]},[e("div",{staticClass:"form-grid"},[e("div",{staticClass:"form-group"},[t._m(8),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.status,expression:"formData.status"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.formData,"status",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:"INTERVIEW"}},[t._v("Apply")]),t._v(" "),e("option",{attrs:{value:"REGISTER"}},[t._v("Register")]),t._v(" "),e("option",{attrs:{value:"rejected"}},[t._v("Rejected")])])]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(9),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],class:{error:t.errors.phone},attrs:{type:"tel",placeholder:"+856 20 12345678",required:""},domProps:{value:t.formData.phone},on:{input:function(e){e.target.composing||t.$set(t.formData,"phone",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(10),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.emergencyContactNo,expression:"formData.emergencyContactNo"}],attrs:{type:"tel",placeholder:"+856 20 87654321"},domProps:{value:t.formData.emergencyContactNo},on:{input:function(e){e.target.composing||t.$set(t.formData,"emergencyContactNo",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(11),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.maritalStatus,expression:"formData.maritalStatus"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.formData,"maritalStatus",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:""}},[t._v("ເລືອກ")]),t._v(" "),e("option",{attrs:{value:"single"}},[t._v("ໂສດ")]),t._v(" "),e("option",{attrs:{value:"married"}},[t._v("ແຕ່ງງານ")]),t._v(" "),e("option",{attrs:{value:"divorced"}},[t._v("ຢ່າຮ້າງ")]),t._v(" "),e("option",{attrs:{value:"widowed"}},[t._v("ເປັນເມ່າຍ")])])]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(12),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.workPlace,expression:"formData.workPlace"}],attrs:{type:"text",placeholder:"ບໍລິສັດ / ໂຮງງານ"},domProps:{value:t.formData.workPlace},on:{input:function(e){e.target.composing||t.$set(t.formData,"workPlace",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(13),t._v(" "),e("div",{staticClass:"location-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.village,expression:"formData.village"}],attrs:{type:"text",placeholder:"ບ້ານ"},domProps:{value:t.formData.village},on:{input:function(e){e.target.composing||t.$set(t.formData,"village",e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.city,expression:"formData.city"}],attrs:{type:"text",placeholder:"ເມືອງ"},domProps:{value:t.formData.city},on:{input:function(e){e.target.composing||t.$set(t.formData,"city",e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.district,expression:"formData.district"}],attrs:{type:"text",placeholder:"ແຂວງ"},domProps:{value:t.formData.district},on:{input:function(e){e.target.composing||t.$set(t.formData,"district",e.target.value)}}})])]),t._v(" "),t.formData.passportAvailability?e("div",{staticClass:"form-group"},[t._m(14),t._v(" "),e("div",{staticClass:"passport-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.passportNo,expression:"formData.passportNo"}],attrs:{type:"text",placeholder:"PA1234567"},domProps:{value:t.formData.passportNo},on:{input:function(e){e.target.composing||t.$set(t.formData,"passportNo",e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.passportExpiredDate,expression:"formData.passportExpiredDate"}],attrs:{type:"date",min:t.today},domProps:{value:t.formData.passportExpiredDate},on:{input:function(e){e.target.composing||t.$set(t.formData,"passportExpiredDate",e.target.value)}}})])]):t._e(),t._v(" "),e("div",{staticClass:"form-group"},[t._m(15),t._v(" "),e("div",{staticClass:"date-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.contactStartDate,expression:"formData.contactStartDate"}],attrs:{type:"date",placeholder:"ເລີ່ມສັນຍາ"},domProps:{value:t.formData.contactStartDate},on:{input:function(e){e.target.composing||t.$set(t.formData,"contactStartDate",e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.contactEndDate,expression:"formData.contactEndDate"}],attrs:{type:"date",placeholder:"ສິ້ນສຸດສັນຍາ"},domProps:{value:t.formData.contactEndDate},on:{input:function(e){e.target.composing||t.$set(t.formData,"contactEndDate",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(16),t._v(" "),e("div",{staticClass:"date-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.registertDate,expression:"formData.registertDate"}],attrs:{type:"datetime-local",placeholder:"ລົງທະບຽນ"},domProps:{value:t.formData.registertDate},on:{input:function(e){e.target.composing||t.$set(t.formData,"registertDate",e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.interviewExamDate,expression:"formData.interviewExamDate"}],attrs:{type:"datetime-local",placeholder:"ສໍາພາດ"},domProps:{value:t.formData.interviewExamDate},on:{input:function(e){e.target.composing||t.$set(t.formData,"interviewExamDate",e.target.value)}}})])])])]),t._v(" "),t.formErrors.length>0?e("div",{staticClass:"form-errors"},[e("strong",[t._v("ແກ້ໄຂ:")]),t._v(" "+t._s(t.formErrors.join(", "))+"\n        ")]):t._e()]),t._v(" "),e("div",{staticClass:"modal-footer"},[1===t.currentStep?e("div",{staticClass:"actions"},[e("button",{staticClass:"btn secondary",attrs:{type:"button"},on:{click:t.closeDialog}},[t._v("\n            ຍົກເລີກ\n          ")]),t._v(" "),e("button",{staticClass:"btn outline",attrs:{type:"button",disabled:!t.step1Valid||t.loading},on:{click:t.saveStep1Only}},[t._v("\n            "+t._s(t.loading?"ກຳລັງບັນທຶກ...":"ບັນທຶກ")+"\n          ")]),t._v(" "),e("button",{staticClass:"btn primary",attrs:{type:"button",disabled:!t.step1Valid},on:{click:t.continueToStep2}},[t._v("\n            ສືບຕໍ່\n          ")])]):t._e(),t._v(" "),2===t.currentStep?e("div",{staticClass:"actions"},[e("button",{staticClass:"btn secondary",attrs:{type:"button"},on:{click:function(e){return t.goToStep(1)}}},[t._v("\n            ກັບຄືນ\n          ")]),t._v(" "),e("button",{staticClass:"btn primary",attrs:{type:"submit",disabled:!t.isFormValid||t.loading}},[t._v("\n            "+t._s(t.loading?"ກຳລັງບັນທຶກ...":t.isEditMode?"ອັບເດດ":"ບັນທຶກ")+"\n          ")])]):t._e()])])])],1):t._e()}),[function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-briefcase"}),this._v("\n                Job Batch\n              ")])},function(){var t=this._self._c;return t("label",{staticClass:"required"},[t("i",{staticClass:"fas fa-user"}),this._v("\n                ຊື່\n              ")])},function(){var t=this._self._c;return t("label",{staticClass:"required"},[t("i",{staticClass:"fas fa-user"}),this._v("\n                ນາມສະກຸນ\n              ")])},function(){var t=this._self._c;return t("label",{staticClass:"required"},[t("i",{staticClass:"fas fa-venus-mars"}),this._v("\n                ເພດ\n              ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-calendar"}),this._v("\n                ອາຍຸ\n              ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-home"}),this._v("\n                ທີ່ຢູ່\n              ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-camera"}),this._v("\n                ຮູບຜູ້ສະໝັກ\n              ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-id-badge"}),this._v("\n                ຮູບໜັງສື\n              ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-flag"}),this._v("\n                ສະຖານະ\n              ")])},function(){var t=this._self._c;return t("label",{staticClass:"required"},[t("i",{staticClass:"fas fa-phone"}),this._v("\n                ເບີໂທ\n              ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-exclamation-triangle"}),this._v("\n                ເບີສຸກເສີນ\n              ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-heart"}),this._v("\n                ສະຖານະການແຕ່ງງານ\n              ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-building"}),this._v("\n                ສະຖານທີ່ເຮັດວຽກ\n              ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-map-marker-alt"}),this._v("\n                ບ້ານ/ເມືອງ/ແຂວງ\n              ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-id-card"}),this._v("\n                ເລກ/ໝົດອາຍຸ\n              ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-calendar"}),this._v("\n                ວັນທີສໍາຄັນ\n              ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-clock"}),this._v("\n                ເວລາ\n              ")])}],!1,null,"3688e510",null);e.default=component.exports}}]);