(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1181:function(t,e,o){var content=o(1398);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(16).default)("1716ccc8",content,!0,{sourceMap:!1})},1397:function(t,e,o){"use strict";o(1181)},1398:function(t,e,o){var r=o(15)((function(i){return i[1]}));r.push([t.i,'.modal-overlay[data-v-51177b14]{align-items:center;animation:fadeIn-51177b14 .3s ease-out;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:rgba(0,0,0,.6);bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1000}@keyframes fadeIn-51177b14{0%{opacity:0}to{opacity:1}}.enhanced-dialog[data-v-51177b14]{animation:slideIn-51177b14 .3s ease-out;background:#fff;border-radius:12px;box-shadow:0 20px 60px rgba(0,0,0,.3);max-height:90vh;max-width:700px;overflow:hidden;width:95%}@keyframes slideIn-51177b14{0%{opacity:0;transform:translateY(-50px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[data-v-51177b14]{align-items:center;background:linear-gradient(135deg,#667eea,#764ba2);border-bottom:1px solid #e9ecef;color:#fff;display:flex;justify-content:space-between;padding:24px}.modal-title-section[data-v-51177b14]{align-items:center;display:flex;gap:12px}.modal-icon[data-v-51177b14]{font-size:20px;opacity:.9}.modal-title[data-v-51177b14]{font-size:20px;font-weight:600;margin:0}.close-btn[data-v-51177b14]{background:none;border:none;border-radius:4px;color:#fff;cursor:pointer;font-size:18px;opacity:.8;padding:8px;transition:opacity .2s}.close-btn[data-v-51177b14]:hover{background:hsla(0,0%,100%,.1);opacity:1}.modal-body[data-v-51177b14]{max-height:60vh;overflow-y:auto;padding:24px}.form-loading[data-v-51177b14]{align-items:center;color:#666;display:flex;justify-content:center;padding:40px}.spinner-small[data-v-51177b14]{animation:spin-51177b14 1s linear infinite;border:2px solid #f3f3f3;border-radius:50%;border-top-color:#3498db;height:20px;margin-right:10px;width:20px}@keyframes spin-51177b14{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.form-grid[data-v-51177b14]{grid-gap:20px;display:grid;gap:20px;grid-template-columns:1fr 1fr}.form-group[data-v-51177b14]{margin-bottom:0}.form-group.full-width[data-v-51177b14]{grid-column:1/-1}.form-label[data-v-51177b14]{align-items:center;color:#374151;display:flex;font-size:14px;font-weight:600;gap:8px;margin-bottom:8px}.form-label.required[data-v-51177b14]:after{color:#e74c3c;content:"*";margin-left:4px}.form-label i[data-v-51177b14]{color:#6b7280;font-size:12px}.form-control[data-v-51177b14]{background:#fafafa;border:2px solid #e5e7eb;border-radius:8px;box-sizing:border-box;font-size:14px;padding:12px 16px;transition:all .2s ease;width:100%}.form-control[data-v-51177b14]:focus{background:#fff;border-color:#667eea;box-shadow:0 0 0 3px rgba(102,126,234,.1);outline:none}.input-group[data-v-51177b14]{border-radius:8px;display:flex;overflow:hidden}.input-group .form-control[data-v-51177b14]{border-radius:0;border-right:none}.input-group-append[data-v-51177b14]{display:flex}.input-group-text[data-v-51177b14]{background:#f8f9fa;border:2px solid #e5e7eb;border-left:none;color:#6b7280;font-size:14px;font-weight:600;padding:12px 16px}.custom-select-wrapper[data-v-51177b14]{position:relative}.custom-select[data-v-51177b14]{appearance:none;-webkit-appearance:none;-moz-appearance:none;padding-right:40px}.select-icon[data-v-51177b14]{color:#6b7280;pointer-events:none;position:absolute;right:12px;top:50%;transform:translateY(-50%)}.field-hint[data-v-51177b14]{align-items:center;display:flex;font-size:12px;gap:6px;justify-content:space-between;margin-top:6px}.field-hint.error[data-v-51177b14]{color:#e74c3c}.field-hint.warning[data-v-51177b14]{color:#f39c12}.exchange-rate-info[data-v-51177b14]{align-items:center;color:#8e44ad;display:flex;font-size:11px;gap:4px}.exchange-rate-info i[data-v-51177b14]{color:#9b59b6}.text-counter[data-v-51177b14]{color:#9ca3af;font-size:11px;margin-left:auto}.ministry-info[data-v-51177b14]{background:#f0f9ff;border:1px solid #bae6fd;border-radius:8px;margin-top:12px;padding:12px}.ministry-details[data-v-51177b14]{grid-gap:8px;display:grid;gap:8px;grid-template-columns:1fr}.ministry-detail-item[data-v-51177b14]{align-items:center;color:#075985;display:flex;font-size:12px;gap:8px}.ministry-detail-item i[data-v-51177b14]{color:#0ea5e9;flex-shrink:0;width:14px}.ministry-name[data-v-51177b14]{font-weight:600}.ministry-code[data-v-51177b14]{background:#e0f2fe;border-radius:4px;font-family:monospace;padding:2px 6px}.ministry-description[data-v-51177b14]{color:#0369a1;font-style:italic}.ministry-contact[data-v-51177b14]{font-family:monospace}.bank-account-info[data-v-51177b14]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;margin-top:12px;padding:12px}.bank-details[data-v-51177b14]{grid-gap:8px;display:grid;gap:8px;grid-template-columns:1fr 1fr}.bank-detail-item[data-v-51177b14]{align-items:center;color:#6b7280;display:flex;font-size:12px;gap:6px}.bank-detail-item i[data-v-51177b14]{color:#667eea;width:12px}.bank-detail-item .branch[data-v-51177b14]{color:#9ca3af;font-style:italic}.form-errors[data-v-51177b14]{background:#fef2f2;border:1px solid #fecaca;border-radius:8px;margin-top:20px;padding:16px}.form-errors h6[data-v-51177b14]{align-items:center;color:#dc2626;display:flex;font-size:14px;gap:6px;margin:0 0 10px}.form-errors ul[data-v-51177b14]{color:#dc2626;font-size:13px;margin:0;padding-left:20px}.enhanced-footer[data-v-51177b14]{background:#f8f9fa;border-top:1px solid #e9ecef;display:flex;gap:12px;justify-content:flex-end;padding:20px 24px}.btn[data-v-51177b14]{align-items:center;border:none;border-radius:8px;cursor:pointer;display:inline-flex;font-size:14px;font-weight:600;gap:8px;padding:12px 24px;-webkit-text-decoration:none;text-decoration:none;transition:all .2s ease}.btn[data-v-51177b14]:hover:not(:disabled){box-shadow:0 4px 12px rgba(0,0,0,.15);transform:translateY(-1px)}.btn[data-v-51177b14]:active:not(:disabled){transform:translateY(0)}.btn-primary[data-v-51177b14]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-secondary[data-v-51177b14]{background:#6c757d;color:#fff}.btn[data-v-51177b14]:disabled{box-shadow:none!important;cursor:not-allowed;opacity:.6;transform:none!important}.fa-spin[data-v-51177b14]{animation:spin-51177b14 1s linear infinite}@media (max-width:768px){.enhanced-dialog[data-v-51177b14]{margin:10px;width:98%}.bank-details[data-v-51177b14],.form-grid[data-v-51177b14],.ministry-details[data-v-51177b14]{grid-template-columns:1fr}.modal-body[data-v-51177b14],.modal-header[data-v-51177b14]{padding:16px}.enhanced-footer[data-v-51177b14]{flex-direction:column-reverse;padding:16px}.enhanced-footer .btn[data-v-51177b14]{justify-content:center;width:100%}}',""]),r.locals={},t.exports=r},1608:function(t,e,o){"use strict";o.r(e);o(44),o(9),o(5),o(7),o(67),o(35),o(10),o(11),o(12);var r=o(3),n=o(27),l=o(31);o(66),o(8),o(344),o(39),o(209),o(30);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"MoneyAdvanceDialog",props:{show:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},formData:{type:Object,default:function(){return{id:null,amount:"",purpose:"",note:"",makerId:"",currencyId:"",dueDate:"",bankAccountId:"",ministryId:"",bookingDate:"",exchangeRate:""}}},users:{type:Array,default:function(){return[]}},currencies:{type:Array,default:function(){return[]}},bankAccounts:{type:Array,default:function(){return[]}},ministries:{type:Array,default:function(){return[]}},formLoading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1}},mounted:function(){this.initForm()},data:function(){return{localForm:{id:null,amount:"",purpose:"",note:"",makerId:"",currencyId:"",dueDate:"",bankAccountId:"",ministryId:"",bookingDate:"",exchangeRate:""},formErrors:[]}},computed:{user:function(){return this.$auth.user||""},selectedCurrencyCode:function(){var t=this;if(!this.localForm.currencyId)return"USD";var e=this.currencies.find((function(e){return e.id==t.localForm.currencyId}));return e?e.code:"USD"},selectedBankAccount:function(){var t=this;return this.localForm.bankAccountId?this.bankAccounts.find((function(e){return e.id==t.localForm.bankAccountId})):null},selectedMinistry:function(){var t=this;return this.localForm.ministryId?this.ministries.find((function(e){return e.id==t.localForm.ministryId})):null},selectedCurrency:function(){var t=this;return this.localForm.currencyId?this.currencies.find((function(e){return e.id==t.localForm.currencyId})):null},filteredBankAccounts:function(){if(!this.selectedCurrency||!this.bankAccounts.length)return this.bankAccounts;var t=this.selectedCurrency.code,e=this.bankAccounts.filter((function(e){return e.currency===t||!e.currency}));return e.length>0?e:this.bankAccounts},today:function(){return(new Date).toISOString().split("T")[0]},isFormValid:function(){var t={"amount exists":!!this.localForm.amount,"amount > 0":this.localForm.amount&&parseFloat(this.localForm.amount)>0,"makerId exists":!!this.localForm.makerId,"currencyId exists":!!this.localForm.currencyId,"bookingDate exists":!!this.localForm.bookingDate,"users available":this.users.length>0,"currencies available":this.currencies.length>0,"exchange rate valid":!this.localForm.exchangeRate||this.localForm.exchangeRate&&!isNaN(parseFloat(this.localForm.exchangeRate))&&parseFloat(this.localForm.exchangeRate)>0};console.group("üîç Form Validation Debug"),console.log("üìã Form Data:",{amount:this.localForm.amount,makerId:this.localForm.makerId,currencyId:this.localForm.currencyId,bookingDate:this.localForm.bookingDate,exchangeRate:this.localForm.exchangeRate,usersCount:this.users.length,currenciesCount:this.currencies.length});var e=[],o=[];Object.entries(t).forEach((function(t){var r=Object(l.a)(t,2),n=r[0];r[1]?o.push(n):e.push(n)})),console.log("‚úÖ Passed validations:",o),e.length>0&&(console.log("‚ùå Failed validations:",e),e.includes("exchange rate valid")&&console.log("üí± Exchange Rate Debug:",{value:this.localForm.exchangeRate,type:Object(n.a)(this.localForm.exchangeRate),parsed:parseFloat(this.localForm.exchangeRate),isNaN:isNaN(parseFloat(this.localForm.exchangeRate)),isPositive:parseFloat(this.localForm.exchangeRate)>0}));var r=Object.values(t).every(Boolean);return console.log("üìä Overall form valid: ".concat(r)),console.groupEnd(),r}},watch:{show:function(t){t&&this.initForm()},formData:{handler:function(t){console.info("Form data is changing..."),t&&(this.localForm=d({},t),this.isEdit||this.localForm.bookingDate||(this.localForm.bookingDate=this.today))},deep:!0,immediate:!0}},methods:{initForm:function(){if(this.formErrors=[],console.info("initiate form data called..."),this.isEdit&&this.formData)console.info("formData is available..."),this.localForm=d({},this.formData);else if(this.resetForm(),this.currencies.length>0){var t=this.currencies.find((function(t){return"LAK"===t.code}))||this.currencies[0];this.localForm.currencyId=t.id}this.isEdit||(this.localForm.makerId=this.user.id,this.localForm.bookingDate=this.today)},resetForm:function(){this.localForm={id:null,amount:"",purpose:"",note:"",makerId:"",currencyId:"",dueDate:"",bankAccountId:"",ministryId:"",bookingDate:this.today,exchangeRate:""}},validateForm:function(){return this.formErrors=[],(!this.localForm.amount||parseFloat(this.localForm.amount)<=0)&&this.formErrors.push("Amount is required and must be greater than 0"),this.localForm.makerId||this.formErrors.push("User selection is required"),this.localForm.currencyId||this.formErrors.push("Currency selection is required"),this.localForm.bookingDate||this.formErrors.push("Booking date is required"),this.localForm.purpose&&this.localForm.purpose.length>255&&this.formErrors.push("Purpose must not exceed 255 characters"),this.localForm.note&&this.localForm.note.length>500&&this.formErrors.push("Note must not exceed 500 characters"),this.localForm.exchangeRate&&parseFloat(this.localForm.exchangeRate)<=0&&this.formErrors.push("Exchange rate must be greater than 0 if provided"),0===this.users.length&&this.formErrors.push("No users available. Please contact administrator."),0===this.currencies.length&&this.formErrors.push("No currencies available. Please contact administrator."),0===this.formErrors.length},updateSelectedCurrency:function(){var t=this;if(console.info("select currency: ".concat(this.selectedCurrency.code," currency list ").concat(JSON.stringify(this.currencies))),this.localForm.exchangeRate=this.currencies.find((function(e){return e.code===t.selectedCurrency.code})).rate||1,this.selectedBankAccount&&this.selectedCurrency){var e=this.selectedBankAccount.currency,o=this.selectedCurrency.code;e&&e!==o&&(this.localForm.bankAccountId="")}this.$emit("currency-changed",this.localForm.currencyId)},updateSelectedBankAccount:function(){this.$emit("bank-account-changed",this.localForm.bankAccountId)},updateSelectedMinistry:function(){this.$emit("ministry-changed",this.localForm.ministryId)},closeDialog:function(){this.$emit("close")},saveAdvance:function(){if(this.validateForm()){var t=d({},this.localForm);t.ministryId||delete t.ministryId,t.bankAccountId||delete t.bankAccountId,t.dueDate||delete t.dueDate,t.purpose||delete t.purpose,t.note||delete t.note,t.exchangeRate||delete t.exchangeRate,this.$emit("save",t)}else this.$emit("validation-error","Please fix the form errors")}}},f=(o(1397),o(32)),component=Object(f.a)(m,(function(){var t,e,o=this,r=o._self._c;return o.show?r("div",{staticClass:"modal-overlay",on:{click:o.closeDialog}},[r("div",{staticClass:"modal-dialog enhanced-dialog",on:{click:function(t){t.stopPropagation()}}},[r("div",{staticClass:"modal-header"},[r("div",{staticClass:"modal-title-section"},[r("i",{staticClass:"fas fa-money-bill-wave modal-icon"}),o._v(" "),r("h5",{staticClass:"modal-title"},[o._v("\n          "+o._s(o.isEdit?"‡ªÅ‡∫Å‡ªâ‡ªÑ‡∫Ç‡∫•‡∫≤‡∫ç‡∫à‡ªà‡∫≤‡∫ç":"‡∫•‡∫ª‡∫á‡∫ö‡∫±‡∫ô‡∫ä‡∫µ‡∫•‡∫≤‡∫ç‡∫à‡ªà‡∫≤‡∫ç")+"\n        ")])]),o._v(" "),r("button",{staticClass:"close-btn",on:{click:o.closeDialog}},[r("i",{staticClass:"fas fa-times"})])]),o._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),o.saveAdvance.apply(null,arguments)}}},[r("div",{staticClass:"modal-body"},[o.formLoading?r("div",{staticClass:"form-loading"},[r("div",{staticClass:"spinner-small"}),o._v(" "),r("p",[o._v("Loading form data...")])]):r("div",{staticClass:"form-grid"},[r("div",{staticClass:"form-group full-width"},[o._m(0),o._v(" "),r("div",{staticClass:"input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:o.localForm.amount,expression:"localForm.amount"}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0",placeholder:"Enter amount",required:""},domProps:{value:o.localForm.amount},on:{input:function(t){t.target.composing||o.$set(o.localForm,"amount",t.target.value)}}}),o._v(" "),r("div",{staticClass:"input-group-append"},[r("span",{staticClass:"input-group-text"},[o._v("\n                  "+o._s(o.selectedCurrencyCode)+"\n                ")])])])]),o._v(" "),r("div",{staticClass:"form-group"},[o._m(1),o._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:o.localForm.exchangeRate,expression:"localForm.exchangeRate"}],staticClass:"form-control",attrs:{type:"number",step:"0.000001",min:"0",placeholder:"‡∫≠‡∫±‡∫î‡∫ï‡∫≤‡ªÅ‡∫•‡∫Å‡∫õ‡ªà‡∫Ω‡∫ô (‡∫ó‡∫≤‡∫á‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å)"},domProps:{value:o.localForm.exchangeRate},on:{input:function(t){t.target.composing||o.$set(o.localForm,"exchangeRate",t.target.value)}}}),o._v(" "),o._m(2)]),o._v(" "),r("div",{staticClass:"form-group"},[o._m(3),o._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:o.localForm.bookingDate,expression:"localForm.bookingDate"}],staticClass:"form-control",attrs:{type:"date",max:o.today,required:""},domProps:{value:o.localForm.bookingDate},on:{input:function(t){t.target.composing||o.$set(o.localForm,"bookingDate",t.target.value)}}})]),o._v(" "),r("div",{staticClass:"form-group"},[o._m(4),o._v(" "),r("div",{staticClass:"custom-select-wrapper"},[r("select",{directives:[{name:"model",rawName:"v-model",value:o.localForm.makerId,expression:"localForm.makerId"}],staticClass:"form-control custom-select",attrs:{required:"",disabled:""},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));o.$set(o.localForm,"makerId",t.target.multiple?e:e[0])}}},[r("option",{attrs:{value:""}},[o._v("‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å‡∫ú‡∫π‡ªâ‡∫•‡∫ª‡∫á")]),o._v(" "),o._l(o.users,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[o._v("\n                  "+o._s(t.cus_name)+"\n                ")])}))],2),o._v(" "),o._m(5)]),o._v(" "),0===o.users.length?r("div",{staticClass:"field-hint error"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),o._v("\n              No users available. Please contact administrator.\n            ")]):o._e()]),o._v(" "),r("div",{staticClass:"form-group"},[o._m(6),o._v(" "),r("div",{staticClass:"custom-select-wrapper"},[r("select",{directives:[{name:"model",rawName:"v-model",value:o.localForm.ministryId,expression:"localForm.ministryId"}],staticClass:"form-control custom-select",on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));o.$set(o.localForm,"ministryId",t.target.multiple?e:e[0])},o.updateSelectedMinistry]}},[r("option",{attrs:{value:""}},[o._v("‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å‡∫Å‡∫ª‡∫° (‡∫ó‡∫≤‡∫á‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å)")]),o._v(" "),o._l(o.ministries,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[o._v("\n                  "+o._s(t.ministryCode+" "+t.ministryName)+"\n                ")])}))],2),o._v(" "),o._m(7)]),o._v(" "),o.selectedMinistry?r("div",{staticClass:"ministry-info"},[r("div",{staticClass:"ministry-details"},[r("div",{staticClass:"ministry-detail-item"},[r("i",{staticClass:"fas fa-building"}),o._v(" "),r("span",{staticClass:"ministry-name"},[o._v(o._s(o.selectedMinistry.ministryName))])]),o._v(" "),o.selectedMinistry.ministryCode?r("div",{staticClass:"ministry-detail-item"},[r("i",{staticClass:"fas fa-tag"}),o._v(" "),r("span",{staticClass:"ministry-code"},[o._v(o._s(o.selectedMinistry.ministryCode))])]):o._e(),o._v(" "),o.selectedMinistry.description?r("div",{staticClass:"ministry-detail-item"},[r("i",{staticClass:"fas fa-info-circle"}),o._v(" "),r("span",{staticClass:"ministry-description"},[o._v(o._s(o.selectedMinistry.description))])]):o._e(),o._v(" "),o.selectedMinistry.email?r("div",{staticClass:"ministry-detail-item"},[r("i",{staticClass:"fas fa-phone"}),o._v(" "),r("span",{staticClass:"ministry-contact"},[o._v(o._s(o.selectedMinistry.email))])]):o._e()])]):o._e(),o._v(" "),0===o.ministries.length?r("div",{staticClass:"field-hint warning"},[r("i",{staticClass:"fas fa-info-circle"}),o._v("\n              No ministries available. You can still create the advance\n              without selecting a ministry.\n            ")]):o._e()]),o._v(" "),r("div",{staticClass:"form-group"},[o._m(8),o._v(" "),r("div",{staticClass:"custom-select-wrapper"},[r("select",{directives:[{name:"model",rawName:"v-model",value:o.localForm.currencyId,expression:"localForm.currencyId"}],staticClass:"form-control custom-select",attrs:{required:""},on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));o.$set(o.localForm,"currencyId",t.target.multiple?e:e[0])},o.updateSelectedCurrency]}},[r("option",{attrs:{value:""}},[o._v("‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å‡∫™‡∫∞‡∫Å‡∫∏‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô")]),o._v(" "),o._l(o.currencies,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[o._v("\n                  "+o._s(t.code)+" - "+o._s(t.name)+"\n                ")])}))],2),o._v(" "),o._m(9)]),o._v(" "),0===o.currencies.length?r("div",{staticClass:"field-hint error"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),o._v("\n              No currencies available. Please contact administrator.\n            ")]):o._e()]),o._v(" "),r("div",{staticClass:"form-group full-width"},[o._m(10),o._v(" "),r("div",{staticClass:"custom-select-wrapper"},[r("select",{directives:[{name:"model",rawName:"v-model",value:o.localForm.bankAccountId,expression:"localForm.bankAccountId"}],staticClass:"form-control custom-select",on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));o.$set(o.localForm,"bankAccountId",t.target.multiple?e:e[0])},o.updateSelectedBankAccount]}},[r("option",{attrs:{value:""}},[o._v("‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å‡∫ö‡∫±‡∫ô‡∫ä‡∫µ‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô (‡∫ó‡∫≤‡∫á‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å)")]),o._v(" "),o._l(o.filteredBankAccounts,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[o._v("\n                  "+o._s(t.bankName)+" - "+o._s(t.accountNumber)+" ("+o._s(t.accountName)+")\n                ")])}))],2),o._v(" "),o._m(11)]),o._v(" "),o.selectedBankAccount?r("div",{staticClass:"bank-account-info"},[r("div",{staticClass:"bank-details"},[r("div",{staticClass:"bank-detail-item"},[r("i",{staticClass:"fas fa-building"}),o._v(" "),r("span",[o._v(o._s(o.selectedBankAccount.bankName))]),o._v(" "),o.selectedBankAccount.bankBranch?r("span",{staticClass:"branch"},[o._v("\n                    ("+o._s(o.selectedBankAccount.bankBranch)+")\n                  ")]):o._e()]),o._v(" "),r("div",{staticClass:"bank-detail-item"},[r("i",{staticClass:"fas fa-credit-card"}),o._v(" "),r("span",[o._v(o._s(o.selectedBankAccount.accountNumber))])]),o._v(" "),r("div",{staticClass:"bank-detail-item"},[r("i",{staticClass:"fas fa-tag"}),o._v(" "),r("span",[o._v(o._s(o.selectedBankAccount.accountType))])]),o._v(" "),r("div",{staticClass:"bank-detail-item"},[r("i",{staticClass:"fas fa-coins"}),o._v(" "),r("span",[o._v(o._s(o.selectedBankAccount.currency))])])])]):o._e(),o._v(" "),0===o.bankAccounts.length?r("div",{staticClass:"field-hint warning"},[r("i",{staticClass:"fas fa-info-circle"}),o._v("\n              No bank accounts available. You can still create the advance\n              without selecting a bank account.\n            ")]):o._e()]),o._v(" "),r("div",{staticClass:"form-group full-width"},[o._m(12),o._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:o.localForm.purpose,expression:"localForm.purpose"}],staticClass:"form-control",attrs:{type:"text",placeholder:"‡ªÄ‡∫ô‡∫∑‡ªâ‡∫≠‡ªÉ‡∫ô ‡∫Å‡∫≤‡∫ô‡∫≠‡∫≠‡∫Å‡∫•‡∫≤‡∫ç‡∫à‡ªà‡∫≤‡∫ç",maxlength:"255"},domProps:{value:o.localForm.purpose},on:{input:function(t){t.target.composing||o.$set(o.localForm,"purpose",t.target.value)}}}),o._v(" "),r("div",{staticClass:"field-hint"},[r("span",{staticClass:"text-counter"},[o._v(o._s((null===(t=o.localForm.purpose)||void 0===t?void 0:t.length)||0)+"/255")])])]),o._v(" "),r("div",{staticClass:"form-group"},[o._m(13),o._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:o.localForm.dueDate,expression:"localForm.dueDate"}],staticClass:"form-control",attrs:{type:"date",min:o.today},domProps:{value:o.localForm.dueDate},on:{input:function(t){t.target.composing||o.$set(o.localForm,"dueDate",t.target.value)}}})]),o._v(" "),r("div",{staticClass:"form-group full-width"},[o._m(14),o._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:o.localForm.note,expression:"localForm.note"}],staticClass:"form-control",attrs:{rows:"3",placeholder:"‡∫•‡∫≤‡∫ç‡∫•‡∫∞‡∫≠‡∫Ω‡∫î‡ªÄ‡∫û‡∫µ‡ªà‡∫°‡ªÄ‡∫ï‡∫µ‡∫°...",maxlength:"500"},domProps:{value:o.localForm.note},on:{input:function(t){t.target.composing||o.$set(o.localForm,"note",t.target.value)}}}),o._v(" "),r("div",{staticClass:"field-hint"},[r("span",{staticClass:"text-counter"},[o._v(o._s((null===(e=o.localForm.note)||void 0===e?void 0:e.length)||0)+"/500")])])])]),o._v(" "),o.formErrors.length>0?r("div",{staticClass:"form-errors"},[o._m(15),o._v(" "),r("ul",o._l(o.formErrors,(function(t){return r("li",{key:t},[o._v(o._s(t))])})),0)]):o._e()]),o._v(" "),r("div",{staticClass:"modal-footer enhanced-footer"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:o.saving},on:{click:o.closeDialog}},[r("i",{staticClass:"fas fa-times"}),o._v("\n          ‡∫≠‡∫≠‡∫Å\n        ")]),o._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:o.saving||o.formLoading||!o.isFormValid}},[o.saving?r("i",{staticClass:"fas fa-spinner fa-spin"}):r("i",{staticClass:"fas",class:o.isEdit?"fa-save":"fa-plus"}),o._v("\n          "+o._s(o.saving?"Saving...":o.isEdit?"‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å ‡∫Å‡∫≤‡∫ô‡ªÅ‡∫Å‡ªâ‡ªÑ‡∫Ç":"‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å")+"\n        ")])])])])]):o._e()}),[function(){var t=this._self._c;return t("label",{staticClass:"form-label required"},[t("i",{staticClass:"fas fa-dollar-sign"}),this._v("\n              ‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô\n            ")])},function(){var t=this._self._c;return t("label",{staticClass:"form-label"},[t("i",{staticClass:"fas fa-exchange-alt"}),this._v("\n              ‡∫≠‡∫±‡∫î‡∫ï‡∫≤‡ªÅ‡∫•‡∫Å‡∫õ‡ªà‡∫Ω‡∫ô\n            ")])},function(){var t=this._self._c;return t("div",{staticClass:"field-hint"},[t("span",{staticClass:"exchange-rate-info"},[t("i",{staticClass:"fas fa-info-circle"}),this._v("\n                ‡∫≠‡∫±‡∫î‡∫ï‡∫≤‡ªÅ‡∫•‡∫Å‡∫õ‡ªà‡∫Ω‡∫ô‡∫õ‡∫∞‡∫à‡∫≥‡∫ß‡∫±‡∫ô\n              ")])])},function(){var t=this._self._c;return t("label",{staticClass:"form-label required"},[t("i",{staticClass:"fas fa-calendar"}),this._v("\n              Booking date\n            ")])},function(){var t=this._self._c;return t("label",{staticClass:"form-label required"},[t("i",{staticClass:"fas fa-user"}),this._v("\n              ‡∫ú‡∫π‡ªâ‡ªÉ‡∫ä‡ªâ\n            ")])},function(){var t=this._self._c;return t("div",{staticClass:"select-icon"},[t("i",{staticClass:"fas fa-chevron-down"})])},function(){var t=this._self._c;return t("label",{staticClass:"form-label"},[t("i",{staticClass:"fas fa-building"}),this._v("\n              ‡∫Å‡∫ª‡∫°\n            ")])},function(){var t=this._self._c;return t("div",{staticClass:"select-icon"},[t("i",{staticClass:"fas fa-chevron-down"})])},function(){var t=this._self._c;return t("label",{staticClass:"form-label required"},[t("i",{staticClass:"fas fa-coins"}),this._v("\n              ‡∫™‡∫∞‡∫Å‡∫∏‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô\n            ")])},function(){var t=this._self._c;return t("div",{staticClass:"select-icon"},[t("i",{staticClass:"fas fa-chevron-down"})])},function(){var t=this._self._c;return t("label",{staticClass:"form-label"},[t("i",{staticClass:"fas fa-university"}),this._v("\n              ‡∫ö‡∫±‡∫ô‡∫ä‡∫µ‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô\n            ")])},function(){var t=this._self._c;return t("div",{staticClass:"select-icon"},[t("i",{staticClass:"fas fa-chevron-down"})])},function(){var t=this._self._c;return t("label",{staticClass:"form-label"},[t("i",{staticClass:"fas fa-tag"}),this._v("\n              ‡∫à‡∫∏‡∫î‡∫õ‡∫∞‡∫™‡∫ª‡∫á\n            ")])},function(){var t=this._self._c;return t("label",{staticClass:"form-label"},[t("i",{staticClass:"fas fa-calendar-alt"}),this._v("\n              ‡∫ß‡∫±‡∫ô‡∫Ñ‡∫ª‡∫ö‡∫Æ‡∫≠‡∫ö‡∫Ñ‡∫ß‡∫ô‡∫ä‡∫≥‡∫•‡∫∞\n            ")])},function(){var t=this._self._c;return t("label",{staticClass:"form-label"},[t("i",{staticClass:"fas fa-sticky-note"}),this._v("\n              ‡ªÇ‡∫ô‡ªä‡∫î\n            ")])},function(){var t=this._self._c;return t("h6",[t("i",{staticClass:"fas fa-exclamation-circle"}),this._v("\n            Please fix the following errors:\n          ")])}],!1,null,"51177b14",null);e.default=component.exports}}]);