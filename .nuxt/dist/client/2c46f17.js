(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{887:function(t,e,n){"use strict";n.r(e);var r=n(173),o=n(281),c=n(39),l=n(611),d=n(615),v=n(595),_=n(279),f=n(610),m=n(609),h=(n(32),n(29),n(181),n(24)),x=(n(105),n(20),n(34),n(64)),w={props:{headerId:{type:Number,default:0},isQuotation:{type:Boolean,default:!1},isUpdate:{type:Boolean,default:!1}},created:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadLocation();case 2:return t.isloading=!0,e.next=5,t.loadTransaction();case 5:t.isloading=!1;case 6:case"end":return e.stop()}}),e)})))()},methods:{post:function(){Object(x.a)(this.$swal,"You are posting to invoice ?",this.postToInvoice)},getFormatNum:function(t){return(new Intl.NumberFormat).format(t)},toggleDialog:function(){this.$emit("close-dialog")},loadLocation:function(t){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isloading=!0,t.next=3,e.$axios.get("api/location/find").then((function(t){e.locationList=t.data.map((function(t){return t}))})).catch((function(t){Object(x.j)(e.$swal,"Error","Operation fail "+t.Error)}));case 3:e.isloading=!1;case 4:case"end":return t.stop()}}),t)})))()},loadTransaction:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("api/transfer/find/".concat(t.headerId)).then((function(e){t.transaction=e.data,console.log("Data ",e.data)})).catch((function(e){Object(x.j)(t.$swal,"Error","Could no load data "+e.Error)}));case 2:case"end":return e.stop()}}),e)})))()}},data:function(){return{search:"",isloading:!1,headers:[{text:"ສິນຄ້າ",align:"start",value:"product.pro_name"},{text:"ຈຳນວນ",align:"end",value:"quantity"},{text:"ລາຄາ",align:"end",value:"price",sortable:!0},{text:"ສ່ວນຫລຸດ",align:"end",value:"discount",sortable:!0},{text:"ລວມ",align:"end",value:"total",sortable:!1}]}}},k=n(36),component=Object(k.a)(w,(function(){var t=this,e=t._self._c;return e("div",[e(v.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(e){t.isloading=e},expression:"isloading"}},[e("loading-indicator")],1),t._v(" "),e(o.a,[e(c.b,[e(f.a,[e(l.a,{attrs:{cols:"6"}},[t._v("\n                    "+t._s(t.isQuotation?"Quotation #":"Invoice #")+"\n                    "+t._s(t.header.id)+"\n                ")]),t._v(" "),t.isQuotation?e(l.a,{staticStyle:{"text-align":"right"},attrs:{cols:"6"}},[e(r.a,{staticClass:"primary",attrs:{size:"large",variant:"outlined"},on:{click:t.post}},[t._v("\n                        Post to invoice"),e("span",{staticClass:"mdi mdi-cloud-download"})])],1):t._e()],1)],1),t._v(" "),e(_.a),t._v(" "),e(c.c,[e(o.a,[e(c.c,[e("div",[e(f.a,[e(l.a,{attrs:{cols:"4"}},[e(f.a,[e(l.a,{attrs:{cols:"12"}},[t._v("ວັນທີ: "+t._s(t.header.bookingDate)+" ")]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ຊື່ລູກຄ້າ: "+t._s(t.header.client.name))]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ເບີໂທ: "+t._s(t.header.client.telephone))]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ບໍລິສັດ: "+t._s(t.header.client.company))]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ການຊຳລະ: "+t._s(t.header.payment.payment_code)+" ")])],1)],1),t._v(" "),e(l.a,{attrs:{cols:"4"}},[e(f.a,[e(l.a,{attrs:{cols:"12"}},[t._v("ສະກຸນ: "+t._s(t.header.currency.code))]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ອັດຕາແລກປ່ຽນ: "+t._s(t.header.exchangeRate))]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ສ່ວນຫລຸດ: "+t._s(t.header.discount))]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ຍອດລວມທັງໝົດ: "+t._s(t.getFormatNum(t.header.total)))])],1)],1),t._v(" "),e(l.a,{staticStyle:{"text-align":"end"},attrs:{cols:"4"}},[e(f.a,[e(l.a,{attrs:{cols:"12"}},[t._v("ຜູ້ລົງ: "+t._s(t.header.user.cus_id)+" ")]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ຊື່: "+t._s(t.header.user.cus_name))])],1)],1)],1)],1)])],1),t._v(" "),e(_.a),t._v(" "),t.header.lines?e(d.a,{attrs:{headers:t.headers,search:t.search,items:t.header.lines},scopedSlots:t._u([{key:"item.function",fn:function(n){var o=n.item;return[e(r.a,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.editItem(o),t.wallet=!0}}},[e("i",{staticClass:"fas fa-wallet"})])]}},{key:"item.price",fn:function(e){var n=e.item;return[t._v("\n                    "+t._s(t.getFormatNum(n.price))+"\n                ")]}},{key:"item.discount",fn:function(e){var n=e.item;return[t._v("\n                    "+t._s(t.getFormatNum(n.discount))+"\n                ")]}},{key:"item.total",fn:function(e){var n=e.item;return[t._v("\n                    "+t._s(t.getFormatNum(n.total))+"\n                ")]}}],null,!0)}):t._e()],1),t._v(" "),e(c.a,[e(m.a),t._v(" "),e(r.a,{attrs:{color:"blue-darken-1",variant:"text"},on:{click:t.toggleDialog}},[t._v("\n                Close\n            ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LoadingIndicator:n(295).default})}}]);