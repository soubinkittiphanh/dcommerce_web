(window.webpackJsonp=window.webpackJsonp||[]).push([[214,286],{1247:function(t,e,r){var content=r(1551);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("4e28016e",content,!0,{sourceMap:!1})},1550:function(t,e,r){"use strict";r(1247)},1551:function(t,e,r){var n=r(15)((function(i){return i[1]}));n.push([t.i,'.ministry-summary-report[data-v-db79d03a]{padding:0}.report-header[data-v-db79d03a]{align-items:center;background:#01532b;border-radius:8px;color:#fff;display:flex;justify-content:space-between;margin-bottom:24px;padding:24px}.title-section h1[data-v-db79d03a]{font-size:28px;font-weight:600;margin:0}.title-section p[data-v-db79d03a]{font-size:14px;margin:8px 0 0;opacity:.9}.action-buttons[data-v-db79d03a]{display:flex;gap:16px}.custom-btn[data-v-db79d03a]{border:1px solid #fff!important;color:#01532b!important;font-weight:500!important;text-transform:none!important}.custom-btn[data-v-db79d03a]:hover{background-color:#fff!important;color:#01532b!important}.filter-card[data-v-db79d03a]{background:#fff;border-radius:8px}.filter-title[data-v-db79d03a]{background:#01532b;color:#fff;font-weight:600}.filter-actions[data-v-db79d03a]{align-items:center;display:flex;gap:12px;margin-top:20px}.custom-primary-btn[data-v-db79d03a]{background-color:#01532b!important;color:#fff!important;font-weight:500!important;text-transform:none!important}.custom-primary-btn[data-v-db79d03a]:hover{background-color:#014025!important}.custom-secondary-btn[data-v-db79d03a]{background-color:#6c757d!important;color:#fff!important;font-weight:500!important;text-transform:none!important}.custom-secondary-btn[data-v-db79d03a]:hover{background-color:#5a6268!important}.summary-cards[data-v-db79d03a]{margin-bottom:24px}.summary-card[data-v-db79d03a]{border-radius:8px;height:140px;overflow:hidden;position:relative}.summary-card[data-v-db79d03a]:hover{transform:translateY(-2px)}.summary-content[data-v-db79d03a]{align-items:center;display:flex;height:100%;position:relative;z-index:2}.summary-icon[data-v-db79d03a]{font-size:48px;margin-right:16px;opacity:.9}.summary-details h3[data-v-db79d03a]{color:#fff;font-size:16px;font-weight:600;margin:0}.summary-details p[data-v-db79d03a]{color:hsla(0,0%,100%,.9);font-size:12px;margin:4px 0}.summary-details h2[data-v-db79d03a]{color:#fff;font-size:24px;font-weight:700;margin:8px 0 0}.summary-lcy[data-v-db79d03a]{font-size:11px;margin-top:4px!important;opacity:.9}.advance-card[data-v-db79d03a],.balance-card[data-v-db79d03a],.brought-forward-card[data-v-db79d03a],.settlement-card[data-v-db79d03a]{background:#01532b;color:#fff}.chart-card[data-v-db79d03a]{border-radius:8px;margin-bottom:24px}.chart-title[data-v-db79d03a]{background:#01532b;color:#fff;font-weight:600}.chart-container[data-v-db79d03a]{height:400px;padding:20px;position:relative}.table-card[data-v-db79d03a]{border-radius:8px;margin-bottom:24px}.table-title[data-v-db79d03a]{background:#01532b;color:#fff;font-weight:600}.search-field[data-v-db79d03a]{max-width:300px}.search-field[data-v-db79d03a] .v-icon,.search-field[data-v-db79d03a] input{color:#fff!important}.report-table[data-v-db79d03a]{background:#fff}.report-table[data-v-db79d03a] thead th{background-color:#01532b!important;border-bottom:none!important;color:#fff!important;font-weight:600!important}.report-table[data-v-db79d03a] tbody tr:hover{background-color:rgba(1,83,43,.1)!important}.ministry-cell[data-v-db79d03a]{display:flex;flex-direction:column}.ministry-name[data-v-db79d03a]{color:#01532b;font-size:14px;font-weight:600}.ministry-code[data-v-db79d03a]{background:#f8f9fa;border-radius:4px;color:#666;display:inline-block;font-family:"Courier New",monospace;font-size:11px;margin-top:4px;padding:2px 6px;width:-moz-fit-content;width:fit-content}.amount-breakdown[data-v-db79d03a]{align-items:center;display:flex;flex-direction:column}.amount-cell[data-v-db79d03a]{font-family:"Courier New",monospace;font-size:14px;font-weight:700}.exchange-rate[data-v-db79d03a]{color:#666;font-size:11px;font-style:italic;margin-top:4px}.lcy-amount[data-v-db79d03a]{color:var(--custom-primary)!important}.advance-amount[data-v-db79d03a]{color:#ff8c00!important}.settlement-amount[data-v-db79d03a]{color:var(--custom-success)!important}.balance-amount[data-v-db79d03a]{font-size:16px!important;font-weight:800!important}.positive-balance[data-v-db79d03a]{color:var(--custom-success)!important}.negative-balance[data-v-db79d03a]{color:var(--custom-error)!important}.zero-balance[data-v-db79d03a]{color:#6c757d!important}.custom-action-btn[data-v-db79d03a]{background-color:var(--custom-primary)!important;border-radius:8px!important;color:#fff!important;font-size:12px!important;font-weight:600!important;text-transform:none!important}.custom-action-btn[data-v-db79d03a]:hover{background-color:var(--custom-success)!important;box-shadow:0 4px 12px rgba(1,83,43,.3)!important;transform:translateY(-2px)}.dialog-header[data-v-db79d03a]{background:linear-gradient(90deg,#01532b,#228b22)!important;font-weight:600!important}.close-btn[data-v-db79d03a],.dialog-header[data-v-db79d03a]{color:#fff!important}.section-title[data-v-db79d03a]{color:var(--custom-primary);font-size:18px;font-weight:700}.custom-divider[data-v-db79d03a]{border-color:var(--custom-primary)!important;opacity:.3!important}.detail-stat[data-v-db79d03a]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-left:4px solid var(--custom-primary);border-radius:12px;padding:16px;text-align:center;transition:all .3s ease}.detail-stat[data-v-db79d03a]:hover{box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.detail-stat strong[data-v-db79d03a]{color:var(--custom-primary);display:block;font-size:15px;font-weight:700;margin-bottom:12px}.detail-stat p[data-v-db79d03a]{font-family:"Courier New",monospace;font-size:20px;font-weight:700;margin:0}.detail-stat small[data-v-db79d03a]{color:#666;display:block;font-size:12px;font-style:italic;margin-top:8px}.balance-text[data-v-db79d03a]{font-weight:800!important}.detail-table[data-v-db79d03a] thead th{background-color:var(--custom-primary)!important;color:#fff!important;font-weight:600!important}.currency-code[data-v-db79d03a]{background:rgba(1,83,43,.1);border-radius:10px;color:#01532b;font-size:10px;font-weight:600;margin-left:6px;padding:2px 6px}.reference-cell[data-v-db79d03a]{background:#01532b;border-radius:4px;color:#fff;font-size:12px;padding:3px 8px}.date-cell[data-v-db79d03a],.reference-cell[data-v-db79d03a]{font-family:"Courier New",monospace;font-weight:500}.date-cell[data-v-db79d03a]{color:#01532b;font-size:13px}.v-data-table[data-v-db79d03a] .v-data-table__progress{background:rgba(1,83,43,.1)}@media (max-width:768px){.report-header[data-v-db79d03a]{flex-direction:column;gap:16px;padding:16px;text-align:center}.title-section h1[data-v-db79d03a]{font-size:24px}.action-buttons[data-v-db79d03a]{flex-wrap:wrap;justify-content:center}.summary-content[data-v-db79d03a]{flex-direction:column;padding:12px;text-align:center}.summary-icon[data-v-db79d03a]{font-size:40px;margin-bottom:8px;margin-right:0}.summary-details h2[data-v-db79d03a]{font-size:20px}.chart-container[data-v-db79d03a]{height:300px;padding:10px}.filter-actions[data-v-db79d03a]{flex-direction:column;width:100%}.filter-actions .v-btn[data-v-db79d03a]{width:100%}.amount-breakdown[data-v-db79d03a]{font-size:12px}.detail-stat[data-v-db79d03a]{padding:10px}.detail-stat p[data-v-db79d03a]{font-size:16px}}@media print{.action-buttons[data-v-db79d03a],.filter-card[data-v-db79d03a],.v-btn[data-v-db79d03a]{display:none!important}.chart-card[data-v-db79d03a],.summary-cards[data-v-db79d03a]{page-break-inside:avoid}.report-header[data-v-db79d03a]{background:#01532b!important;color:#fff!important;-webkit-print-color-adjust:exact}}.v-dialog .v-card-text[data-v-db79d03a]{max-height:70vh;overflow-y:auto}.v-dialog .v-card-text[data-v-db79d03a]::-webkit-scrollbar{width:6px}.v-dialog .v-card-text[data-v-db79d03a]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.v-dialog .v-card-text[data-v-db79d03a]::-webkit-scrollbar-thumb{background:#01532b;border-radius:3px}.v-dialog .v-card-text[data-v-db79d03a]::-webkit-scrollbar-thumb:hover{background:#014025}',""]),n.locals={},t.exports=n},1739:function(t,e,r){"use strict";r.r(e);var n=r(316),o=r(313),c=r(18),d=r(317),l=r(780),m=r(789),f=r(1625),v=r(754),y=r(312),h=r(167),x=r(318),C=r(779),_=r(65),w=r(777),k=r(113),M=(r(34),r(131),r(20)),L=(r(30),r(333),r(5),r(54),r(53),r(446),r(8),r(10),r(44),r(818),r(92),r(891)),D={name:"MinistrySummaryReport",data:function(){return{loading:!1,exporting:!1,loadingDetails:!1,search:"",monthMenu:!1,detailsDialog:!1,selectedMinistry:null,ministryDetails:[],filters:{reportMonth:null,ministryId:null},ministries:[],reportData:[],summaryData:{totalBroughtForwardLcy:0,totalCurrentMonthLcy:0,totalSettlementLcy:0,totalBalanceLcy:0},ministryChart:null,tableHeaders:[{text:"ກະຊວງ",value:"ministry",width:"200px"},{text:"ສະກຸນເງິນ",value:"currencyCode",width:"80px"},{text:"ຍອດຍົກມາ",value:"broughtForwardAmount",width:"130px"},{text:"LCY",value:"broughtForwardLcy",width:"100px"},{text:"ລາຍຈ່າຍເດືອນນີ້",value:"currentMonthAmount",width:"130px"},{text:"LCY",value:"currentMonthLcy",width:"100px"},{text:"ຊຳລະເດືອນນີ້",value:"settlementAmount",width:"130px"},{text:"LCY",value:"settlementLcy",width:"100px"},{text:"ຍອດສະຫຼຸບ LCY",value:"balanceLcy",width:"120px"},{text:"ຈັດການ",value:"actions",sortable:!1,width:"120px"}],detailHeaders:[{text:"ວັນທີ",value:"bookingDate"},{text:"ເລກອ້າງອີງ",value:"referenceNumber"},{text:"ປະເພດ",value:"type"},{text:"ຈຳນວນເງິນ",value:"amount"},{text:"LCY",value:"lcyAmount"},{text:"ຈຸດປະສົງ",value:"purpose"},{text:"ຜູ້ດຳເນີນການ",value:"user"}]}},created:function(){var t=this;return Object(M.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadInitialData();case 2:t.setDefaultMonth(),t.applyFilters();case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;this.$nextTick((function(){t.initializeChart()}))},beforeDestroy:function(){this.ministryChart&&this.ministryChart.destroy()},methods:{loadInitialData:function(){var t=this;return Object(M.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/ministries");case 3:r=e.sent,t.ministries=r.data.data,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading ministries:",e.t0),t.$toast.error("Error loading initial data");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},setDefaultMonth:function(){var t=new Date;this.filters.reportMonth="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"))},applyFilters:function(){var t=this;return Object(M.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,r=new URLSearchParams,Object.keys(t.filters).forEach((function(e){t.filters[e]&&r.append(e,t.filters[e])})),e.next=6,t.$axios.get("/api/money-advances/ministry-summary?".concat(r));case 6:n=e.sent,t.reportData=n.data.data,t.summaryData=n.data.summary,t.updateChart(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error loading report data:",e.t0),t.$toast.error("Error loading report data");case 16:return e.prev=16,t.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})))()},resetFilters:function(){this.filters={reportMonth:null,ministryId:null},this.setDefaultMonth(),this.applyFilters()},initializeChart:function(){var t=this.$refs.ministryChart.getContext("2d");this.ministryChart=new L.default(t,{type:"bar",data:{labels:[],datasets:[{label:"ຍອດຍົກມາ",data:[],backgroundColor:"#01532B",borderColor:"#01532B",borderWidth:1},{label:"ລາຍຈ່າຍເດືອນນີ້",data:[],backgroundColor:"#228B22",borderColor:"#228B22",borderWidth:1},{label:"ຊຳລະເດືອນນີ້",data:[],backgroundColor:"#32CD32",borderColor:"#32CD32",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:15,font:{size:11}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(t){return new Intl.NumberFormat("en-US").format(t)}}}}}})},updateChart:function(){if(this.ministryChart){var t=this.reportData.map((function(t){return t.ministryName})),e=this.reportData.map((function(t){return t.broughtForwardLcy})),r=this.reportData.map((function(t){return t.currentMonthLcy})),n=this.reportData.map((function(t){return t.settlementLcy}));this.ministryChart.data.labels=t,this.ministryChart.data.datasets[0].data=e,this.ministryChart.data.datasets[1].data=r,this.ministryChart.data.datasets[2].data=n,this.ministryChart.update()}},viewMinistryDetails:function(t){var e=this;return Object(M.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.selectedMinistry=t,e.loadingDetails=!0,e.detailsDialog=!0,r.prev=3,(n=new URLSearchParams).append("ministryId",t.ministryId),n.append("currencyId",t.currencyId),n.append("reportMonth",e.filters.reportMonth),r.next=10,e.$axios.get("/api/money-advances/ministry-details?".concat(n));case 10:o=r.sent,e.ministryDetails=o.data.data,r.next=18;break;case 14:r.prev=14,r.t0=r.catch(3),console.error("Error loading ministry details:",r.t0),e.$toast.error("Error loading ministry details");case 18:return r.prev=18,e.loadingDetails=!1,r.finish(18);case 21:case"end":return r.stop()}}),r,null,[[3,14,18,21]])})))()},exportToExcel:function(){var t=this;return Object(M.a)(regeneratorRuntime.mark((function e(){var r,n,o,link;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.exporting=!0,e.prev=1,r=new URLSearchParams,Object.keys(t.filters).forEach((function(e){t.filters[e]&&r.append(e,t.filters[e])})),e.next=6,t.$axios.get("/api/money-advances/ministry-summary/export?".concat(r),{responseType:"blob"});case 6:n=e.sent,o=new Blob([n.data]),(link=document.createElement("a")).href=window.URL.createObjectURL(o),link.download="ministry-summary-report-".concat(t.filters.reportMonth,".xlsx"),link.click(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error exporting report:",e.t0),t.$toast.error("Error exporting report");case 18:return e.prev=18,t.exporting=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,14,18,21]])})))()},printReport:function(){window.print()},formatCurrency:function(t){return t?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t):"0.00"},formatExchangeRate:function(t){return t?new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(t):"1.0000"},formatDate:function(t){return t?new Date(t).toLocaleDateString("lo-LA"):""},getBalanceClass:function(t){var e=parseFloat(t);return e>0?"positive-balance":e<0?"negative-balance":"zero-balance"},getCurrencyColor:function(t){return{USD:"#01532B",LAK:"#01532B",THB:"#228B22",EUR:"#006400",CNY:"#666"}[t]||"#01532B"},getTypeColor:function(t){switch(t){case"advance":default:return"#01532B";case"settlement":return"#228B22";case"brought_forward":return"#006400"}},getTypeText:function(t){switch(t){case"advance":return"ລາຍຈ່າຍ";case"settlement":return"ຊຳລະ";case"brought_forward":return"ຍົກມາ";default:return t}}}},R=(r(1550),r(32)),component=Object(R.a)(D,(function(){var t,e,r=this,M=r._self._c;return M("div",{staticClass:"ministry-summary-report"},[M("div",{staticClass:"report-header"},[r._m(0),r._v(" "),M("div",{staticClass:"action-buttons"},[M(n.a,{staticClass:"custom-btn export-btn",attrs:{loading:r.exporting},on:{click:r.exportToExcel}},[M("i",{staticClass:"fas fa-file-excel"}),r._v("\n        Export Excel\n      ")]),r._v(" "),M(n.a,{staticClass:"custom-btn print-btn",on:{click:r.printReport}},[M("i",{staticClass:"fas fa-print"}),r._v("\n        Print\n      ")])],1)]),r._v(" "),M(o.a,{staticClass:"filter-card mb-4",attrs:{elevation:"2"}},[M(c.d,{staticClass:"filter-title d-flex align-center"},[M(h.a,{staticClass:"mr-2"},[r._v("mdi-filter")]),r._v("\n      ຕົວກອງ (Filters)\n    ")],1),r._v(" "),M(c.c,{staticClass:"pt-4 pb-4 px-4"},[M(C.a,{attrs:{dense:""}},[M(l.a,{attrs:{cols:"12",md:"4"}},[M(x.a,{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:r._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[M(k.a,r._g(r._b({attrs:{label:"ເດືອນລາຍງານ (Report Month)","prepend-icon":"mdi-calendar-month",readonly:"",outlined:"",dense:""},model:{value:r.filters.reportMonth,callback:function(t){r.$set(r.filters,"reportMonth",t)},expression:"filters.reportMonth"}},"v-text-field",n,!1),e))]}}]),model:{value:r.monthMenu,callback:function(t){r.monthMenu=t},expression:"monthMenu"}},[r._v(" "),M(f.a,{attrs:{type:"month",color:"#01532B"},on:{input:function(t){r.monthMenu=!1}},model:{value:r.filters.reportMonth,callback:function(t){r.$set(r.filters,"reportMonth",t)},expression:"filters.reportMonth"}})],1)],1),r._v(" "),M(l.a,{attrs:{cols:"12",md:"4"}},[M(_.a,{attrs:{items:r.ministries,"item-text":"ministryName","item-value":"id",label:"ກະຊວງ (Ministry)","prepend-icon":"mdi-office-building",clearable:"",outlined:"",dense:""},model:{value:r.filters.ministryId,callback:function(t){r.$set(r.filters,"ministryId",t)},expression:"filters.ministryId"}})],1),r._v(" "),M(l.a,{staticClass:"d-flex align-center",attrs:{cols:"12",md:"4"}},[M(n.a,{staticClass:"custom-primary-btn mr-2",attrs:{loading:r.loading,color:"primary",depressed:"",small:""},on:{click:r.applyFilters}},[M(h.a,{attrs:{left:"",small:""}},[r._v("mdi-magnify")]),r._v("\n            ຄົ້ນຫາ\n          ")],1),r._v(" "),M(n.a,{staticClass:"custom-secondary-btn",attrs:{color:"grey lighten-1",depressed:"",small:""},on:{click:r.resetFilters}},[M(h.a,{attrs:{left:"",small:""}},[r._v("mdi-restore")]),r._v("\n            ຣີເຊັດ\n          ")],1)],1)],1)],1)],1),r._v(" "),M(C.a,{staticClass:"summary-cards mb-4"},[M(l.a,{attrs:{cols:"12",md:"3"}},[M(o.a,{staticClass:"summary-card brought-forward-card",attrs:{elevation:"4"}},[M(c.c,[M("div",{staticClass:"summary-content"},[M("div",{staticClass:"summary-icon"},[M("i",{staticClass:"fas fa-arrow-right"})]),r._v(" "),M("div",{staticClass:"summary-details"},[M("h3",{staticClass:"summary-title"},[r._v("ຍອດຍົກມາ")]),r._v(" "),M("p",{staticClass:"summary-subtitle"},[r._v("Total Brought Forward")]),r._v(" "),M("h2",{staticClass:"summary-amount"},[r._v("\n                "+r._s(r.formatCurrency(r.summaryData.totalBroughtForwardLcy))+"\n              ")]),r._v(" "),M("p",{staticClass:"summary-lcy"},[r._v("LCY Amount")])])])])],1)],1),r._v(" "),M(l.a,{attrs:{cols:"12",md:"3"}},[M(o.a,{staticClass:"summary-card advance-card",attrs:{elevation:"4"}},[M(c.c,[M("div",{staticClass:"summary-content"},[M("div",{staticClass:"summary-icon"},[M("i",{staticClass:"fas fa-money-bill-wave"})]),r._v(" "),M("div",{staticClass:"summary-details"},[M("h3",{staticClass:"summary-title"},[r._v("ລາຍຈ່າຍເດືອນນີ້")]),r._v(" "),M("p",{staticClass:"summary-subtitle"},[r._v("Current Month Advances")]),r._v(" "),M("h2",{staticClass:"summary-amount"},[r._v("\n                "+r._s(r.formatCurrency(r.summaryData.totalCurrentMonthLcy))+"\n              ")]),r._v(" "),M("p",{staticClass:"summary-lcy"},[r._v("LCY Amount")])])])])],1)],1),r._v(" "),M(l.a,{attrs:{cols:"12",md:"3"}},[M(o.a,{staticClass:"summary-card settlement-card",attrs:{elevation:"4"}},[M(c.c,[M("div",{staticClass:"summary-content"},[M("div",{staticClass:"summary-icon"},[M("i",{staticClass:"fas fa-hand-holding-usd"})]),r._v(" "),M("div",{staticClass:"summary-details"},[M("h3",{staticClass:"summary-title"},[r._v("ຊຳລະເດືອນນີ້")]),r._v(" "),M("p",{staticClass:"summary-subtitle"},[r._v("Current Month Settlements")]),r._v(" "),M("h2",{staticClass:"summary-amount"},[r._v("\n                "+r._s(r.formatCurrency(r.summaryData.totalSettlementLcy))+"\n              ")]),r._v(" "),M("p",{staticClass:"summary-lcy"},[r._v("LCY Amount")])])])])],1)],1),r._v(" "),M(l.a,{attrs:{cols:"12",md:"3"}},[M(o.a,{staticClass:"summary-card balance-card",attrs:{elevation:"4"}},[M(c.c,[M("div",{staticClass:"summary-content"},[M("div",{staticClass:"summary-icon"},[M("i",{staticClass:"fas fa-balance-scale"})]),r._v(" "),M("div",{staticClass:"summary-details"},[M("h3",{staticClass:"summary-title"},[r._v("ຍອດສະຫຼຸບ")]),r._v(" "),M("p",{staticClass:"summary-subtitle"},[r._v("Total Balance")]),r._v(" "),M("h2",{staticClass:"summary-amount"},[r._v("\n                "+r._s(r.formatCurrency(r.summaryData.totalBalanceLcy))+"\n              ")]),r._v(" "),M("p",{staticClass:"summary-lcy"},[r._v("LCY Amount")])])])])],1)],1)],1),r._v(" "),M(o.a,{staticClass:"chart-card mb-4",attrs:{elevation:"2"}},[M(c.d,{staticClass:"chart-title"},[M("i",{staticClass:"fas fa-chart-bar"}),r._v("\n      ກາຟສະຫຼຸບຕາມກົມ (Ministry Summary Chart)\n    ")]),r._v(" "),M(c.c,[M("div",{staticClass:"chart-container"},[M("canvas",{ref:"ministryChart",attrs:{width:"400",height:"200"}})])])],1),r._v(" "),M(o.a,{staticClass:"table-card",attrs:{elevation:"2"}},[M(c.d,{staticClass:"table-title"},[M("i",{staticClass:"fas fa-table"}),r._v("\n      ລາຍລະອຽດລາຍງານຕາມກົມ (Ministry Summary Details)\n      "),M(w.a),r._v(" "),M(k.a,{staticClass:"search-field",attrs:{"append-icon":"mdi-magnify",label:"ຄົ້ນຫາກະຊວງ...","single-line":"","hide-details":"",outlined:"",dense:""},model:{value:r.search,callback:function(t){r.search=t},expression:"search"}})],1),r._v(" "),M(m.a,{staticClass:"report-table",attrs:{headers:r.tableHeaders,items:r.reportData,search:r.search,loading:r.loading,"items-per-page":25,"footer-props":{itemsPerPageOptions:[10,25,50,100],itemsPerPageText:"ແຖວຕໍ່ໜ້າ:"}},scopedSlots:r._u([{key:"item.ministry",fn:function(t){var e=t.item;return[M("div",{staticClass:"ministry-cell"},[M("span",{staticClass:"ministry-name"},[r._v(r._s(e.ministryName))]),r._v(" "),M("span",{staticClass:"ministry-code"},[r._v(r._s(e.ministryCode))])])]}},{key:"item.currencyCode",fn:function(t){var e=t.item;return[M(d.a,{attrs:{small:"",color:r.getCurrencyColor(e.currencyCode),"text-color":"white"}},[r._v("\n          "+r._s(e.currencyCode)+"\n        ")])]}},{key:"item.broughtForwardAmount",fn:function(t){var e=t.item;return[M("div",{staticClass:"amount-breakdown"},[M("span",{staticClass:"amount-cell"},[r._v(r._s(r.formatCurrency(e.broughtForwardAmount)))]),r._v(" "),M("div",{staticClass:"exchange-rate"},[r._v("\n            Rate: "+r._s(r.formatExchangeRate(e.broughtForwardExchangeRate))+"\n          ")])])]}},{key:"item.broughtForwardLcy",fn:function(t){var e=t.item;return[M("span",{staticClass:"amount-cell lcy-amount"},[r._v("\n          "+r._s(r.formatCurrency(e.broughtForwardLcy))+"\n        ")])]}},{key:"item.currentMonthAmount",fn:function(t){var e=t.item;return[M("div",{staticClass:"amount-breakdown"},[M("span",{staticClass:"amount-cell"},[r._v(r._s(r.formatCurrency(e.currentMonthAmount)))]),r._v(" "),M("div",{staticClass:"exchange-rate"},[r._v("\n            Rate: "+r._s(r.formatExchangeRate(e.currentMonthExchangeRate))+"\n          ")])])]}},{key:"item.currentMonthLcy",fn:function(t){var e=t.item;return[M("span",{staticClass:"amount-cell advance-amount"},[r._v("\n          "+r._s(r.formatCurrency(e.currentMonthLcy))+"\n        ")])]}},{key:"item.settlementAmount",fn:function(t){var e=t.item;return[M("div",{staticClass:"amount-breakdown"},[M("span",{staticClass:"amount-cell"},[r._v(r._s(r.formatCurrency(e.settlementAmount)))]),r._v(" "),M("div",{staticClass:"exchange-rate"},[r._v("\n            Rate: "+r._s(r.formatExchangeRate(e.settlementExchangeRate))+"\n          ")])])]}},{key:"item.settlementLcy",fn:function(t){var e=t.item;return[M("span",{staticClass:"amount-cell settlement-amount"},[r._v("\n          "+r._s(r.formatCurrency(e.settlementLcy))+"\n        ")])]}},{key:"item.balanceLcy",fn:function(t){var e=t.item;return[M("span",{staticClass:"amount-cell balance-amount",class:r.getBalanceClass(e.balanceLcy)},[r._v("\n          "+r._s(r.formatCurrency(e.balanceLcy))+"\n        ")])]}},{key:"item.actions",fn:function(t){var e=t.item;return[M(n.a,{staticClass:"custom-action-btn",attrs:{small:""},on:{click:function(t){return r.viewMinistryDetails(e)}}},[M("i",{staticClass:"fas fa-eye"}),r._v("\n          ລາຍລະອຽດ\n        ")])]}}])})],1),r._v(" "),M(v.a,{attrs:{"max-width":"1000px"},model:{value:r.detailsDialog,callback:function(t){r.detailsDialog=t},expression:"detailsDialog"}},[M(o.a,[M(c.d,{staticClass:"dialog-header"},[M("i",{staticClass:"fas fa-building"}),r._v("\n        ລາຍລະອຽດ - "+r._s(null===(t=r.selectedMinistry)||void 0===t?void 0:t.ministryName)+" ("+r._s(null===(e=r.selectedMinistry)||void 0===e?void 0:e.currencyCode)+")\n        "),M(w.a),r._v(" "),M(n.a,{staticClass:"close-btn",attrs:{icon:""},on:{click:function(t){r.detailsDialog=!1}}},[M(h.a,[r._v("mdi-close")])],1)],1),r._v(" "),r.selectedMinistry?M(c.c,[M(C.a,{staticClass:"mb-4"},[M(l.a,{attrs:{cols:"12"}},[M("h3",{staticClass:"section-title"},[r._v("\n              ສະຫຼຸບ - "+r._s(r.selectedMinistry.currencyCode)+" (Summary)\n            ")]),r._v(" "),M(y.a,{staticClass:"custom-divider mb-3"})],1),r._v(" "),M(l.a,{attrs:{cols:"6",md:"3"}},[M("div",{staticClass:"detail-stat"},[M("strong",[r._v("ຍອດຍົກມາ:")]),r._v(" "),M("p",[r._v("\n                "+r._s(r.formatCurrency(r.selectedMinistry.broughtForwardAmount))+"\n                "+r._s(r.selectedMinistry.currencyCode)+"\n              ")]),r._v(" "),M("small",[r._v("LCY:\n                "+r._s(r.formatCurrency(r.selectedMinistry.broughtForwardLcy)))])])]),r._v(" "),M(l.a,{attrs:{cols:"6",md:"3"}},[M("div",{staticClass:"detail-stat"},[M("strong",[r._v("ລາຍຈ່າຍເດືອນນີ້:")]),r._v(" "),M("p",[r._v("\n                "+r._s(r.formatCurrency(r.selectedMinistry.currentMonthAmount))+"\n                "+r._s(r.selectedMinistry.currencyCode)+"\n              ")]),r._v(" "),M("small",[r._v("LCY:\n                "+r._s(r.formatCurrency(r.selectedMinistry.currentMonthLcy)))])])]),r._v(" "),M(l.a,{attrs:{cols:"6",md:"3"}},[M("div",{staticClass:"detail-stat"},[M("strong",[r._v("ຊຳລະເດືອນນີ້:")]),r._v(" "),M("p",[r._v("\n                "+r._s(r.formatCurrency(r.selectedMinistry.settlementAmount))+"\n                "+r._s(r.selectedMinistry.currencyCode)+"\n              ")]),r._v(" "),M("small",[r._v("LCY:\n                "+r._s(r.formatCurrency(r.selectedMinistry.settlementLcy)))])])]),r._v(" "),M(l.a,{attrs:{cols:"6",md:"3"}},[M("div",{staticClass:"detail-stat"},[M("strong",[r._v("ຍອດສະຫຼຸບ:")]),r._v(" "),M("p",{staticClass:"balance-text",class:r.getBalanceClass(r.selectedMinistry.balanceLcy)},[r._v("\n                "+r._s(r.formatCurrency(r.selectedMinistry.balanceLcy))+" LAK\n              ")])])])],1),r._v(" "),M(C.a,[M(l.a,{attrs:{cols:"12"}},[M("h3",{staticClass:"section-title"},[r._v("ລາຍການລະອຽດ (Detailed Transactions)")]),r._v(" "),M(y.a,{staticClass:"custom-divider mb-3"}),r._v(" "),M(m.a,{staticClass:"detail-table",attrs:{headers:r.detailHeaders,items:r.ministryDetails,loading:r.loadingDetails,"hide-default-footer":""},scopedSlots:r._u([{key:"item.bookingDate",fn:function(t){var e=t.item;return[M("span",{staticClass:"date-cell"},[r._v(r._s(r.formatDate(e.bookingDate)))])]}},{key:"item.referenceNumber",fn:function(t){var e=t.item;return[M("span",{staticClass:"reference-cell"},[r._v(r._s(e.referenceNumber))])]}},{key:"item.amount",fn:function(t){var e=t.item;return[M("div",{staticClass:"amount-breakdown"},[M("span",{staticClass:"amount-cell"},[r._v(r._s(r.formatCurrency(e.amount)))]),r._v(" "),M("span",{staticClass:"currency-code"},[r._v(r._s(e.currencyCode))]),r._v(" "),M("div",{staticClass:"exchange-rate"},[r._v("\n                    Rate: "+r._s(r.formatExchangeRate(e.exchangeRate))+"\n                  ")])])]}},{key:"item.lcyAmount",fn:function(t){var e=t.item;return[M("span",{staticClass:"amount-cell lcy-amount"},[r._v(r._s(r.formatCurrency(e.lcyAmount)))])]}},{key:"item.type",fn:function(t){var e=t.item;return[M(d.a,{attrs:{color:r.getTypeColor(e.type),"text-color":"white",small:""}},[r._v("\n                  "+r._s(r.getTypeText(e.type))+"\n                ")])]}}],null,!1,1646429338)})],1)],1)],1):r._e()],1)],1)],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-section"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"fas fa-building"}),t._v("\n        ລາຍງານສະຫຼຸບຕາມກົມ\n      ")]),t._v(" "),e("p",{staticClass:"page-subtitle"},[t._v("Ministry Summary Report")])])}],!1,null,"db79d03a",null);e.default=component.exports},891:function(t,e,r){"use strict";r.r(e);var n=r(33),o=r(858);r.d(e,"Animation",(function(){return o.a})),r.d(e,"Animations",(function(){return o.b})),r.d(e,"ArcElement",(function(){return o.c})),r.d(e,"BarController",(function(){return o.d})),r.d(e,"BarElement",(function(){return o.e})),r.d(e,"BasePlatform",(function(){return o.f})),r.d(e,"BasicPlatform",(function(){return o.g})),r.d(e,"BubbleController",(function(){return o.h})),r.d(e,"CategoryScale",(function(){return o.i})),r.d(e,"Chart",(function(){return o.j})),r.d(e,"Colors",(function(){return o.k})),r.d(e,"DatasetController",(function(){return o.l})),r.d(e,"Decimation",(function(){return o.m})),r.d(e,"DomPlatform",(function(){return o.n})),r.d(e,"DoughnutController",(function(){return o.o})),r.d(e,"Element",(function(){return o.p})),r.d(e,"Filler",(function(){return o.q})),r.d(e,"Interaction",(function(){return o.r})),r.d(e,"Legend",(function(){return o.s})),r.d(e,"LineController",(function(){return o.t})),r.d(e,"LineElement",(function(){return o.u})),r.d(e,"LinearScale",(function(){return o.v})),r.d(e,"LogarithmicScale",(function(){return o.w})),r.d(e,"PieController",(function(){return o.x})),r.d(e,"PointElement",(function(){return o.y})),r.d(e,"PolarAreaController",(function(){return o.z})),r.d(e,"RadarController",(function(){return o.A})),r.d(e,"RadialLinearScale",(function(){return o.B})),r.d(e,"Scale",(function(){return o.C})),r.d(e,"ScatterController",(function(){return o.D})),r.d(e,"SubTitle",(function(){return o.E})),r.d(e,"Ticks",(function(){return o.F})),r.d(e,"TimeScale",(function(){return o.G})),r.d(e,"TimeSeriesScale",(function(){return o.H})),r.d(e,"Title",(function(){return o.I})),r.d(e,"Tooltip",(function(){return o.J})),r.d(e,"_adapters",(function(){return o.K})),r.d(e,"_detectPlatform",(function(){return o.L})),r.d(e,"animator",(function(){return o.M})),r.d(e,"controllers",(function(){return o.N})),r.d(e,"defaults",(function(){return o.P})),r.d(e,"elements",(function(){return o.Q})),r.d(e,"layouts",(function(){return o.R})),r.d(e,"plugins",(function(){return o.S})),r.d(e,"registerables",(function(){return o.T})),r.d(e,"registry",(function(){return o.U})),r.d(e,"scales",(function(){return o.V})),o.j.register.apply(o.j,Object(n.a)(o.T)),e.default=o.j}}]);