(window.webpackJsonp=window.webpackJsonp||[]).push([[218,120,124],{1248:function(t,e,r){var content=r(1502);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("73557963",content,!0,{sourceMap:!1})},1501:function(t,e,r){"use strict";r(1248)},1502:function(t,e,r){var n=r(14)((function(i){return i[1]}));n.push([t.i,'.grey[data-v-5a942e8a],.text-h5[data-v-5a942e8a]{font-family:"Noto Sans Lao"}table[data-v-5a942e8a]{border:1px solid #000}',""]),n.locals={},t.exports=n},1811:function(t,e,r){"use strict";r.r(e);var n=r(797),o=r(796),c=r(1742),l=r(1743),d=(r(35),r(17)),f=(r(64),r(5),r(85),r(37)),v=r(963),m=(r(827),r(834),r(823),{components:{ShippingForm:v.default},middleware:"auths",data:function(){return{componentKey:0,entryFormDialog:!1,guidelineDialog:!1,dialog:!1,isloading:!1,entry:null,locationList:[],entrySelected:""}},mounted:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadData();case 2:return e.next=4,t.loadLocation();case 4:case"end":return e.stop()}}),e)})))()},computed:{getFirstHistory:function(){return console.log("FIRST VERIONS OF HISTORY ".concat(this.entry.histories)),0==this.entry.histories.length?(console.log("RETURN WITH NO HISTORY FOUND ".concat(JSON.stringify(this.entry.location))),this.entry):this.entry.histories[0]}},methods:{getFormatNum:function(t){return(new Intl.NumberFormat).format(t)},checkPoint:function(t){return t==this.getFirstHistory.location.id},getHistoryByLocation:function(t){return console.log("LOCATION ID ".concat(t)),console.log("LOCATION ID ".concat(JSON.stringify(this.entry.histories))),this.entry.histories.find((function(e){return e.locationId==t}))},loadData:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isloading){e.next=2;break}return e.abrupt("return");case 2:return t.isloading=!0,e.prev=3,e.next=6,t.$axios.get("api/order/find/".concat(31));case 6:r=e.sent,t.entry=r.data,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),Object(f.j)(t.$swal,"Error","Could no load data "+er.Error),console.log("Error ===>: "+er);case 14:t.isloading=!1;case 15:case"end":return e.stop()}}),e,null,[[3,10]])})))()},loadLocation:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isloading){e.next=2;break}return e.abrupt("return");case 2:return t.isloading=!0,e.prev=3,e.next=6,t.$axios.get("api/location/find");case 6:r=e.sent,t.locationList=r.data,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),Object(f.j)(t.$swal,"Error","Could no load data "+e.t0),console.log("Error ===>: "+e.t0);case 14:t.isloading=!1;case 15:case"end":return e.stop()}}),e,null,[[3,10]])})))()}}}),h=(r(1501),r(31)),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e(o.a,[e(n.a,{attrs:{cols:"6"}}),t._v(" "),e(n.a,{attrs:{cols:"6"}},[t.entry?e(c.a,t._l(t.locationList,(function(r,i){return e(l.a,{key:i,attrs:{color:t.checkPoint(r.id)?"warning":"primary",small:""},scopedSlots:t._u([{key:"opposite",fn:function(){return[e("span",{class:"headline font-weight-bold primary--text",domProps:{textContent:t._s("ສາຂາ ".concat(r.name))}})]},proxy:!0}],null,!0)},[t._v(" "),e("div",{staticClass:"py-4"},[e("h2",{class:"headline font-weight-light mb-4 ".concat(t.checkPoint(r.id)?"warning":"primary","--text")}),t._v(" "),e("div")])])})),1):t._e()],1)],1)],1)}),[],!1,null,"5a942e8a",null);e.default=component.exports},823:function(t,e,r){"use strict";r.r(e);var n=r(318),o=r(19),c=r(797),l=r(317),d=r(796),f=r(794),v={props:{orderDetail:{type:Object,default:""},showTotal:{type:Boolean,default:!1},gross:{type:String,default:"0"}}},m=r(31),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e(n.a,{staticClass:"ml-4"},[e(o.d,[t._v(t._s(this.orderDetail.title))]),t._v(" "),e("div",{staticClass:"pa-4"},[e(d.a,[e(c.a,{staticStyle:{"text-align":"left"},attrs:{cols:"6",lg:"6"}},[t._v("ຈຳນວນ")]),t._v(" "),e(c.a,{staticStyle:{"text-align":"right"},attrs:{cols:"6",lg:"6"}},[t._v(t._s(this.orderDetail.amount)+" ອໍເດີ")])],1),t._v(" "),e(l.a),t._v(" "),e(d.a,[e(c.a,{staticStyle:{"text-align":"left"},attrs:{cols:"6",lg:"6"}},[t._v("ມູນຄ່າ")]),t._v(" "),e(f.a),t._v(" "),e(c.a,{staticStyle:{"text-align":"right"},attrs:{cols:"6",lg:"6"}},[t._v(t._s(this.orderDetail.sale))])],1)],1),t._v(" "),e(l.a)],1)}),[],!1,null,null,null);e.default=component.exports},827:function(t,e,r){"use strict";r.r(e);var n=r(321),o=r(318),c=r(19),l=r(797),d=r(806),f=r(771),v=r(317),m=r(796),h=r(794),_=(r(35),r(34),r(130),r(17)),x=(r(85),r(37)),y={props:{header:{type:Object,default:null},isQuotation:{type:Boolean,default:!1}},methods:{post:function(){Object(x.a)(this.$swal,"You are posting to invoice ?",this.postToInvoice)},getFormatNum:function(t){return(new Intl.NumberFormat).format(t)},toggleDialog:function(){this.$emit("close-dialog")},postToInvoice:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isloading){e.next=2;break}return e.abrupt("return");case 2:return t.isloading=!0,{startDate:t.date,endDate:t.date2},e.next=6,t.$axios.put("api/sale/postToInvoice/".concat(t.header.id)).then((function(e){t.$emit("reload"),Object(x.k)(t.$swal,"Succeed","ດຳເນີນການສຳເລັດ")})).catch((function(e){Object(x.j)(t.$swal,"Error","Could no load data "+e.Error),console.log("Error ===>: "+e)}));case 6:t.isloading=!1;case 7:case"end":return e.stop()}}),e)})))()}},data:function(){return{search:"",isloading:!1,headers:[{text:"ສິນຄ້າ",align:"start",value:"product.pro_name"},{text:"ຈຳນວນ",align:"end",value:"quantity"},{text:"ລາຄາ",align:"end",value:"price",sortable:!0},{text:"ສ່ວນຫລຸດ",align:"end",value:"discount",sortable:!0},{text:"ລວມ",align:"end",value:"total",sortable:!1}]}}},w=r(31),component=Object(w.a)(y,(function(){var t=this,e=t._self._c;return e("div",[e(f.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(e){t.isloading=e},expression:"isloading"}},[e("loading-indicator")],1),t._v(" "),e(o.a,[e(c.b,[e(m.a,[e(l.a,{attrs:{cols:"6"}},[t._v("\n                    "+t._s(t.isQuotation?"Quotation #":"Invoice #")+"\n                    "+t._s(t.header.id)+"\n                ")]),t._v(" "),t.isQuotation?e(l.a,{staticStyle:{"text-align":"right"},attrs:{cols:"6"}},[e(n.a,{staticClass:"primary",attrs:{size:"large",variant:"outlined"},on:{click:t.post}},[t._v("\n                        Post to invoice"),e("span",{staticClass:"mdi mdi-cloud-download"})])],1):t._e()],1)],1),t._v(" "),e(v.a),t._v(" "),e(c.c,[e(o.a,[e(c.c,[e("div",[e(m.a,[e(l.a,{attrs:{cols:"4"}},[e(m.a,[e(l.a,{attrs:{cols:"12"}},[t._v("ວັນທີ: "+t._s(t.header.bookingDate)+" ")]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ຊື່ລູກຄ້າ: "+t._s(t.header.client.name))]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ເບີໂທ: "+t._s(t.header.client.telephone))]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ບໍລິສັດ: "+t._s(t.header.client.company))]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ການຊຳລະ: "+t._s(t.header.payment.payment_code)+" ")])],1)],1),t._v(" "),e(l.a,{attrs:{cols:"4"}},[e(m.a,[e(l.a,{attrs:{cols:"12"}},[t._v("ສະກຸນ: "+t._s(t.header.currency.code))]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ອັດຕາແລກປ່ຽນ: "+t._s(t.header.exchangeRate))]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ສ່ວນຫລຸດ: "+t._s(t.header.discount))]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ຍອດລວມທັງໝົດ: "+t._s(t.getFormatNum(t.header.total)))])],1)],1),t._v(" "),e(l.a,{staticStyle:{"text-align":"end"},attrs:{cols:"4"}},[e(m.a,[e(l.a,{attrs:{cols:"12"}},[t._v("ຜູ້ລົງ: "+t._s(t.header.user.cus_id)+" ")]),t._v(" "),e(l.a,{attrs:{cols:"12"}},[t._v("ຊື່: "+t._s(t.header.user.cus_name))])],1)],1)],1)],1)])],1),t._v(" "),e(v.a),t._v(" "),t.header.lines?e(d.a,{attrs:{headers:t.headers,search:t.search,items:t.header.lines},scopedSlots:t._u([{key:"item.function",fn:function(r){var o=r.item;return[e(n.a,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.editItem(o),t.wallet=!0}}},[e("i",{staticClass:"fas fa-wallet"})])]}},{key:"item.price",fn:function(e){var r=e.item;return[t._v("\n                    "+t._s(t.getFormatNum(r.price))+"\n                ")]}},{key:"item.discount",fn:function(e){var r=e.item;return[t._v("\n                    "+t._s(t.getFormatNum(r.discount))+"\n                ")]}},{key:"item.total",fn:function(e){var r=e.item;return[t._v("\n                    "+t._s(t.getFormatNum(r.total))+"\n                ")]}}],null,!0)}):t._e()],1),t._v(" "),e(c.a,[e(h.a),t._v(" "),e(n.a,{attrs:{color:"warning",rounded:"",variant:"text"},on:{click:t.toggleDialog}},[t._v("\n                Close\n            ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LoadingIndicator:r(248).default})},963:function(t,e,r){"use strict";r.r(e);var n=r(321),o=r(318),c=r(19),l=r(831),d=r(322),f=r(771),v=r(798),m=r(168),h=r(66),_=r(794),x=r(112),y=(r(35),r(17)),w=(r(85),r(24),r(37)),k={props:{isCreate:{type:Boolean,require:!0,default:!0},recordId:{type:Number,require:!1,default:0}},data:function(){return{form:{code:"",name:"",rating:"Gold",isActive:!0},items:["Gold","Silver","Platinum","Diamond","Master"],isloading:!1,nameRules:[function(t){return!!t||"Name is required"},function(t){return t&&t.length<=20||"Name must be less than 20 characters"}]}},created:function(){var t=this;return Object(y.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loadEntry();case 1:case"end":return e.stop()}}),e)})))()},methods:{commitRecord:function(){var t=this;return Object(y.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$refs.form.validate()||t.isloading){e.next=12;break}if(t.isloading=!0,r=t.isCreate?"api/shipping/create":"api/shipping/update/".concat(t.recordId),console.log("API => ",r),!t.isCreate){e.next=9;break}return e.next=7,t.$axios.post(r,t.form).then((function(e){return t.refreshData(),Object(w.k)(t.$swal,"Succeed","Your transaction completed")})).catch((function(e){return console.log("Error: ",e),Object(w.j)(t.$swal,"Error","ເກີດຂໍ້ຜິດພາດ ກະລຸນາລອງໃຫມ່ ພາຍຫລັງ")}));case 7:e.next=11;break;case 9:return e.next=11,t.$axios.put(r,t.form).then((function(e){return t.refreshData(),Object(w.k)(t.$swal,"Succeed","Your transaction completed")})).catch((function(e){return console.log("Error: ",e),Object(w.j)(t.$swal,"Error","ເກີດຂໍ້ຜິດພາດ ກະລຸນາລອງໃຫມ່ ພາຍຫລັງ")}));case 11:t.isloading=!1;case 12:case"end":return e.stop()}}),e)})))()},loadEntry:function(){var t=this;return Object(y.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("===> Update form record load"),!t.recordId||t.isCreate){e.next=4;break}return e.next=4,t.$axios.get("api/shipping/find/".concat(t.recordId)).then((function(e){t.form=e.data})).catch((function(t){console.log("Cannot fetch data "+t)}));case 4:case"end":return e.stop()}}),e)})))()},refreshData:function(){this.$emit("reload-data")}},computed:{}},O=r(31),component=Object(O.a)(k,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e(f.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(e){t.isloading=e},expression:"isloading"}},[e("loading-indicator")],1),t._v(" "),e(o.a,{staticClass:"pa-4"},[e(c.d,[e(d.a,{staticClass:"ma-0",attrs:{color:"primary",label:"","text-color":"white"}},[e(m.a,{attrs:{start:""}},[t._v("mdi-label")]),t._v("\n                ຈັດການຂົນສົ່ງ\n            ")],1)],1),t._v(" "),e(c.c,[e(v.a,{ref:"form"},[e(x.a,{attrs:{disabled:!t.isCreate,label:"* Code",required:"",rules:t.nameRules},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}}),t._v(" "),e(x.a,{attrs:{label:"* ຊື່",required:"",rules:t.nameRules},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),e(h.a,{attrs:{items:t.items,label:"Membership Level"},model:{value:t.form.rating,callback:function(e){t.$set(t.form,"rating",e)},expression:"form.rating"}}),t._v(" "),e(l.a,{attrs:{label:"Is Active"},model:{value:t.form.isActive,callback:function(e){t.$set(t.form,"isActive",t._n(e))},expression:"form.isActive"}})],1),t._v(" "),e("small",[t._v("* ສະແດງເຖິງຟິວທີ່ຕ້ອງໃສ່ຂໍ້ມູນ")])],1),t._v(" "),e(c.a,[e(_.a),t._v(" "),e(n.a,{attrs:{color:"warning",rounded:"",variant:"text"},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("\n                Close\n            ")]),t._v(" "),e(n.a,{attrs:{color:"primary",rounded:"",variant:"text"},on:{click:t.commitRecord}},[t._v("\n                Save\n            ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LoadingIndicator:r(248).default})}}]);