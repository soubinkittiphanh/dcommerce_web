(window.webpackJsonp=window.webpackJsonp||[]).push([[192,90],{1188:function(t,e,n){var content=n(1418);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("a450c0d8",content,!0,{sourceMap:!1})},1294:function(t,e,n){"use strict";n.r(e);n(34),n(35),n(85);var r={name:"SettlementViewDialog",props:{visible:{type:Boolean,default:!1},settlement:{type:Object,default:null}},methods:{closeDialog:function(){this.$emit("close")},formatDate:function(t){return t&&"0000-00-00"!==t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"},formatDateTime:function(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"},formatAmount:function(t){return t?new Intl.NumberFormat("en-US").format(t):"0"},formatMethod:function(t){return t?t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()})):"N/A"}}},o=(n(964),n(32)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return t.visible?e("div",{staticClass:"settlement-dialog-overlay",on:{click:t.closeDialog}},[e("div",{staticClass:"settlement-dialog",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"dialog-header"},[e("h2",{staticClass:"dialog-title"},[t._v("Settlement Details")]),t._v(" "),e("button",{staticClass:"close-button",on:{click:t.closeDialog}},[e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"}},[e("line",{attrs:{x1:"18",y1:"6",x2:"6",y2:"18"}}),t._v(" "),e("line",{attrs:{x1:"6",y1:"6",x2:"18",y2:"18"}})])])]),t._v(" "),e("div",{staticClass:"dialog-content"},[t.settlement?e("div",{staticClass:"settlement-details"},[e("div",{staticClass:"info-section"},[e("h3",{staticClass:"section-title"},[t._v("Settlement Information")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-item"},[e("label",[t._v("Settlement ID:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.id))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Booking Date:")]),t._v(" "),e("span",[t._v(t._s(t.formatDate(t.settlement.bookingDate)))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Amount:")]),t._v(" "),e("span",{staticClass:"amount"},[t._v(t._s(t.formatAmount(t.settlement.amount)))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Method:")]),t._v(" "),e("span",{staticClass:"method"},[t._v(t._s(t.formatMethod(t.settlement.method)))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Created At:")]),t._v(" "),e("span",[t._v(t._s(t.formatDateTime(t.settlement.createdAt)))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Last Updated:")]),t._v(" "),e("span",[t._v(t._s(t.formatDateTime(t.settlement.updateTimestamp)))])]),t._v(" "),t.settlement.notes?e("div",{staticClass:"info-item full-width"},[e("label",[t._v("Notes:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.notes))])]):t._e()])]),t._v(" "),t.settlement.proceeder?e("div",{staticClass:"info-section"},[e("h3",{staticClass:"section-title"},[t._v("Proceeder Information")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-item"},[e("label",[t._v("Customer ID:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.cus_id))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Name:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.cus_name))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Telephone:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.cus_tel))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Email:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.cus_email))])]),t._v(" "),t.settlement.proceeder.village?e("div",{staticClass:"info-item"},[e("label",[t._v("Village:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.village))])]):t._e(),t._v(" "),t.settlement.proceeder.district?e("div",{staticClass:"info-item"},[e("label",[t._v("District:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.district))])]):t._e(),t._v(" "),t.settlement.proceeder.province?e("div",{staticClass:"info-item"},[e("label",[t._v("Province:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.province))])]):t._e(),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Status:")]),t._v(" "),e("span",{class:["status",t.settlement.proceeder.cus_active?"active":"inactive"]},[t._v("\n                "+t._s(t.settlement.proceeder.cus_active?"Active":"Inactive")+"\n              ")])])])]):t._e(),t._v(" "),t.settlement.moneyAdvance?e("div",{staticClass:"info-section"},[e("h3",{staticClass:"section-title"},[t._v("Money Advance Information")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-item"},[e("label",[t._v("Advance ID:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.moneyAdvance.id))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Amount:")]),t._v(" "),e("span",{staticClass:"amount"},[t._v(t._s(t.formatAmount(t.settlement.moneyAdvance.amount)))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Purpose:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.moneyAdvance.purpose||"N/A"))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Status:")]),t._v(" "),e("span",{class:["status",t.settlement.moneyAdvance.status]},[t._v("\n                "+t._s(t.settlement.moneyAdvance.status)+"\n              ")])]),t._v(" "),t.settlement.moneyAdvance.currency?e("div",{staticClass:"info-item"},[e("label",[t._v("Currency:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.moneyAdvance.currency.code)+" - "+t._s(t.settlement.moneyAdvance.currency.name))])]):t._e(),t._v(" "),t.settlement.moneyAdvance.maker?e("div",{staticClass:"info-item"},[e("label",[t._v("Maker:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.moneyAdvance.maker.cus_name))])]):t._e()])]):t._e(),t._v(" "),t.settlement.bankAccount?e("div",{staticClass:"info-section"},[e("h3",{staticClass:"section-title"},[t._v("Bank Account Information")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-item"},[e("label",[t._v("Account Number:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.bankAccount.accountNumber))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Account Name:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.bankAccount.accountName))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Bank Name:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.bankAccount.bankName))])]),t._v(" "),t.settlement.bankAccount.bankBranch?e("div",{staticClass:"info-item"},[e("label",[t._v("Bank Branch:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.bankAccount.bankBranch))])]):t._e(),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Account Type:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.bankAccount.accountType))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Currency:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.bankAccount.currency))])])])]):t._e(),t._v(" "),t.settlement.ministry?e("div",{staticClass:"info-section"},[e("h3",{staticClass:"section-title"},[t._v("Ministry Information")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-item"},[e("label",[t._v("Ministry Code:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.ministry.ministryCode))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Ministry Name:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.ministry.ministryName))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Ministry Name (EN):")]),t._v(" "),e("span",[t._v(t._s(t.settlement.ministry.ministryNameEn))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Type:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.ministry.ministryType))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Status:")]),t._v(" "),e("span",{class:["status",t.settlement.ministry.status.toLowerCase()]},[t._v("\n                "+t._s(t.settlement.ministry.status)+"\n              ")])]),t._v(" "),t.settlement.ministry.establishedDate?e("div",{staticClass:"info-item"},[e("label",[t._v("Established Date:")]),t._v(" "),e("span",[t._v(t._s(t.formatDate(t.settlement.ministry.establishedDate)))])]):t._e()])]):t._e(),t._v(" "),t.settlement.chartAccount?e("div",{staticClass:"info-section"},[e("h3",{staticClass:"section-title"},[t._v("Chart Account Information")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-item"},[e("label",[t._v("Account Number:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.chartAccount.accountNumber))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Account Name:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.chartAccount.accountName))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Account Type:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.chartAccount.accountType))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Status:")]),t._v(" "),e("span",{class:["status",t.settlement.chartAccount.isActive?"active":"inactive"]},[t._v("\n                "+t._s(t.settlement.chartAccount.isActive?"Active":"Inactive")+"\n              ")])])])]):t._e()]):e("div",{staticClass:"no-data"},[e("p",[t._v("No settlement data available")])])]),t._v(" "),e("div",{staticClass:"dialog-footer"},[e("button",{staticClass:"btn btn-secondary",on:{click:t.closeDialog}},[t._v("Close")])])])]):t._e()}),[],!1,null,"fbd763dc",null);e.default=component.exports},1417:function(t,e,n){"use strict";n(1188)},1418:function(t,e,n){var r=n(15)((function(i){return i[1]}));r.push([t.i,".settlement-summary-container[data-v-5d3439db]{background-color:#f5f5f5;min-height:100vh;padding:20px}.page-header[data-v-5d3439db]{background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.1);margin-bottom:20px;padding:20px}.header-content[data-v-5d3439db]{align-items:center;display:flex;justify-content:space-between}.page-title[data-v-5d3439db]{color:#333;font-size:28px;font-weight:600;margin:0}.header-actions[data-v-5d3439db]{display:flex;gap:12px}.filter-section[data-v-5d3439db]{background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.1);margin-bottom:20px;padding:20px}.filter-row[data-v-5d3439db]{align-items:flex-end;display:flex;flex-wrap:wrap;gap:20px}.filter-group[data-v-5d3439db]{display:flex;flex-direction:column;gap:8px}.filter-group label[data-v-5d3439db]{color:#555;font-size:14px;font-weight:500}.date-separator[data-v-5d3439db]{align-self:flex-end;color:#666;padding:8px}.filter-actions[data-v-5d3439db]{align-self:flex-end;display:flex;gap:8px}.summary-cards[data-v-5d3439db]{grid-gap:20px;display:grid;gap:20px;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));margin-bottom:20px}.summary-card[data-v-5d3439db]{align-items:flex-start;background:#fff;border:1px solid #e9ecef;border-radius:12px;box-shadow:0 4px 6px rgba(0,0,0,.1);display:flex;padding:24px;transition:all .3s ease}.summary-card[data-v-5d3439db]:hover{box-shadow:0 8px 16px rgba(0,0,0,.15);transform:translateY(-4px)}.summary-card.total-lak[data-v-5d3439db]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;color:#fff}.summary-card.total-lak .card-icon[data-v-5d3439db]{background:hsla(0,0%,100%,.2);color:#fff}.summary-card.total-lak .card-content h3[data-v-5d3439db]{color:#fff;font-size:28px;font-weight:700}.summary-card.total-lak .card-content p[data-v-5d3439db]{color:hsla(0,0%,100%,.9)}.summary-card.currency-card[data-v-5d3439db]{background:#fff;border-left:4px solid #28a745}.card-icon[data-v-5d3439db]{align-items:center;border-radius:50%;display:flex;flex-shrink:0;font-size:24px;height:60px;justify-content:center;margin-right:20px;width:60px}.card-icon.total[data-v-5d3439db]{background:hsla(0,0%,100%,.2);color:#fff}.card-icon.currency[data-v-5d3439db]{background:#e8f5e8;color:#28a745}.card-content[data-v-5d3439db]{flex:1;min-width:0}.card-content h3[data-v-5d3439db]{font-size:24px;font-weight:700;margin:0 0 8px;word-break:break-word}.card-content p[data-v-5d3439db]{font-size:14px;margin:0}.currency-name[data-v-5d3439db]{color:#495057;font-weight:600;margin-bottom:4px!important}.lak-equivalent[data-v-5d3439db]{color:#6c757d;font-size:13px!important;font-style:italic}@keyframes slideInUp-5d3439db{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.summary-card[data-v-5d3439db]{animation:slideInUp-5d3439db .5s ease-out}.currency-code[data-v-5d3439db]{color:#007bff;font-weight:600}.table-section[data-v-5d3439db]{background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.1);overflow:hidden}.table-header[data-v-5d3439db]{align-items:center;border-bottom:1px solid #e9ecef;display:flex;justify-content:space-between;padding:20px}.table-title h3[data-v-5d3439db]{color:#333;margin:0}.record-count[data-v-5d3439db]{color:#666;font-size:14px;margin-left:8px}.per-page-selector[data-v-5d3439db]{align-items:center;display:flex;font-size:14px;gap:8px}.table-container[data-v-5d3439db]{overflow-x:auto}.data-table[data-v-5d3439db]{border-collapse:collapse;width:100%}.data-table td[data-v-5d3439db],.data-table th[data-v-5d3439db]{border-bottom:1px solid #e9ecef;padding:12px 16px;text-align:left}.data-table th[data-v-5d3439db]{background-color:#f8f9fa;color:#495057;font-weight:600}.data-table th.sortable[data-v-5d3439db]{cursor:pointer;transition:background-color .2s;-webkit-user-select:none;-moz-user-select:none;user-select:none}.data-table th.sortable[data-v-5d3439db]:hover{background-color:#e9ecef}.data-table th i[data-v-5d3439db]{margin-left:8px;opacity:.5}.amount-cell[data-v-5d3439db]{color:#28a745;font-weight:600}.actions-cell[data-v-5d3439db]{display:flex;gap:8px}.method-badge[data-v-5d3439db]{border-radius:20px;font-size:12px;font-weight:500;padding:4px 12px;text-transform:capitalize}.method-badge.cash[data-v-5d3439db]{background-color:#d4edda;color:#155724}.method-badge.bank_transfer[data-v-5d3439db]{background-color:#d1ecf1;color:#0c5460}.method-badge.deduction[data-v-5d3439db]{background-color:#fce4ec;color:#880e4f}.ministry-tag[data-v-5d3439db]{background-color:#e7f3ff;color:#06c}.chart-account-tag[data-v-5d3439db],.ministry-tag[data-v-5d3439db]{border-radius:12px;font-size:11px;font-weight:500;padding:3px 8px}.chart-account-tag[data-v-5d3439db]{background-color:#fff3cd;color:#856404}.currency-tag[data-v-5d3439db]{background-color:#e8f5e8;border-radius:12px;color:#28a745;font-size:11px;font-weight:600;padding:3px 8px;text-transform:uppercase}.no-data[data-v-5d3439db]{color:#999;font-size:12px;font-style:italic}.pagination-container[data-v-5d3439db]{align-items:center;border-top:1px solid #e9ecef;display:flex;justify-content:space-between;padding:20px}.pagination-info[data-v-5d3439db]{color:#666;font-size:14px}.pagination-controls[data-v-5d3439db]{align-items:center;display:flex;gap:8px}.pagination-ellipsis[data-v-5d3439db]{color:#666;padding:6px 12px}.btn[data-v-5d3439db]{align-items:center;border:1px solid transparent;border-radius:6px;cursor:pointer;display:inline-flex;font-size:14px;font-weight:500;gap:8px;padding:8px 16px;-webkit-text-decoration:none;text-decoration:none;transition:all .2s}.btn[data-v-5d3439db]:disabled{cursor:not-allowed;opacity:.5}.btn-primary[data-v-5d3439db]{background-color:#007bff;border-color:#007bff;color:#fff}.btn-primary[data-v-5d3439db]:hover:not(:disabled){background-color:#0056b3;border-color:#0056b3}.btn-secondary[data-v-5d3439db]{background-color:#6c757d;border-color:#6c757d;color:#fff}.btn-secondary[data-v-5d3439db]:hover:not(:disabled){background-color:#5a6268;border-color:#5a6268}.btn-outline-primary[data-v-5d3439db]{background-color:transparent;border-color:#007bff;color:#007bff}.btn-outline-primary[data-v-5d3439db]:hover{background-color:#007bff;color:#fff}.btn-outline-secondary[data-v-5d3439db]{background-color:transparent;border-color:#6c757d;color:#6c757d}.btn-outline-secondary[data-v-5d3439db]:hover{background-color:#6c757d;color:#fff}.btn-outline-info[data-v-5d3439db]{background-color:transparent;border-color:#17a2b8;color:#17a2b8}.btn-outline-info[data-v-5d3439db]:hover{background-color:#17a2b8;color:#fff}.btn-sm[data-v-5d3439db]{font-size:12px;padding:4px 8px}.form-control[data-v-5d3439db]{border:1px solid #ced4da;border-radius:4px;font-size:14px;padding:8px 12px;transition:border-color .2s}.form-control[data-v-5d3439db]:focus{border-color:#007bff;box-shadow:0 0 0 2px rgba(0,123,255,.25);outline:none}.loading-overlay[data-v-5d3439db]{align-items:center;background-color:rgba(0,0,0,.5);bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1000}.loading-spinner[data-v-5d3439db]{background:#fff;border-radius:8px;padding:40px;text-align:center}.loading-spinner i[data-v-5d3439db]{color:#007bff;font-size:32px;margin-bottom:16px}@media (max-width:768px){.settlement-summary-container[data-v-5d3439db]{padding:10px}.header-content[data-v-5d3439db]{align-items:flex-start}.filter-row[data-v-5d3439db],.header-content[data-v-5d3439db]{flex-direction:column;gap:16px}.filter-group[data-v-5d3439db]{width:100%}.filter-actions[data-v-5d3439db]{flex-direction:row;width:100%}.summary-cards[data-v-5d3439db]{gap:16px;grid-template-columns:1fr}.summary-card[data-v-5d3439db]{padding:20px}.card-icon[data-v-5d3439db]{height:50px;margin-right:16px;width:50px}.card-content h3[data-v-5d3439db],.card-icon[data-v-5d3439db]{font-size:20px}.pagination-container[data-v-5d3439db],.table-header[data-v-5d3439db]{align-items:flex-start;flex-direction:column;gap:16px}.pagination-controls[data-v-5d3439db]{flex-wrap:wrap}.actions-cell[data-v-5d3439db]{flex-direction:column;gap:4px}}@media (max-width:576px){.summary-card[data-v-5d3439db]{flex-direction:column;text-align:center}.card-icon[data-v-5d3439db]{margin:0 auto 16px}}",""]),r.locals={},t.exports=r},1692:function(t,e,n){"use strict";n.r(e);n(44),n(9),n(5);var r=n(33),o=n(20),c=(n(92),n(62),n(63),n(54),n(53),n(250),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(8),n(66),n(34),n(69),n(30),n(102),n(816),n(445),n(1293)),l=n(1294),d=n(1628),v={name:"SettlementSummary",components:{SettlementDialog:c.default,SettlementViewDialog:l.default,VoucherPrintComponent:d.default},middleware:"auths",data:function(){return{showPrintVoucher:!1,showEditDialog:!1,showViewDialog:!1,selectedSettlement:null,outstandingInvoices:[],users:[],currencies:[],ministries:[],chartAccounts:[],accountList:[],settlements:[],filteredSettlements:[],loading:!1,formLoading:!1,settlementDetail:null,filters:{startDate:"",endDate:"",method:"",accountNo:"",ministryId:"",chartAccountId:"",search:""},sort:{field:"settlementDate",direction:"desc"},pagination:{currentPage:1,perPage:25},summaryStats:{totalLAK:{amount:0,count:0},currencies:[]}}},computed:{user:function(){return this.$auth.user||""},paginatedSettlements:function(){var t=(this.pagination.currentPage-1)*this.pagination.perPage,e=t+this.pagination.perPage;return this.filteredSettlements.slice(t,e)},totalPages:function(){return Math.ceil(this.filteredSettlements.length/this.pagination.perPage)},paginationInfo:function(){var t=(this.pagination.currentPage-1)*this.pagination.perPage+1;return{start:t,end:Math.min(t+this.pagination.perPage-1,this.filteredSettlements.length),total:this.filteredSettlements.length}},visiblePages:function(){var t=[],e=this.pagination.currentPage,n=this.totalPages;if(n<=7)for(var i=1;i<=n;i++)t.push(i);else if(e<=4){for(var r=1;r<=5;r++)t.push(r);t.push("..."),t.push(n)}else if(e>=n-3){t.push(1),t.push("...");for(var o=n-4;o<=n;o++)t.push(o)}else{t.push(1),t.push("...");for(var c=e-1;c<=e+1;c++)t.push(c);t.push("..."),t.push(n)}return t}},mounted:function(){this.initializeData()},methods:{closePrintVoucher:function(){var t=this;this.showPrintVoucher=!1,setTimeout((function(){t.settlementDetail=null}),100)},printSettlement:function(t){var e=this;console.info("SETTLEMENT DETAIL ".concat(JSON.stringify(t))),this.showPrintVoucher=!1,this.$nextTick((function(){e.settlementDetail=t,e.showPrintVoucher=!0}))},openCreateDialog:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Opening create dialog..."),t.selectedSettlement=null,t.loading=!0,e.prev=3,e.next=6,t.loadOutstandingInvoices();case 6:t.showEditDialog=!0,console.log("showEditDialog set to:",t.showEditDialog),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Error opening create dialog:",e.t0),t.showToast("Failed to load form data","error");case 14:return e.prev=14,t.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})))()},editSettlement:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Opening edit dialog for settlement: ".concat(JSON.stringify(t)),t.id),e.selectedSettlement=t,e.loading=!0,n.prev=3,n.next=6,e.loadOutstandingInvoices();case 6:e.showEditDialog=!0,n.next=13;break;case 9:n.prev=9,n.t0=n.catch(3),console.error("Error opening edit dialog:",n.t0),e.showToast("Failed to load settlement data","error");case 13:return n.prev=13,e.loading=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[3,9,13,16]])})))()},viewSettlement:function(t){console.log("Opening view dialog for settlement:",t.id),this.selectedSettlement=t,this.showViewDialog=!0},closeEditDialog:function(){console.log("Closing edit dialog"),this.showEditDialog=!1,this.selectedSettlement=null},closeViewDialog:function(){console.log("Closing view dialog"),this.showViewDialog=!1,this.selectedSettlement=null},loadOutstandingInvoices:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.outstandingInvoices=[{id:1,invoiceNumber:"INV-001",vendor:{id:1,name:"Test Vendor 1"},dueDate:"2025-08-01",outstandingAmount:1e3},{id:2,invoiceNumber:"INV-002",vendor:{id:2,name:"Test Vendor 2"},dueDate:"2025-08-15",outstandingAmount:2500}]}catch(e){console.error("Error loading outstanding invoices:",e),t.outstandingInvoices=[],t.showToast("Failed to load outstanding invoices","error")}case 1:case"end":return e.stop()}}),e)})))()},initializeData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.fetchCurrencies(),t.fetchMinistry(),t.fetchChartAccounts(),t.fetchUsers(),t.fetchBankAccounts(),t.fetchSettlements()]);case 2:t.applyFilters(),t.calculateSummaryStats();case 4:case"end":return e.stop()}}),e)})))()},fetchUsers:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/user/find");case 3:n=e.sent,(data=n.data)&&data.data?t.users=Array.isArray(data)?data:[]:Array.isArray(data)?t.users=data:t.users=[],console.log("Fetched users:",t.users.length),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching users:",e.t0),t.users=[],t.showToast("Failed to load users","error");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))()},fetchCurrencies:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/currency/find");case 3:n=e.sent,(data=n.data)&&data.data?t.currencies=Array.isArray(data)?data:[]:Array.isArray(data)?t.currencies=data:t.currencies=[],console.log("Fetched currencies:",t.currencies.length),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching currencies:",e.t0),t.currencies=[],t.showToast("Failed to load currencies","error");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))()},fetchBankAccounts:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/bank_account/find");case 3:n=e.sent,(data=n.data)&&data.data?t.accountList=Array.isArray(data)?data:[]:Array.isArray(data)?t.accountList=data:t.accountList=[],t.accountList=t.accountList.filter((function(t){return t.isActive})),console.log("Fetched bank accounts:",t.accountList.length),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching bank accounts:",e.t0),t.accountList=[],console.warn("Bank accounts not available - feature will work without them");case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()},fetchMinistry:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/ministries");case 3:(n=e.sent).data&&n.data.success?t.ministries=n.data.data||[]:t.ministries=[],console.log("Fetched ministries:",t.ministries),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching ministries:",e.t0),t.ministries=[],t.showToast("Failed to load ministries","error");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))()},fetchChartAccounts:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/accountChart/find");case 3:n=e.sent,Array.isArray(n.data)?t.chartAccounts=n.data:n.data&&n.data.success?t.chartAccounts=n.data.data||[]:n.data?t.chartAccounts=n.data:t.chartAccounts=[],console.log("Fetched chart accounts:",t.chartAccounts),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching chart accounts:",e.t0),t.chartAccounts=[],t.showToast("Failed to load chart accounts","error");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))()},fetchSettlements:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$axios.get("/api/settlements");case 4:(n=e.sent).data&&n.data.success&&n.data.data&&n.data.data.settlements?t.settlements=n.data.data.settlements.map((function(t){var e;return{id:t.id,settlementDate:t.createdAt,method:t.method,requester:(null===(e=t.proceeder)||void 0===e?void 0:e.cus_name)||"Unknown",amount:t.amount,userId:t.userId,currencyId:t.currencyId,bankAccountId:t.bankAccountId,ministryId:t.ministryId,chartAccountId:t.chartAccountId,ministry:t.ministry,chartAccount:t.chartAccount,moneyAdvanceId:t.moneyAdvanceId,exchangeRate:t.exchangeRate,notes:t.notes}})):(console.error("Unexpected response structure:",n.data),t.settlements=[]),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching settlements:",e.t0),t.showToast("Error loading settlement data","error"),t.settlements=[];case 13:return e.prev=13,t.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,8,13,16]])})))()},onSettlementSave:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c,l,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e.loading=!0,console.log("Saving settlement:",t),!e.selectedSettlement||!e.selectedSettlement.id){n.next=10;break}return t.updateUserId=e.user.id,n.next=7,e.$axios.put("/api/settlements/".concat(e.selectedSettlement.id),t);case 7:r=n.sent,n.next=13;break;case 10:return n.next=12,e.$axios.post("/api/settlements",t);case 12:r=n.sent;case 13:if(!r.data||!r.data.success){n.next=21;break}return e.showToast("ການບັນທຶກສຳເລັດແລ້ວ","success"),e.closeEditDialog(),n.next=18,e.fetchSettlements();case 18:e.applyFilters(),n.next=22;break;case 21:throw new Error((null===(o=r.data)||void 0===o?void 0:o.message)||"Save failed");case 22:n.next=29;break;case 24:n.prev=24,n.t0=n.catch(0),console.error("Error saving settlement:",n.t0),d=(null===(c=n.t0.response)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.message)||n.t0.message||"ການບັນທຶກບໍ່ສຳເລັດ",e.showToast(d,"error");case 29:return n.prev=29,e.loading=!1,n.finish(29);case 32:case"end":return n.stop()}}),n,null,[[0,24,29,32]])})))()},applyFilters:function(){var t=this,e=Object(r.a)(this.settlements);this.filters.startDate&&(e=e.filter((function(s){return s.settlementDate>=t.filters.startDate}))),this.filters.endDate&&(e=e.filter((function(s){return s.settlementDate<=t.filters.endDate}))),this.filters.method&&(e=e.filter((function(s){return s.method===t.filters.method}))),this.filters.accountNo&&(e=e.filter((function(s){return s.bankAccountId===t.filters.accountNo}))),this.filters.ministryId&&(e=e.filter((function(s){return s.ministryId===t.filters.ministryId}))),this.filters.chartAccountId&&(e=e.filter((function(s){return s.chartAccountId===t.filters.chartAccountId}))),this.filteredSettlements=e,this.sortData(),this.pagination.currentPage=1,this.calculateSummaryStats()},resetFilters:function(){this.filters={startDate:"",endDate:"",method:"",accountNo:"",ministryId:"",chartAccountId:"",search:""},this.applyFilters()},sortBy:function(t){this.sort.field===t?this.sort.direction="asc"===this.sort.direction?"desc":"asc":(this.sort.field=t,this.sort.direction="asc"),this.sortData()},sortData:function(){var t=this;this.filteredSettlements.sort((function(a,b){var e=a[t.sort.field],n=b[t.sort.field];return"string"==typeof e&&(e=e.toLowerCase(),n=n.toLowerCase()),e<n?"asc"===t.sort.direction?-1:1:e>n?"asc"===t.sort.direction?1:-1:0}))},getSortIcon:function(t){return this.sort.field!==t?"fas fa-sort":"asc"===this.sort.direction?"fas fa-sort-up":"fas fa-sort-down"},calculateSummaryStats:function(){var t=this,e=new Map,n=0,r=0;this.filteredSettlements.forEach((function(o){var c=parseFloat(o.amount)||0,l=parseFloat(o.exchangeRate)||1,d=o.currencyId,v=c*l;n+=v,r++;var m=t.currencies.find((function(t){return t.id===d})),f=(null==m?void 0:m.code)||"LAK",h=(null==m?void 0:m.name)||"Lao Kip";e.has(d)||e.set(d,{currencyId:d,currencyCode:f,currencyName:h,originalAmount:0,lakEquivalent:0,count:0});var _=e.get(d);_.originalAmount+=c,_.lakEquivalent+=v,_.count++})),this.summaryStats={totalLAK:{amount:n,count:r},currencies:Array.from(e.values()).sort((function(a,b){return b.lakEquivalent-a.lakEquivalent}))}},updatePagination:function(){this.pagination.currentPage=1},previousPage:function(){this.pagination.currentPage>1&&this.pagination.currentPage--},nextPage:function(){this.pagination.currentPage<this.totalPages&&this.pagination.currentPage++},goToPage:function(t){this.pagination.currentPage=t},exportData:function(){var t=this.convertToCSV(this.filteredSettlements);this.downloadCSV(t,"settlement-summary.csv")},formatCurrency:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LAK";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:"LAK"===e?0:2,maximumFractionDigits:"LAK"===e?0:2}).format(t||0)}catch(n){return"".concat(this.formatNumber(t)," ").concat(e)}},formatCurrencyAmount:function(t,e){return this.formatCurrency(t,e)},formatSettlementAmount:function(t){var e=this.getSettlementCurrency(t),n=(null==e?void 0:e.code)||"LAK";return this.formatCurrency(t.amount,n)},getSettlementCurrency:function(t){return this.currencies.find((function(e){return e.id===t.currencyId}))},formatNumber:function(t){return new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}).format(t||0)},formatDate:function(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatMethod:function(t){return{cash:"Cash",bank_transfer:"Bank Transfer",deduction:"Deduction"}[t]||t},convertToCSV:function(data){var t=this;return[["ID","Date","Method","Requester","Amount","Currency","Ministry","Chart Account"].join(",")].concat(Object(r.a)(data.map((function(e){var n,r,o=t.getSettlementCurrency(e);return[e.id,e.settlementDate,e.method,e.requester,e.amount,(null==o?void 0:o.code)||"",(null===(n=e.ministry)||void 0===n?void 0:n.ministryCode)||"",(null===(r=e.chartAccount)||void 0===r?void 0:r.accountCode)||""].join(",")})))).join("\n")},downloadCSV:function(t,e){var n=new Blob([t],{type:"text/csv"}),r=window.URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,a.click(),window.URL.revokeObjectURL(r)},showToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";console.log("".concat(e,": ").concat(t)),this.$toast?this.$toast[e](t):"error"===e?alert("Error: ".concat(t)):"success"===e&&console.log("✅ ".concat(t))}}},m=v,f=(n(1417),n(32)),component=Object(f.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"settlement-summary-container"},[e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[t._v("ສະຫລຸບບັນຊີ ລາຍຮັບ")]),t._v(" "),e("div",{staticClass:"header-actions"},[e("button",{staticClass:"btn btn-primary",on:{click:t.openCreateDialog}},[e("i",{staticClass:"fas fa-plus"}),t._v("\n          ລົງລາຍຮັບ ການຊຳລະ\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-secondary",on:{click:t.exportData}},[e("i",{staticClass:"fas fa-download"}),t._v("\n          Export\n        ")])])])]),t._v(" "),e("div",{staticClass:"filter-section"},[e("div",{staticClass:"filter-row"},[e("div",{staticClass:"filter-group"},[e("label",[t._v("ເລືອກຕາມວັນທີ:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.startDate,expression:"filters.startDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.filters.startDate},on:{input:function(e){e.target.composing||t.$set(t.filters,"startDate",e.target.value)}}}),t._v(" "),e("span",{staticClass:"date-separator"},[t._v("ຫາ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.endDate,expression:"filters.endDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.filters.endDate},on:{input:function(e){e.target.composing||t.$set(t.filters,"endDate",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"filter-group"},[e("label",[t._v("ຊ່ອງທາງລາຍຮັບ:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.method,expression:"filters.method"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filters,"method",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:""}},[t._v("All Methods")]),t._v(" "),e("option",{attrs:{value:"cash"}},[t._v("Cash")]),t._v(" "),e("option",{attrs:{value:"bank_transfer"}},[t._v("Bank Transfer")]),t._v(" "),e("option",{attrs:{value:"deduction"}},[t._v("Deduction")])])]),t._v(" "),e("div",{staticClass:"filter-group"},[e("label",[t._v("ເລືອກບັນຊີ:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.accountNo,expression:"filters.accountNo"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filters,"accountNo",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:""}},[t._v("All Accounts")]),t._v(" "),t._l(t.accountList,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v("\n            "+t._s(n.bankName)+" - "+t._s(n.accountNumber)+" ("+t._s(n.accountName)+")\n          ")])}))],2)]),t._v(" "),e("div",{staticClass:"filter-group"},[e("label",[t._v("ເລືອກກະຊວງ:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.ministryId,expression:"filters.ministryId"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filters,"ministryId",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:""}},[t._v("All Ministries")]),t._v(" "),t._l(t.ministries,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v("\n            "+t._s(n.ministryCode)+" - "+t._s(n.ministryName)+"\n          ")])}))],2)]),t._v(" "),e("div",{staticClass:"filter-group"},[e("label",[t._v("ເລືອກບັນຊີລວມ:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.chartAccountId,expression:"filters.chartAccountId"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filters,"chartAccountId",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:""}},[t._v("All Chart Accounts")]),t._v(" "),t._l(t.chartAccounts,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v("\n            "+t._s(n.accountNumber)+" - "+t._s(n.accountName)+"\n          ")])}))],2)]),t._v(" "),e("div",{staticClass:"filter-actions"},[e("button",{staticClass:"btn btn-outline-primary",on:{click:t.applyFilters}},[e("i",{staticClass:"fas fa-search"}),t._v("\n          ຄົ້ນຫາ\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-outline-secondary",on:{click:t.resetFilters}},[e("i",{staticClass:"fas fa-undo"}),t._v("\n          Reset\n        ")])])])]),t._v(" "),e("div",{staticClass:"summary-cards"},[e("div",{staticClass:"summary-card total-lak"},[t._m(0),t._v(" "),e("div",{staticClass:"card-content"},[e("h3",[t._v(t._s(t.formatCurrency(t.summaryStats.totalLAK.amount,"LAK")))]),t._v(" "),e("p",[t._v("ລວມຍອດທັງໝົດ (LAK) - "+t._s(t.summaryStats.totalLAK.count)+" ລາຍການ")])])]),t._v(" "),t._l(t.summaryStats.currencies,(function(n){return e("div",{key:n.currencyId,staticClass:"summary-card currency-card"},[t._m(1,!0),t._v(" "),e("div",{staticClass:"card-content"},[e("h3",[t._v("\n          "+t._s(t.formatCurrencyAmount(n.originalAmount,n.currencyCode))+"\n        ")]),t._v(" "),e("p",{staticClass:"currency-name"},[t._v("\n          "+t._s(n.currencyName)+" ("+t._s(n.count)+" ລາຍການ)\n        ")]),t._v(" "),e("p",{staticClass:"lak-equivalent"},[t._v("\n          ≈ "+t._s(t.formatCurrency(n.lakEquivalent,"LAK"))+"\n        ")])])])}))],2),t._v(" "),e("div",{staticClass:"table-section"},[e("div",{staticClass:"table-header"},[e("div",{staticClass:"table-title"},[e("h3",[t._v("ລາຍການຮັບເງິນ")]),t._v(" "),e("span",{staticClass:"record-count"},[t._v(t._s(t.filteredSettlements.length)+" ລາຍການ")])]),t._v(" "),e("div",{staticClass:"table-actions"},[e("div",{staticClass:"per-page-selector"},[e("label",[t._v("Show:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.pagination.perPage,expression:"pagination.perPage"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.pagination,"perPage",e.target.multiple?n:n[0])},t.updatePagination]}},[e("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),e("option",{attrs:{value:"25"}},[t._v("25")]),t._v(" "),e("option",{attrs:{value:"50"}},[t._v("50")]),t._v(" "),e("option",{attrs:{value:"100"}},[t._v("100")])]),t._v(" "),e("span",[t._v("per page")])])])]),t._v(" "),e("div",{staticClass:"table-container"},[e("table",{staticClass:"data-table"},[e("thead",[e("tr",[e("th",{staticClass:"sortable",on:{click:function(e){return t.sortBy("id")}}},[t._v("\n              ID\n              "),e("i",{class:t.getSortIcon("id")})]),t._v(" "),e("th",{staticClass:"sortable",on:{click:function(e){return t.sortBy("settlementDate")}}},[t._v("\n              ວັນທີລົງຊຳລະ\n              "),e("i",{class:t.getSortIcon("settlementDate")})]),t._v(" "),e("th",{staticClass:"sortable",on:{click:function(e){return t.sortBy("method")}}},[t._v("\n              Payment Method\n              "),e("i",{class:t.getSortIcon("method")})]),t._v(" "),e("th",{staticClass:"sortable",on:{click:function(e){return t.sortBy("requester")}}},[t._v("\n              ຜູ້ລົງບັນຊີ\n              "),e("i",{class:t.getSortIcon("requester")})]),t._v(" "),e("th",{staticClass:"sortable",on:{click:function(e){return t.sortBy("amount")}}},[t._v("\n              ຈຳນວນເງິນ\n              "),e("i",{class:t.getSortIcon("amount")})]),t._v(" "),e("th",[t._v("ສະກຸນເງິນ")]),t._v(" "),e("th",[t._v("Ministry")]),t._v(" "),e("th",[t._v("Chart Account")]),t._v(" "),e("th",[t._v("ຟັງຊັ່ນ")])])]),t._v(" "),e("tbody",t._l(t.paginatedSettlements,(function(n){return e("tr",{key:n.id},[e("td",[t._v(t._s(n.id)+" "+t._s(n.moneyAdvanceId))]),t._v(" "),e("td",[t._v(t._s(t.formatDate(n.settlementDate)))]),t._v(" "),e("td",[e("span",{class:["method-badge",n.method]},[t._v("\n                "+t._s(t.formatMethod(n.method))+"\n              ")])]),t._v(" "),e("td",[t._v(t._s(n.requester))]),t._v(" "),e("td",{staticClass:"amount-cell"},[t._v("\n              "+t._s(t.formatSettlementAmount(n))+"\n            ")]),t._v(" "),e("td",[t.getSettlementCurrency(n)?e("span",{staticClass:"currency-tag"},[t._v("\n                "+t._s(t.getSettlementCurrency(n).code)+"\n              ")]):e("span",{staticClass:"no-data"},[t._v("-")])]),t._v(" "),e("td",[n.ministry?e("span",{staticClass:"ministry-tag"},[t._v("\n                "+t._s(n.ministry.ministryCode)+"\n              ")]):e("span",{staticClass:"no-data"},[t._v("-")])]),t._v(" "),e("td",[n.chartAccount?e("span",{staticClass:"chart-account-tag"},[t._v("\n                "+t._s(n.chartAccount.accountNumber)+"\n              ")]):e("span",{staticClass:"no-data"},[t._v("-")])]),t._v(" "),e("td",{staticClass:"actions-cell"},[e("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{title:"View Details"},on:{click:function(e){return t.viewSettlement(n)}}},[e("i",{staticClass:"fas fa-eye"})]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-outline-info",attrs:{title:"Edit"},on:{click:function(e){return t.editSettlement(n)}}},[e("i",{staticClass:"fas fa-edit"})]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{title:"Print"},on:{click:function(e){return t.printSettlement(n)}}},[e("i",{staticClass:"fas fa-print"})])])])})),0)])]),t._v(" "),e("div",{staticClass:"pagination-container"},[e("div",{staticClass:"pagination-info"},[t._v("\n        Showing "+t._s(t.paginationInfo.start)+" to "+t._s(t.paginationInfo.end)+" of\n        "+t._s(t.paginationInfo.total)+" entries\n      ")]),t._v(" "),e("div",{staticClass:"pagination-controls"},[e("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{disabled:1===t.pagination.currentPage},on:{click:t.previousPage}},[t._v("\n          Previous\n        ")]),t._v(" "),t._l(t.visiblePages,(function(n){return e("span",{key:n},["..."!==n?e("button",{staticClass:"btn btn-sm",class:n===t.pagination.currentPage?"btn-primary":"btn-outline-secondary",on:{click:function(e){return t.goToPage(n)}}},[t._v("\n            "+t._s(n)+"\n          ")]):e("span",{staticClass:"pagination-ellipsis"},[t._v("...")])])})),t._v(" "),e("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{disabled:t.pagination.currentPage===t.totalPages},on:{click:t.nextPage}},[t._v("\n          Next\n        ")])],2)])]),t._v(" "),e("client-only",[e("SettlementDialog",{attrs:{visible:t.showEditDialog,settlement:t.selectedSettlement,"chart-accounts":t.chartAccounts,ministries:t.ministries,currencies:t.currencies,bankAccounts:t.accountList,users:t.users,"outstanding-invoices":t.outstandingInvoices},on:{close:t.closeEditDialog,save:t.onSettlementSave}})],1),t._v(" "),t.showPrintVoucher&&t.settlementDetail?e("VoucherPrintComponent",{key:t.settlementDetail.id,attrs:{"voucher-data":t.settlementDetail},on:{close:t.closePrintVoucher}}):t._e(),t._v(" "),e("client-only",[e("SettlementViewDialog",{attrs:{visible:t.showViewDialog,settlement:t.selectedSettlement},on:{close:t.closeViewDialog}})],1),t._v(" "),t.loading?e("div",{staticClass:"loading-overlay"},[t._m(2)]):t._e()],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"card-icon total"},[t("i",{staticClass:"fas fa-calculator"})])},function(){var t=this._self._c;return t("div",{staticClass:"card-icon currency"},[t("i",{staticClass:"fas fa-coins"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading-spinner"},[e("i",{staticClass:"fas fa-spinner fa-spin"}),t._v(" "),e("p",[t._v("Loading...")])])}],!1,null,"5d3439db",null);e.default=component.exports},912:function(t,e,n){var content=n(965);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("6ba9f626",content,!0,{sourceMap:!1})},964:function(t,e,n){"use strict";n(912)},965:function(t,e,n){var r=n(15)((function(i){return i[1]}));r.push([t.i,".settlement-dialog-overlay[data-v-fbd763dc]{align-items:center;background-color:rgba(0,0,0,.5);display:flex;height:100%;justify-content:center;left:0;padding:20px;position:fixed;top:0;width:100%;z-index:1000}.settlement-dialog[data-v-fbd763dc]{background:#fff;border-radius:8px;box-shadow:0 10px 25px rgba(0,0,0,.3);display:flex;flex-direction:column;max-height:90vh;max-width:900px;width:100%}.dialog-header[data-v-fbd763dc]{align-items:center;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;padding:20px 24px}.dialog-title[data-v-fbd763dc]{color:#111827;font-size:1.5rem;font-weight:600;margin:0}.close-button[data-v-fbd763dc]{background:none;border:none;border-radius:4px;color:#6b7280;cursor:pointer;padding:4px;transition:all .2s}.close-button[data-v-fbd763dc]:hover{background-color:#f3f4f6;color:#374151}.dialog-content[data-v-fbd763dc]{flex:1;overflow-y:auto;padding:0 24px}.settlement-details[data-v-fbd763dc]{padding:20px 0}.info-section[data-v-fbd763dc]{margin-bottom:32px}.info-section[data-v-fbd763dc]:last-child{margin-bottom:0}.section-title[data-v-fbd763dc]{border-bottom:2px solid #e5e7eb;color:#374151;font-size:1.125rem;font-weight:600;margin:0 0 16px;padding-bottom:8px}.info-grid[data-v-fbd763dc]{grid-gap:16px;display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.info-item[data-v-fbd763dc]{display:flex;flex-direction:column;gap:4px}.info-item.full-width[data-v-fbd763dc]{grid-column:1/-1}.info-item label[data-v-fbd763dc]{color:#6b7280;font-size:.875rem;font-weight:500}.info-item span[data-v-fbd763dc]{color:#111827;font-size:.875rem;word-break:break-word}.amount[data-v-fbd763dc]{color:#059669;font-weight:600}.method[data-v-fbd763dc]{color:#3b82f6;font-weight:500}.status[data-v-fbd763dc]{border-radius:12px;font-size:.75rem;font-weight:500;letter-spacing:.05em;padding:2px 8px;text-transform:uppercase;width:-moz-fit-content;width:fit-content}.status.active[data-v-fbd763dc]{background-color:#d1fae5;color:#065f46}.status.inactive[data-v-fbd763dc]{background-color:#fee2e2;color:#991b1b}.status.approved[data-v-fbd763dc]{background-color:#dbeafe;color:#1e40af}.status.settled[data-v-fbd763dc]{background-color:#d1fae5;color:#065f46}.no-data[data-v-fbd763dc]{color:#6b7280;padding:40px 20px;text-align:center}.dialog-footer[data-v-fbd763dc]{border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;padding:20px 24px}.btn[data-v-fbd763dc]{border:none;border-radius:6px;cursor:pointer;font-size:.875rem;font-weight:500;padding:8px 16px;transition:all .2s}.btn-secondary[data-v-fbd763dc]{background-color:#f3f4f6;color:#374151}.btn-secondary[data-v-fbd763dc]:hover{background-color:#e5e7eb}@media (max-width:768px){.settlement-dialog-overlay[data-v-fbd763dc]{padding:10px}.settlement-dialog[data-v-fbd763dc]{max-height:95vh}.dialog-header[data-v-fbd763dc]{padding:16px 20px}.dialog-content[data-v-fbd763dc]{padding:0 20px}.info-grid[data-v-fbd763dc]{grid-template-columns:1fr}.dialog-title[data-v-fbd763dc]{font-size:1.25rem}}",""]),r.locals={},t.exports=r}}]);