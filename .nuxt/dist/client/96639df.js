(window.webpackJsonp=window.webpackJsonp||[]).push([[215,106],{1224:function(t,e,n){var content=n(1473);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("168347e5",content,!0,{sourceMap:!1})},1472:function(t,e,n){"use strict";n(1224)},1473:function(t,e,n){var r=n(14)((function(i){return i[1]}));r.push([t.i,".settlement-container[data-v-39cb0728]{background-color:#fafafa;min-height:100vh;padding:8px}.header-card[data-v-39cb0728]{border:1px solid #e2e8f0;margin-bottom:8px}.header-content[data-v-39cb0728]{align-items:center;display:flex;justify-content:space-between}.header-title[data-v-39cb0728]{color:#1a202c;font-size:18px;font-weight:600;margin:0}.header-actions[data-v-39cb0728]{display:flex;gap:8px}.filter-card[data-v-39cb0728]{border:1px solid #e2e8f0}.filter-row[data-v-39cb0728]{align-items:flex-end}.filter-actions[data-v-39cb0728]{display:flex;gap:8px;justify-content:flex-end}.summary-grid[data-v-39cb0728]{grid-gap:8px;display:grid;gap:8px;grid-template-columns:2fr repeat(auto-fit,minmax(180px,1fr))}.summary-card[data-v-39cb0728]{border:1px solid #e2e8f0}.total-card[data-v-39cb0728]{background:linear-gradient(135deg,#667eea,#764ba2)!important}.summary-layout[data-v-39cb0728]{align-items:center;display:flex;gap:12px}.currency-icon[data-v-39cb0728],.summary-icon[data-v-39cb0728]{align-items:center;background:hsla(0,0%,100%,.2);border-radius:50%;display:flex;flex-shrink:0;height:36px;justify-content:center;width:36px}.currency-icon[data-v-39cb0728]{background:#f0f9ff}.summary-content[data-v-39cb0728]{flex:1;min-width:0}.summary-amount[data-v-39cb0728]{color:#fff;font-size:14px;font-weight:700;word-break:break-word}.currency-card .summary-amount[data-v-39cb0728]{color:#1a202c}.summary-label[data-v-39cb0728]{color:hsla(0,0%,100%,.9);font-size:11px;margin-top:2px}.currency-card .summary-label[data-v-39cb0728]{color:#718096}.lak-equivalent[data-v-39cb0728]{color:#a0aec0;font-size:10px;font-style:italic;margin-top:1px}.table-card[data-v-39cb0728]{border:1px solid #e2e8f0}.table-title[data-v-39cb0728]{font-size:14px;font-weight:600}.table-controls[data-v-39cb0728]{align-items:center;display:flex;gap:8px}.compact-table[data-v-39cb0728]{font-size:12px}.compact-table[data-v-39cb0728] th{background:#f8fafc!important;font-size:11px!important;font-weight:600!important;height:36px!important;padding:6px 8px!important}.compact-table[data-v-39cb0728] td{border-bottom:1px solid #f1f5f9!important;height:40px!important;padding:4px 8px!important}.id-column[data-v-39cb0728]{display:flex;flex-direction:column}.id-main[data-v-39cb0728]{font-size:12px;font-weight:600}.id-sub[data-v-39cb0728]{color:#718096;font-size:10px}.date-compact[data-v-39cb0728]{color:#4a5568;font-size:11px}.requester-name[data-v-39cb0728]{color:#2d3748;font-size:11px}.amount-column[data-v-39cb0728]{align-items:flex-end;display:flex;flex-direction:column;text-align:right}.amount-value[data-v-39cb0728]{color:#22c55e;font-size:12px;font-weight:600}.currency-code[data-v-39cb0728]{color:#718096;font-size:9px;text-transform:uppercase}.action-buttons[data-v-39cb0728]{display:flex;gap:2px}.no-data[data-v-39cb0728]{color:#a0aec0;font-size:10px;font-style:italic}.compact-pagination[data-v-39cb0728]{align-items:center;background:#f8fafc;border-top:1px solid #e2e8f0;display:flex;justify-content:space-between;padding:8px 12px}.pagination-info[data-v-39cb0728]{color:#718096;font-size:11px}.pagination-controls[data-v-39cb0728]{align-items:center;display:flex;gap:4px}.page-numbers[data-v-39cb0728]{display:flex;gap:2px;margin:0 8px}.page-ellipsis[data-v-39cb0728]{color:#a0aec0;font-size:11px;padding:4px}@media (max-width:960px){.header-content[data-v-39cb0728]{align-items:stretch;flex-direction:column;gap:12px}.summary-grid[data-v-39cb0728]{grid-template-columns:1fr}.filter-row[data-v-39cb0728]{gap:8px}.pagination-controls[data-v-39cb0728]{flex-wrap:wrap}.action-buttons[data-v-39cb0728]{flex-direction:column;gap:1px}}@media (max-width:600px){.settlement-container[data-v-39cb0728]{padding:4px}.compact-pagination[data-v-39cb0728]{align-items:stretch;text-align:center}.compact-pagination[data-v-39cb0728],.summary-layout[data-v-39cb0728],.table-controls[data-v-39cb0728]{flex-direction:column;gap:8px}.summary-layout[data-v-39cb0728]{text-align:center}.currency-icon[data-v-39cb0728],.summary-icon[data-v-39cb0728]{margin:0 auto}}.v-card[data-v-39cb0728]{box-shadow:0 1px 3px rgba(0,0,0,.1)!important}.v-btn--small[data-v-39cb0728]{height:28px!important;min-width:60px!important}.v-btn--x-small[data-v-39cb0728]{height:24px!important;min-width:24px!important}.v-chip--x-small[data-v-39cb0728]{font-size:10px!important;height:18px!important;padding:0 6px!important}.v-select--dense .v-input__control[data-v-39cb0728],.v-text-field--dense .v-input__control[data-v-39cb0728]{min-height:32px!important}.v-text-field--dense .v-input__details[data-v-39cb0728]{min-height:14px!important;padding-top:2px!important}.v-text-field--dense .v-messages[data-v-39cb0728]{font-size:10px!important}",""]),r.locals={},t.exports=r},1784:function(t,e,n){"use strict";n.r(e);var r=n(318),o=n(315),c=n(18),l=n(319),d=n(793),m=n(802),v=n(1737),f=n(85),h=n(167),_=n(320),y=n(307),x=n(253),C=n(792),k=n(65),w=n(790),A=n(113),D=(n(63),n(10),n(7),n(11),n(12),n(3)),S=n(20),I=n(33),P=(n(91),n(31),n(44),n(334),n(5),n(54),n(53),n(9),n(62),n(104),n(251),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(8),n(66),n(35),n(69),n(102),n(829),n(449),n(1027)),N=n(957),O=n(1028);function R(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function E(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(e){Object(D.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var M={name:"SettlementSummary",components:{SettlementDialog:P.default,SettlementViewDialog:N.default,VoucherPrintComponent:O.default},middleware:"auths",data:function(){return{startDateMenu:!1,endDateMenu:!1,pickerStartDate:null,pickerEndDate:null,formattedStartDate:null,formattedEndDate:null,showAdvancedFilter:!1,showPrintVoucher:!1,showEditDialog:!1,showViewDialog:!1,selectedSettlement:null,defaultPaymentMethod:"bank_transfer",outstandingInvoices:[],users:[],currencies:[],ministries:[],chartAccounts:[],accountList:[],settlements:[],filteredSettlements:[],loading:!1,formLoading:!1,settlementDetail:null,filters:{startDate:"",endDate:"",method:"bank_transfer",accountNo:"",ministryId:"",chartAccountId:"",search:""},sort:{field:"bookingDate",direction:"desc"},pagination:{currentPage:1,perPage:25},summaryStats:{totalLAK:{amount:0,count:0},currencies:[]}}},computed:{user:function(){return this.$auth.user||""},compactHeaders:function(){return[{text:"ID",value:"id",width:"80px",sortable:!0},{text:"ວັນທີ",value:"bookingDate",width:"90px",sortable:!0},{text:"ວິທີ",value:"method",width:"80px",sortable:!0},{text:"ຜູ້ລົງ",value:"requester",width:"120px",sortable:!0},{text:"ຈຳນວນ",value:"amount",width:"120px",sortable:!0},{text:"ກົມ",value:"ministry",width:"70px",sortable:!1},{text:"ບັນຊີ",value:"chartAccount",width:"70px",sortable:!1},{text:"",value:"actions",width:"90px",sortable:!1}]},methodOptions:function(){return[{text:"ທັງໝົດ",value:""},{text:"ເງິນສົດ",value:"cash"},{text:"ໂອນທະນາຄານ",value:"bank_transfer"},{text:"ຫັກລົບ",value:"deduction"}]},accountOptions:function(){return[{text:"ທັງໝົດ",value:""}].concat(Object(I.a)(this.accountList.map((function(t){return{text:"".concat(t.bankName," - ").concat(t.accountNumber),value:t.id}}))))},ministryOptions:function(){return[{text:"ທັງໝົດ",value:""}].concat(Object(I.a)(this.ministries.map((function(t){return{text:"".concat(t.ministryCode," - ").concat(t.ministryName),value:t.id}}))))},chartAccountOptions:function(){return[{text:"ທັງໝົດ",value:""}].concat(Object(I.a)(this.chartAccounts.map((function(t){return{text:"".concat(t.accountNumber," - ").concat(t.accountName),value:t.id}}))))},perPageOptions:function(){return[10,25,50,100]},paginatedSettlements:function(){var t=(this.pagination.currentPage-1)*this.pagination.perPage,e=t+this.pagination.perPage;return this.filteredSettlements.slice(t,e)},totalPages:function(){return Math.ceil(this.filteredSettlements.length/this.pagination.perPage)},paginationInfo:function(){var t=(this.pagination.currentPage-1)*this.pagination.perPage+1,e=Math.min(t+this.pagination.perPage-1,this.filteredSettlements.length);return{start:this.filteredSettlements.length>0?t:0,end:e,total:this.filteredSettlements.length}},visiblePages:function(){var t=[],e=this.pagination.currentPage,n=this.totalPages;if(n<=7)for(var i=1;i<=n;i++)t.push(i);else if(e<=4){for(var r=1;r<=5;r++)t.push(r);t.push("..."),t.push(n)}else if(e>=n-3){t.push(1),t.push("...");for(var o=n-4;o<=n;o++)t.push(o)}else{t.push(1),t.push("...");for(var c=e-1;c<=e+1;c++)t.push(c);t.push("..."),t.push(n)}return t}},mounted:function(){this.initializeData()},methods:{formatDate:function(t){if(!t)return null;var e=new Date(t),n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return"".concat(n,"/").concat(r,"/").concat(o)},setStartDate:function(t){this.formattedStartDate=this.formatDate(t),this.pickerStartDate=t,this.filters.startDate=t,this.startDateMenu=!1},setEndDate:function(t){this.formattedEndDate=this.formatDate(t),this.pickerEndDate=t,this.filters.endDate=t,this.endDateMenu=!1},clearStartDate:function(){this.formattedStartDate=null,this.pickerStartDate=null,this.filters.startDate=""},clearEndDate:function(){this.formattedEndDate=null,this.pickerEndDate=null,this.filters.endDate=""},formatCompactDate:function(t){return new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"})},getMethodColor:function(t){return{cash:"success",bank_transfer:"info",deduction:"error"}[t]||"grey"},getMethodLabel:function(t){return{cash:"ເງິນສົດ",bank_transfer:"ໂອນ",deduction:"ຫັກ"}[t]||t},initializeData:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.fetchCurrencies(),t.fetchMinistry(),t.fetchChartAccounts(),t.fetchUsers(),t.fetchBankAccounts(),t.fetchSettlements()]);case 2:t.applyFilters(),t.calculateSummaryStats();case 4:case"end":return e.stop()}}),e)})))()},fetchUsers:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/user/find");case 3:n=e.sent,(data=n.data)&&data.data?t.users=Array.isArray(data.data)?data.data:[]:Array.isArray(data)?t.users=data:t.users=[],e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching users:",e.t0),t.users=[],t.showToast("Failed to load users","error");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))()},fetchCurrencies:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/currency/find");case 3:n=e.sent,(data=n.data)&&data.data?t.currencies=Array.isArray(data.data)?data.data:[]:Array.isArray(data)?t.currencies=data:t.currencies=[],e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching currencies:",e.t0),t.currencies=[],t.showToast("Failed to load currencies","error");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))()},fetchBankAccounts:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/bank_account/find");case 3:n=e.sent,(data=n.data)&&data.data?t.accountList=Array.isArray(data.data)?data.data:[]:Array.isArray(data)?t.accountList=data:t.accountList=[],t.accountList=t.accountList.filter((function(t){return t.isActive})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching bank accounts:",e.t0),t.accountList=[];case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},fetchMinistry:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/ministries");case 3:(n=e.sent).data&&n.data.success?t.ministries=n.data.data||[]:t.ministries=[],e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching ministries:",e.t0),t.ministries=[],t.showToast("Failed to load ministries","error");case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))()},fetchChartAccounts:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/accountChart/find");case 3:n=e.sent,Array.isArray(n.data)?t.chartAccounts=n.data:n.data&&n.data.success?t.chartAccounts=n.data.data||[]:n.data?t.chartAccounts=n.data:t.chartAccounts=[],e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching chart accounts:",e.t0),t.chartAccounts=[],t.showToast("Failed to load chart accounts","error");case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))()},fetchSettlements:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$axios.get("/api/settlements");case 4:(n=e.sent).data&&n.data.success&&n.data.data&&n.data.data.settlements?t.settlements=n.data.data.settlements.map((function(t){var e;return{id:t.id,bookingDate:t.bookingDate,method:t.method,requester:(null===(e=t.proceeder)||void 0===e?void 0:e.cus_name)||"Unknown",amount:t.amount,userId:t.userId,currencyId:t.currencyId,currency:t.currency,bankAccountId:t.bankAccountId,ministryId:t.ministryId,chartAccountId:t.chartAccountId,ministry:t.ministry,chartAccount:t.chartAccount,moneyAdvanceId:t.moneyAdvanceId,exchangeRate:t.exchangeRate,externalRef:t.externalRef,externalRefNo:t.externalRefNo,chequeNo:t.chequeNo,fromPersonName:t.fromPersonName,notes:t.notes}})):t.settlements=[],e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching settlements:",e.t0),t.showToast("Error loading settlement data","error"),t.settlements=[];case 13:return e.prev=13,t.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,8,13,16]])})))()},openCreateDialog:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.selectedSettlement=null,t.defaultPaymentMethod="bank_transfer",t.loading=!0,e.prev=3,e.next=6,t.loadOutstandingInvoices();case 6:t.showEditDialog=!0,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("Error opening create dialog:",e.t0),t.showToast("Failed to load form data","error");case 13:return e.prev=13,t.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,9,13,16]])})))()},editSettlement:function(t){var e=this;return Object(S.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.selectedSettlement=E({},t),e.defaultPaymentMethod=t.method||"bank_transfer",e.loading=!0,n.prev=3,n.next=6,e.loadOutstandingInvoices();case 6:e.showEditDialog=!0,n.next=13;break;case 9:n.prev=9,n.t0=n.catch(3),console.error("Error opening edit dialog:",n.t0),e.showToast("Failed to load settlement data","error");case 13:return n.prev=13,e.loading=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[3,9,13,16]])})))()},viewSettlement:function(t){this.selectedSettlement=E({},t),this.showViewDialog=!0},closePrintVoucher:function(){var t=this;this.showPrintVoucher=!1,setTimeout((function(){t.settlementDetail=null}),100)},printSettlement:function(t){var e=this;this.showPrintVoucher=!1,this.$nextTick((function(){e.settlementDetail=t,e.showPrintVoucher=!0}))},handleSettlementDialogClose:function(){this.showEditDialog=!1,this.selectedSettlement=null,this.defaultPaymentMethod="bank_transfer"},handleSettlementCreated:function(t){var e=this;return Object(S.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.settlements&&Array.isArray(e.settlements)&&e.settlements.unshift({id:t.id,bookingDate:t.bookingDate||t.createdAt,method:t.method,requester:(null===(r=t.proceeder)||void 0===r?void 0:r.cus_name)||(null===(o=e.user)||void 0===o?void 0:o.cus_name)||"Unknown",amount:t.amount,userId:t.userId,currencyId:t.currencyId,currency:t.currency,bankAccountId:t.bankAccountId,ministryId:t.ministryId,chartAccountId:t.chartAccountId,ministry:t.ministry,chartAccount:t.chartAccount,moneyAdvanceId:t.moneyAdvanceId,exchangeRate:t.exchangeRate,externalRef:t.externalRef,externalRefNo:t.externalRefNo,chequeNo:t.chequeNo,fromPersonName:t.fromPersonName,notes:t.notes}),e.selectedSettlement=t,e.showToast("ການສ້າງລາຍຮັບສຳເລັດແລ້ວ","success"),e.applyFilters(),e.calculateSummaryStats();case 5:case"end":return n.stop()}}),n)})))()},handleSettlementUpdated:function(t){var e=this;return Object(S.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.settlements&&Array.isArray(e.settlements)&&-1!==(r=e.settlements.findIndex((function(s){return s.id===t.id})))&&e.$set(e.settlements,r,{id:t.id,bookingDate:t.bookingDate||t.createdAt,method:t.method,requester:(null===(o=t.proceeder)||void 0===o?void 0:o.cus_name)||"Unknown",amount:t.amount,userId:t.userId,currencyId:t.currencyId,currency:t.currency,bankAccountId:t.bankAccountId,ministryId:t.ministryId,chartAccountId:t.chartAccountId,ministry:t.ministry,chartAccount:t.chartAccount,moneyAdvanceId:t.moneyAdvanceId,exchangeRate:t.exchangeRate,externalRef:t.externalRef,externalRefNo:t.externalRefNo,chequeNo:t.chequeNo,fromPersonName:t.fromPersonName,notes:t.notes}),e.selectedSettlement=t,e.showToast("ການອັບເດດລາຍຮັບສຳເລັດແລ້ວ","success"),e.applyFilters(),e.calculateSummaryStats();case 5:case"end":return n.stop()}}),n)})))()},handleLegacySettlementSave:function(t){var e,n;t.id&&null!==(e=this.selectedSettlement)&&void 0!==e&&e.id?this.handleSettlementUpdated(t):!t.id||null!==(n=this.selectedSettlement)&&void 0!==n&&n.id?this.onSettlementSave(t):this.handleSettlementCreated(t)},closeViewDialog:function(){this.showViewDialog=!1,this.selectedSettlement=null},loadOutstandingInvoices:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.outstandingInvoices=[{id:1,invoiceNumber:"INV-001",vendor:{id:1,name:"Test Vendor 1"},dueDate:"2025-08-01",outstandingAmount:1e3},{id:2,invoiceNumber:"INV-002",vendor:{id:2,name:"Test Vendor 2"},dueDate:"2025-08-15",outstandingAmount:2500}]}catch(e){console.error("Error loading outstanding invoices:",e),t.outstandingInvoices=[],t.showToast("Failed to load outstanding invoices","error")}case 1:case"end":return e.stop()}}),e)})))()},applyFilters:function(){var t=this,e=Object(I.a)(this.settlements);this.filters.startDate&&(e=e.filter((function(s){return s.bookingDate>=t.filters.startDate}))),this.filters.endDate&&(e=e.filter((function(s){return s.bookingDate<=t.filters.endDate}))),this.filters.method&&(e=e.filter((function(s){return s.method===t.filters.method}))),this.filters.accountNo&&(e=e.filter((function(s){return s.bankAccountId===t.filters.accountNo}))),this.filters.ministryId&&(e=e.filter((function(s){return s.ministryId===t.filters.ministryId}))),this.filters.chartAccountId&&(e=e.filter((function(s){return s.chartAccountId===t.filters.chartAccountId}))),this.filteredSettlements=e,this.sortData(),this.pagination.currentPage=1,this.calculateSummaryStats()},resetFilters:function(){this.filters={startDate:"",endDate:"",method:"",accountNo:"",ministryId:"",chartAccountId:"",search:""},this.clearStartDate(),this.clearEndDate(),this.applyFilters()},sortData:function(){var t=this;this.filteredSettlements.sort((function(a,b){var e=a[t.sort.field],n=b[t.sort.field];return"string"==typeof e&&(e=e.toLowerCase(),n=n.toLowerCase()),e<n?"asc"===t.sort.direction?-1:1:e>n?"asc"===t.sort.direction?1:-1:0}))},calculateSummaryStats:function(){var t=this,e=new Map,n=0,r=0;this.filteredSettlements.forEach((function(o){var c=parseFloat(o.amount)||0,l=parseFloat(o.exchangeRate)||1,d=o.currencyId,m=c*l;n+=m,r++;var v=t.currencies.find((function(t){return t.id===d})),f=(null==v?void 0:v.code)||"LAK",h=(null==v?void 0:v.name)||"Lao Kip";e.has(d)||e.set(d,{currencyId:d,currencyCode:f,currencyName:h,originalAmount:0,lakEquivalent:0,count:0});var _=e.get(d);_.originalAmount+=c,_.lakEquivalent+=m,_.count++})),this.summaryStats={totalLAK:{amount:n,count:r},currencies:Array.from(e.values()).sort((function(a,b){return b.lakEquivalent-a.lakEquivalent}))}},updatePagination:function(){this.pagination.currentPage=1},previousPage:function(){this.pagination.currentPage>1&&this.pagination.currentPage--},nextPage:function(){this.pagination.currentPage<this.totalPages&&this.pagination.currentPage++},goToPage:function(t){this.pagination.currentPage=t},exportData:function(){var t=this.convertToCSV(this.filteredSettlements);this.downloadCSV(t,"settlement-summary.csv")},formatCurrency:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LAK";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:"LAK"===e?0:2,maximumFractionDigits:"LAK"===e?0:2}).format(t||0)}catch(n){return"".concat(this.formatNumber(t)," ").concat(e)}},formatCurrencyAmount:function(t,e){return this.formatCurrency(t,e)},formatSettlementAmount:function(t){var e=this.getSettlementCurrency(t),n=(null==e?void 0:e.code)||"LAK";return this.formatCurrency(t.amount,n)},getSettlementCurrency:function(t){return this.currencies.find((function(e){return e.id===t.currencyId}))},formatNumber:function(t){return new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}).format(t||0)},convertToCSV:function(data){var t=this;return[["ID","Date","Method","Requester","Amount","Currency","Ministry","Chart Account"].join(",")].concat(Object(I.a)(data.map((function(e){var n,r,o=t.getSettlementCurrency(e);return[e.id,e.bookingDate,e.method,e.requester,e.amount,(null==o?void 0:o.code)||"",(null===(n=e.ministry)||void 0===n?void 0:n.ministryCode)||"",(null===(r=e.chartAccount)||void 0===r?void 0:r.accountCode)||""].join(",")})))).join("\n")},downloadCSV:function(t,e){var n=new Blob([t],{type:"text/csv"}),r=window.URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,a.click(),window.URL.revokeObjectURL(r)},showToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";this.$toast?this.$toast[e](t):console.log("".concat(e,": ").concat(t))}}},j=M,L=(n(1472),n(30)),component=Object(L.a)(j,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"settlement-container"},[e(o.a,{staticClass:"header-card",attrs:{flat:""}},[e(c.c,{staticClass:"py-3"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"header-title"},[t._v("ສະຫລຸບບັນຊີ ລາຍຮັບ")]),t._v(" "),e("div",{staticClass:"header-actions"},[e(r.a,{attrs:{color:"primary",small:"",loading:t.loading},on:{click:t.openCreateDialog}},[e(h.a,{attrs:{left:"",small:""}},[t._v("mdi-plus")]),t._v("\n            ລົງລາຍຮັບ\n          ")],1),t._v(" "),e(r.a,{attrs:{color:"secondary",small:"",outlined:"",disabled:t.loading},on:{click:t.exportData}},[e(h.a,{attrs:{left:"",small:""}},[t._v("mdi-download")]),t._v("\n            Export\n          ")],1)],1)])])],1),t._v(" "),e(o.a,{staticClass:"filter-card mb-2",attrs:{flat:""}},[e(c.c,{staticClass:"py-2"},[e(C.a,{staticClass:"filter-row",attrs:{"no-gutters":"",align:"center"}},[e(d.a,{staticClass:"px-1",attrs:{cols:"12",sm:"6",md:"2"}},[e(_.a,{ref:"startDateMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(A.a,t._g(t._b({attrs:{label:"ວັນທີ່ເລີ່ມ",hint:"DD/MM/YYYY",dense:"",outlined:"",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar"},on:{"click:clear":t.clearStartDate},model:{value:t.formattedStartDate,callback:function(e){t.formattedStartDate=e},expression:"formattedStartDate"}},"v-text-field",o,!1),r))]}}]),model:{value:t.startDateMenu,callback:function(e){t.startDateMenu=e},expression:"startDateMenu"}},[t._v(" "),e(v.a,{attrs:{"no-title":""},on:{input:t.setStartDate},model:{value:t.pickerStartDate,callback:function(e){t.pickerStartDate=e},expression:"pickerStartDate"}})],1)],1),t._v(" "),e(d.a,{staticClass:"px-1",attrs:{cols:"12",sm:"6",md:"2"}},[e(_.a,{ref:"endDateMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(A.a,t._g(t._b({attrs:{label:"ວັນທີ່ສິ້ນສຸດ",hint:"DD/MM/YYYY",dense:"",outlined:"",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar"},on:{"click:clear":t.clearEndDate},model:{value:t.formattedEndDate,callback:function(e){t.formattedEndDate=e},expression:"formattedEndDate"}},"v-text-field",o,!1),r))]}}]),model:{value:t.endDateMenu,callback:function(e){t.endDateMenu=e},expression:"endDateMenu"}},[t._v(" "),e(v.a,{attrs:{"no-title":""},on:{input:t.setEndDate},model:{value:t.pickerEndDate,callback:function(e){t.pickerEndDate=e},expression:"pickerEndDate"}})],1)],1),t._v(" "),e(d.a,{staticClass:"px-1",attrs:{cols:"12",sm:"6",md:"2"}},[e(k.a,{attrs:{items:t.methodOptions,label:"ວິທີການ",dense:"",outlined:"",clearable:"","hide-details":"auto"},model:{value:t.filters.method,callback:function(e){t.$set(t.filters,"method",e)},expression:"filters.method"}})],1),t._v(" "),e(d.a,{staticClass:"px-1",attrs:{cols:"12",sm:"6",md:"2"}},[e(k.a,{attrs:{items:t.accountOptions,label:"ບັນຊີ",dense:"",outlined:"",clearable:"","hide-details":"auto"},model:{value:t.filters.accountNo,callback:function(e){t.$set(t.filters,"accountNo",e)},expression:"filters.accountNo"}})],1),t._v(" "),e(d.a,{staticClass:"px-1",attrs:{cols:"12",sm:"6",md:"2"}},[e(k.a,{attrs:{items:t.ministryOptions,label:"ກະຊວງ",dense:"",outlined:"",clearable:"","hide-details":"auto"},model:{value:t.filters.ministryId,callback:function(e){t.$set(t.filters,"ministryId",e)},expression:"filters.ministryId"}})],1),t._v(" "),e(d.a,{staticClass:"px-1",attrs:{cols:"12",sm:"6",md:"2"}},[e("div",{staticClass:"filter-actions"},[e(r.a,{attrs:{color:"primary",small:"",loading:t.loading},on:{click:t.applyFilters}},[e(h.a,{attrs:{small:""}},[t._v("mdi-magnify")]),t._v("\n              ຄົ້ນຫາ\n            ")],1),t._v(" "),e(r.a,{attrs:{small:"",outlined:"",disabled:t.loading},on:{click:t.resetFilters}},[e(h.a,{attrs:{small:""}},[t._v("mdi-refresh")])],1)],1)])],1),t._v(" "),e(f.a,[t.showAdvancedFilter?e(C.a,{staticClass:"mt-2",attrs:{"no-gutters":""}},[e(d.a,{staticClass:"px-1",attrs:{cols:"12",md:"6"}},[e(k.a,{attrs:{items:t.chartAccountOptions,label:"ບັນຊີລວມ",dense:"",outlined:"",clearable:"","hide-details":"auto"},model:{value:t.filters.chartAccountId,callback:function(e){t.$set(t.filters,"chartAccountId",e)},expression:"filters.chartAccountId"}})],1)],1):t._e()],1),t._v(" "),e("div",{staticClass:"text-center mt-1"},[e(r.a,{attrs:{"x-small":"",text:""},on:{click:function(e){t.showAdvancedFilter=!t.showAdvancedFilter}}},[t._v("\n          "+t._s(t.showAdvancedFilter?"ປິດຕົວກອງເພີ່ມເຕີມ":"ເພີ່ມຕົວກອງ")+"\n          "),e(h.a,{attrs:{small:""}},[t._v(t._s(t.showAdvancedFilter?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"summary-grid mb-2"},[e(o.a,{staticClass:"summary-card total-card",attrs:{dark:""}},[e(c.c,{staticClass:"pa-3"},[e("div",{staticClass:"summary-layout"},[e("div",{staticClass:"summary-icon"},[e(h.a,{attrs:{color:"white"}},[t._v("mdi-calculator")])],1),t._v(" "),e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-amount"},[t._v(t._s(t.formatCurrency(t.summaryStats.totalLAK.amount,"LAK")))]),t._v(" "),e("div",{staticClass:"summary-label"},[t._v("ລວມທັງໝົດ ("+t._s(t.summaryStats.totalLAK.count)+" ລາຍການ)")])])])])],1),t._v(" "),t._l(t.summaryStats.currencies.slice(0,3),(function(n){return e(o.a,{key:n.currencyId,staticClass:"summary-card currency-card"},[e(c.c,{staticClass:"pa-3"},[e("div",{staticClass:"summary-layout"},[e("div",{staticClass:"currency-icon"},[e(h.a,{attrs:{color:"success"}},[t._v("mdi-currency-"+t._s(n.currencyCode.toLowerCase()))])],1),t._v(" "),e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-amount"},[t._v("\n              "+t._s(t.formatCurrencyAmount(n.originalAmount,n.currencyCode))+"\n            ")]),t._v(" "),e("div",{staticClass:"summary-label"},[t._v(t._s(n.currencyCode)+" ("+t._s(n.count)+")")]),t._v(" "),e("div",{staticClass:"lak-equivalent"},[t._v("≈ "+t._s(t.formatCurrency(n.lakEquivalent,"LAK")))])])])])],1)}))],2),t._v(" "),e(o.a,{staticClass:"table-card",attrs:{flat:""}},[e(c.d,{staticClass:"py-2 px-3"},[e("span",{staticClass:"table-title"},[t._v("ລາຍການ ("+t._s(t.filteredSettlements.length)+")")]),t._v(" "),e(w.a),t._v(" "),e("div",{staticClass:"table-controls"},[e(k.a,{staticStyle:{"max-width":"70px"},attrs:{items:t.perPageOptions,label:"ແຖວ",dense:"",outlined:"","hide-details":""},on:{input:t.updatePagination},model:{value:t.pagination.perPage,callback:function(e){t.$set(t.pagination,"perPage",e)},expression:"pagination.perPage"}})],1)],1),t._v(" "),e(m.a,{staticClass:"compact-table",attrs:{headers:t.compactHeaders,items:t.paginatedSettlements,page:t.pagination.currentPage,"items-per-page":t.pagination.perPage,dense:"","hide-default-footer":""},on:{"update:page":function(e){return t.$set(t.pagination,"currentPage",e)}},scopedSlots:t._u([{key:"item.id",fn:function(n){var r=n.item;return[e("div",{staticClass:"id-column"},[e("span",{staticClass:"id-main"},[t._v(t._s(r.id))]),t._v(" "),r.moneyAdvanceId?e("span",{staticClass:"id-sub"},[t._v("("+t._s(r.moneyAdvanceId)+")")]):t._e()])]}},{key:"item.bookingDate",fn:function(n){var r=n.item;return[e("span",{staticClass:"date-compact"},[t._v(t._s(t.formatCompactDate(r.bookingDate)))])]}},{key:"item.method",fn:function(n){var r=n.item;return[e(l.a,{attrs:{color:t.getMethodColor(r.method),"x-small":"",outlined:""}},[t._v("\n          "+t._s(t.getMethodLabel(r.method))+"\n        ")])]}},{key:"item.requester",fn:function(n){var r=n.item;return[e("span",{staticClass:"requester-name"},[t._v(t._s(r.requester))])]}},{key:"item.amount",fn:function(n){var r,o=n.item;return[e("div",{staticClass:"amount-column"},[e("span",{staticClass:"amount-value"},[t._v(t._s(t.formatSettlementAmount(o)))]),t._v(" "),e("span",{staticClass:"currency-code"},[t._v(t._s((null===(r=t.getSettlementCurrency(o))||void 0===r?void 0:r.code)||"LAK"))])])]}},{key:"item.ministry",fn:function(n){var r=n.item;return[r.ministry?e(l.a,{attrs:{color:"info","x-small":"",outlined:""}},[t._v("\n          "+t._s(r.ministry.ministryCode)+"\n        ")]):e("span",{staticClass:"no-data"},[t._v("-")])]}},{key:"item.chartAccount",fn:function(n){var r=n.item;return[r.chartAccount?e(l.a,{attrs:{color:"warning","x-small":"",outlined:""}},[t._v("\n          "+t._s(r.chartAccount.accountNumber)+"\n        ")]):e("span",{staticClass:"no-data"},[t._v("-")])]}},{key:"item.actions",fn:function(n){var o=n.item;return[e("div",{staticClass:"action-buttons"},[e(r.a,{attrs:{icon:"","x-small":"",disabled:t.loading},on:{click:function(e){return t.viewSettlement(o)}}},[e(h.a,{attrs:{small:""}},[t._v("mdi-eye")])],1),t._v(" "),e(r.a,{attrs:{icon:"","x-small":"",disabled:t.loading},on:{click:function(e){return t.editSettlement(o)}}},[e(h.a,{attrs:{small:""}},[t._v("mdi-pencil")])],1),t._v(" "),e(r.a,{attrs:{icon:"","x-small":"",disabled:t.loading},on:{click:function(e){return t.printSettlement(o)}}},[e(h.a,{attrs:{small:""}},[t._v("mdi-printer")])],1)],1)]}}])}),t._v(" "),e("div",{staticClass:"compact-pagination"},[e("div",{staticClass:"pagination-info"},[t._v("\n        "+t._s(t.paginationInfo.start)+"-"+t._s(t.paginationInfo.end)+" ຈາກ "+t._s(t.paginationInfo.total)+"\n      ")]),t._v(" "),e("div",{staticClass:"pagination-controls"},[e(r.a,{attrs:{icon:"",small:"",disabled:1===t.pagination.currentPage},on:{click:t.previousPage}},[e(h.a,[t._v("mdi-chevron-left")])],1),t._v(" "),e("div",{staticClass:"page-numbers"},t._l(t.visiblePages,(function(n){return"..."!==n?e(r.a,{key:n,attrs:{color:n===t.pagination.currentPage?"primary":"",outlined:n!==t.pagination.currentPage,"x-small":"","min-width":"30"},on:{click:function(e){return t.goToPage(n)}}},[t._v("\n            "+t._s(n)+"\n          ")]):e("span",{staticClass:"page-ellipsis"},[t._v("...")])})),1),t._v(" "),e(r.a,{attrs:{icon:"",small:"",disabled:t.pagination.currentPage===t.totalPages},on:{click:t.nextPage}},[e(h.a,[t._v("mdi-chevron-right")])],1)],1)])],1),t._v(" "),e("client-only",[e("SettlementDialog",{attrs:{visible:t.showEditDialog,"payment-method":t.defaultPaymentMethod,settlement:t.selectedSettlement,"chart-accounts":t.chartAccounts,ministries:t.ministries,currencies:t.currencies,bankAccounts:t.accountList,users:t.users,"outstanding-invoices":t.outstandingInvoices},on:{close:t.handleSettlementDialogClose,created:t.handleSettlementCreated,updated:t.handleSettlementUpdated,save:t.handleLegacySettlementSave}})],1),t._v(" "),t.showPrintVoucher&&t.settlementDetail?e("VoucherPrintComponent",{key:t.settlementDetail.id,attrs:{"voucher-data":t.settlementDetail},on:{close:t.closePrintVoucher}}):t._e(),t._v(" "),e("client-only",[e("SettlementViewDialog",{attrs:{visible:t.showViewDialog,settlement:t.selectedSettlement},on:{close:t.closeViewDialog}})],1),t._v(" "),e(y.a,{attrs:{value:t.loading}},[e(x.a,{attrs:{indeterminate:"",size:"64",color:"primary"}})],1)],1)}),[],!1,null,"39cb0728",null);e.default=component.exports},896:function(t,e,n){var content=n(934);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("6ba9f626",content,!0,{sourceMap:!1})},933:function(t,e,n){"use strict";n(896)},934:function(t,e,n){var r=n(14)((function(i){return i[1]}));r.push([t.i,".settlement-dialog-overlay[data-v-fbd763dc]{align-items:center;background-color:rgba(0,0,0,.5);display:flex;height:100%;justify-content:center;left:0;padding:20px;position:fixed;top:0;width:100%;z-index:1000}.settlement-dialog[data-v-fbd763dc]{background:#fff;border-radius:8px;box-shadow:0 10px 25px rgba(0,0,0,.3);display:flex;flex-direction:column;max-height:90vh;max-width:900px;width:100%}.dialog-header[data-v-fbd763dc]{align-items:center;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;padding:20px 24px}.dialog-title[data-v-fbd763dc]{color:#111827;font-size:1.5rem;font-weight:600;margin:0}.close-button[data-v-fbd763dc]{background:none;border:none;border-radius:4px;color:#6b7280;cursor:pointer;padding:4px;transition:all .2s}.close-button[data-v-fbd763dc]:hover{background-color:#f3f4f6;color:#374151}.dialog-content[data-v-fbd763dc]{flex:1;overflow-y:auto;padding:0 24px}.settlement-details[data-v-fbd763dc]{padding:20px 0}.info-section[data-v-fbd763dc]{margin-bottom:32px}.info-section[data-v-fbd763dc]:last-child{margin-bottom:0}.section-title[data-v-fbd763dc]{border-bottom:2px solid #e5e7eb;color:#374151;font-size:1.125rem;font-weight:600;margin:0 0 16px;padding-bottom:8px}.info-grid[data-v-fbd763dc]{grid-gap:16px;display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.info-item[data-v-fbd763dc]{display:flex;flex-direction:column;gap:4px}.info-item.full-width[data-v-fbd763dc]{grid-column:1/-1}.info-item label[data-v-fbd763dc]{color:#6b7280;font-size:.875rem;font-weight:500}.info-item span[data-v-fbd763dc]{color:#111827;font-size:.875rem;word-break:break-word}.amount[data-v-fbd763dc]{color:#059669;font-weight:600}.method[data-v-fbd763dc]{color:#3b82f6;font-weight:500}.status[data-v-fbd763dc]{border-radius:12px;font-size:.75rem;font-weight:500;letter-spacing:.05em;padding:2px 8px;text-transform:uppercase;width:-moz-fit-content;width:fit-content}.status.active[data-v-fbd763dc]{background-color:#d1fae5;color:#065f46}.status.inactive[data-v-fbd763dc]{background-color:#fee2e2;color:#991b1b}.status.approved[data-v-fbd763dc]{background-color:#dbeafe;color:#1e40af}.status.settled[data-v-fbd763dc]{background-color:#d1fae5;color:#065f46}.no-data[data-v-fbd763dc]{color:#6b7280;padding:40px 20px;text-align:center}.dialog-footer[data-v-fbd763dc]{border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;padding:20px 24px}.btn[data-v-fbd763dc]{border:none;border-radius:6px;cursor:pointer;font-size:.875rem;font-weight:500;padding:8px 16px;transition:all .2s}.btn-secondary[data-v-fbd763dc]{background-color:#f3f4f6;color:#374151}.btn-secondary[data-v-fbd763dc]:hover{background-color:#e5e7eb}@media (max-width:768px){.settlement-dialog-overlay[data-v-fbd763dc]{padding:10px}.settlement-dialog[data-v-fbd763dc]{max-height:95vh}.dialog-header[data-v-fbd763dc]{padding:16px 20px}.dialog-content[data-v-fbd763dc]{padding:0 20px}.info-grid[data-v-fbd763dc]{grid-template-columns:1fr}.dialog-title[data-v-fbd763dc]{font-size:1.25rem}}",""]),r.locals={},t.exports=r},957:function(t,e,n){"use strict";n.r(e);n(35),n(34),n(84);var r={name:"SettlementViewDialog",props:{visible:{type:Boolean,default:!1},settlement:{type:Object,default:null}},methods:{closeDialog:function(){this.$emit("close")},formatDate:function(t){return t&&"0000-00-00"!==t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"},formatDateTime:function(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"},formatAmount:function(t){return t?new Intl.NumberFormat("en-US").format(t):"0"},formatMethod:function(t){return t?t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()})):"N/A"}}},o=(n(933),n(30)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return t.visible?e("div",{staticClass:"settlement-dialog-overlay",on:{click:t.closeDialog}},[e("div",{staticClass:"settlement-dialog",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"dialog-header"},[e("h2",{staticClass:"dialog-title"},[t._v("Settlement Details")]),t._v(" "),e("button",{staticClass:"close-button",on:{click:t.closeDialog}},[e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"}},[e("line",{attrs:{x1:"18",y1:"6",x2:"6",y2:"18"}}),t._v(" "),e("line",{attrs:{x1:"6",y1:"6",x2:"18",y2:"18"}})])])]),t._v(" "),e("div",{staticClass:"dialog-content"},[t.settlement?e("div",{staticClass:"settlement-details"},[e("div",{staticClass:"info-section"},[e("h3",{staticClass:"section-title"},[t._v("Settlement Information")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-item"},[e("label",[t._v("Settlement ID:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.id))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Booking Date:")]),t._v(" "),e("span",[t._v(t._s(t.formatDate(t.settlement.bookingDate)))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Amount:")]),t._v(" "),e("span",{staticClass:"amount"},[t._v(t._s(t.formatAmount(t.settlement.amount)))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Method:")]),t._v(" "),e("span",{staticClass:"method"},[t._v(t._s(t.formatMethod(t.settlement.method)))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Created At:")]),t._v(" "),e("span",[t._v(t._s(t.formatDateTime(t.settlement.createdAt)))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Last Updated:")]),t._v(" "),e("span",[t._v(t._s(t.formatDateTime(t.settlement.updateTimestamp)))])]),t._v(" "),t.settlement.notes?e("div",{staticClass:"info-item full-width"},[e("label",[t._v("Notes:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.notes))])]):t._e()])]),t._v(" "),t.settlement.proceeder?e("div",{staticClass:"info-section"},[e("h3",{staticClass:"section-title"},[t._v("Proceeder Information")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-item"},[e("label",[t._v("Customer ID:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.cus_id))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Name:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.cus_name))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Telephone:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.cus_tel))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Email:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.cus_email))])]),t._v(" "),t.settlement.proceeder.village?e("div",{staticClass:"info-item"},[e("label",[t._v("Village:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.village))])]):t._e(),t._v(" "),t.settlement.proceeder.district?e("div",{staticClass:"info-item"},[e("label",[t._v("District:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.district))])]):t._e(),t._v(" "),t.settlement.proceeder.province?e("div",{staticClass:"info-item"},[e("label",[t._v("Province:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.proceeder.province))])]):t._e(),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Status:")]),t._v(" "),e("span",{class:["status",t.settlement.proceeder.cus_active?"active":"inactive"]},[t._v("\n                "+t._s(t.settlement.proceeder.cus_active?"Active":"Inactive")+"\n              ")])])])]):t._e(),t._v(" "),t.settlement.moneyAdvance?e("div",{staticClass:"info-section"},[e("h3",{staticClass:"section-title"},[t._v("Money Advance Information")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-item"},[e("label",[t._v("Advance ID:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.moneyAdvance.id))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Amount:")]),t._v(" "),e("span",{staticClass:"amount"},[t._v(t._s(t.formatAmount(t.settlement.moneyAdvance.amount)))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Purpose:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.moneyAdvance.purpose||"N/A"))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Status:")]),t._v(" "),e("span",{class:["status",t.settlement.moneyAdvance.status]},[t._v("\n                "+t._s(t.settlement.moneyAdvance.status)+"\n              ")])]),t._v(" "),t.settlement.moneyAdvance.currency?e("div",{staticClass:"info-item"},[e("label",[t._v("Currency:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.moneyAdvance.currency.code)+" - "+t._s(t.settlement.moneyAdvance.currency.name))])]):t._e(),t._v(" "),t.settlement.moneyAdvance.maker?e("div",{staticClass:"info-item"},[e("label",[t._v("Maker:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.moneyAdvance.maker.cus_name))])]):t._e()])]):t._e(),t._v(" "),t.settlement.bankAccount?e("div",{staticClass:"info-section"},[e("h3",{staticClass:"section-title"},[t._v("Bank Account Information")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-item"},[e("label",[t._v("Account Number:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.bankAccount.accountNumber))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Account Name:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.bankAccount.accountName))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Bank Name:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.bankAccount.bankName))])]),t._v(" "),t.settlement.bankAccount.bankBranch?e("div",{staticClass:"info-item"},[e("label",[t._v("Bank Branch:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.bankAccount.bankBranch))])]):t._e(),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Account Type:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.bankAccount.accountType))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Currency:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.bankAccount.currency))])])])]):t._e(),t._v(" "),t.settlement.ministry?e("div",{staticClass:"info-section"},[e("h3",{staticClass:"section-title"},[t._v("Ministry Information")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-item"},[e("label",[t._v("Ministry Code:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.ministry.ministryCode))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Ministry Name:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.ministry.ministryName))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Ministry Name (EN):")]),t._v(" "),e("span",[t._v(t._s(t.settlement.ministry.ministryNameEn))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Type:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.ministry.ministryType))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Status:")]),t._v(" "),e("span",{class:["status",t.settlement.ministry.status.toLowerCase()]},[t._v("\n                "+t._s(t.settlement.ministry.status)+"\n              ")])]),t._v(" "),t.settlement.ministry.establishedDate?e("div",{staticClass:"info-item"},[e("label",[t._v("Established Date:")]),t._v(" "),e("span",[t._v(t._s(t.formatDate(t.settlement.ministry.establishedDate)))])]):t._e()])]):t._e(),t._v(" "),t.settlement.chartAccount?e("div",{staticClass:"info-section"},[e("h3",{staticClass:"section-title"},[t._v("Chart Account Information")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-item"},[e("label",[t._v("Account Number:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.chartAccount.accountNumber))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Account Name:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.chartAccount.accountName))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Account Type:")]),t._v(" "),e("span",[t._v(t._s(t.settlement.chartAccount.accountType))])]),t._v(" "),e("div",{staticClass:"info-item"},[e("label",[t._v("Status:")]),t._v(" "),e("span",{class:["status",t.settlement.chartAccount.isActive?"active":"inactive"]},[t._v("\n                "+t._s(t.settlement.chartAccount.isActive?"Active":"Inactive")+"\n              ")])])])]):t._e()]):e("div",{staticClass:"no-data"},[e("p",[t._v("No settlement data available")])])]),t._v(" "),e("div",{staticClass:"dialog-footer"},[e("button",{staticClass:"btn btn-secondary",on:{click:t.closeDialog}},[t._v("Close")])])])]):t._e()}),[],!1,null,"fbd763dc",null);e.default=component.exports}}]);