(window.webpackJsonp=window.webpackJsonp||[]).push([[236,67,159],{1850:function(t,o,r){"use strict";r.r(o);var c=r(318),e=r(315),d=r(18),n=r(319),l=r(793),C=r(802),_=r(767),y=r(314),k=r(167),I=r(792),L=r(790),Q=r(113),m=r(90),f=r(336),v=(r(34),r(131),r(39),r(51),r(7),r(11),r(12),r(3)),h=r(20),x=(r(44),r(5),r(8),r(10),r(54),r(53),r(84),r(9),r(31),r(91),r(871)),w=r(866),O=r(36),S=r(869),P=r(339),j=r(40);function D(object,t){var o=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),o.push.apply(o,r)}return o}function F(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(o){Object(v.a)(t,o,source[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(source,o))}))}return t}var R={components:{ProductForm:x.default,ProductFormCreate:S.default,PriceListForm:w.default},middleware:"auths",data:function(){return{priceListDialog:!1,priceListFormKey:1,guidelineDialog:!1,pricingRecordId:null,productFormCreate:!1,productFormKey:1,isstock:!1,selectedId:0,selectedProductCost:0,selectedProductName:"",isloading:!1,dialogMessage:!1,message:"",selectedStockProductId:"",loaddata:[],carddata:[],cardType:[],content:null,selectedCardType:"",pageLine:30,search:"",editProductForm:!1,selectedProductId:null,stockFormKey:1,timer:null,headers:[{text:"RECID",align:"center",value:"id"},{text:"Company",align:"center",value:"co_name"},{text:"ຊື່ສິນຄ້າ",align:"center",value:"pro_name"},{text:"ຫມວດສິນຄ້າ",align:"center",value:"pro_category_desc"},{text:"ລາຄາ",align:"center",value:"pro_price"},{text:"minStock",align:"center",value:"minStock"},{text:"Stock",align:"center",value:"pro_card_count"},{text:"Status",align:"center",value:"status"},{text:"Vendor",align:"center",value:"vendorName"},{text:"cost",align:"center",value:"pro_cost_price"},{text:"ເພີ່ມສະຕັອກ",align:"center",value:"functionStock",sortable:!1},{text:"ເບິ່ງສະຕັອກ",align:"center",value:"functionStockView",sortable:!1},{text:"ຈັດການລາຄາ",align:"center",value:"pricing",sortable:!1},{text:"ແກ້ໄຂ",align:"center",value:"functionEdit",sortable:!1}]}},watch:{message:function(t){this.dialogMessage=null!=t}},mounted:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.loadCardCategory();case 2:return o.next=4,t.fetchData();case 4:case"end":return o.stop()}}),o)})))()},computed:F({},Object(j.c)(["currentSelectedLocation","findAllLocation"])),methods:F(F({exportToExcel:function(){var t={id:"ID",co_name:"Company Name",pro_id:"Product Code",pro_name:"Product Name",barCode:"Barcode",pro_cost_price:"Cost Price",pro_price:"Product Price",pro_desc:"Product Description",pro_category_desc:"Category Description",pro_card_count:"Stock",minStock:"Minimum Stock"},o=this.loaddata.map((function(o){var r={};return Object.keys(t).forEach((function(c){o.hasOwnProperty(c)&&(r[t[c]]=o[c])})),r})),r=this.$xlsx.utils.json_to_sheet(o),c=this.$xlsx.utils.book_new();this.$xlsx.utils.book_append_sheet(c,r,"Sheet1"),this.$xlsx.writeFile(c,"data.xlsx")}},Object(j.b)(["setSelectedTerminal","setSelectedLocation","initProduct"])),{},{importStock:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function o(){var r,c,e,d;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:r=[{inputter:1e3,product_id:1001,stockCardQty:4,totalCost:32e4,productId:1,srcLocation:1},{inputter:1e3,product_id:1002,stockCardQty:1,totalCost:23e4,productId:2,srcLocation:1},{inputter:1e3,product_id:1003,stockCardQty:8,totalCost:0,productId:3,srcLocation:1},{inputter:1e3,product_id:1004,stockCardQty:1,totalCost:457e3,productId:4,srcLocation:1},{inputter:1e3,product_id:1005,stockCardQty:12,totalCost:0,productId:5,srcLocation:1},{inputter:1e3,product_id:1006,stockCardQty:2,totalCost:358e3,productId:6,srcLocation:1},{inputter:1e3,product_id:1007,stockCardQty:2,totalCost:348e3,productId:7,srcLocation:1},{inputter:1e3,product_id:1008,stockCardQty:2,totalCost:4e5,productId:8,srcLocation:1},{inputter:1e3,product_id:1009,stockCardQty:2,totalCost:38e4,productId:9,srcLocation:1},{inputter:1e3,product_id:1010,stockCardQty:2,totalCost:577e3,productId:10,srcLocation:1},{inputter:1e3,product_id:1011,stockCardQty:2,totalCost:636e3,productId:11,srcLocation:1},{inputter:1e3,product_id:1012,stockCardQty:2,totalCost:636e3,productId:12,srcLocation:1},{inputter:1e3,product_id:1013,stockCardQty:6,totalCost:307e3,productId:13,srcLocation:1},{inputter:1e3,product_id:1014,stockCardQty:6,totalCost:307e3,productId:14,srcLocation:1},{inputter:1e3,product_id:1015,stockCardQty:9,totalCost:307e3,productId:15,srcLocation:1},{inputter:1e3,product_id:1016,stockCardQty:2,totalCost:0,productId:16,srcLocation:1},{inputter:1e3,product_id:1017,stockCardQty:4,totalCost:0,productId:17,srcLocation:1},{inputter:1e3,product_id:1018,stockCardQty:12,totalCost:0,productId:18,srcLocation:1},{inputter:1e3,product_id:1019,stockCardQty:4,totalCost:0,productId:19,srcLocation:1},{inputter:1e3,product_id:1020,stockCardQty:4,totalCost:0,productId:20,srcLocation:1},{inputter:1e3,product_id:1021,stockCardQty:2,totalCost:25e4,productId:21,srcLocation:1},{inputter:1e3,product_id:1022,stockCardQty:4,totalCost:655e3,productId:22,srcLocation:1},{inputter:1e3,product_id:1023,stockCardQty:6,totalCost:0,productId:23,srcLocation:1},{inputter:1e3,product_id:1024,stockCardQty:12,totalCost:0,productId:24,srcLocation:1},{inputter:1e3,product_id:1025,stockCardQty:3,totalCost:0,productId:25,srcLocation:1},{inputter:1e3,product_id:1026,stockCardQty:9,totalCost:0,productId:26,srcLocation:1},{inputter:1e3,product_id:1027,stockCardQty:2,totalCost:0,productId:27,srcLocation:1},{inputter:1e3,product_id:1028,stockCardQty:2,totalCost:24e4,productId:28,srcLocation:1},{inputter:1e3,product_id:1029,stockCardQty:0,totalCost:0,productId:29,srcLocation:1},{inputter:1e3,product_id:1030,stockCardQty:0,totalCost:0,productId:30,srcLocation:1},{inputter:1e3,product_id:1031,stockCardQty:1,totalCost:52e4,productId:31,srcLocation:1},{inputter:1e3,product_id:1032,stockCardQty:4,totalCost:355e3,productId:32,srcLocation:1},{inputter:1e3,product_id:1033,stockCardQty:1,totalCost:587e3,productId:33,srcLocation:1},{inputter:1e3,product_id:1034,stockCardQty:18,totalCost:0,productId:34,srcLocation:1},{inputter:1e3,product_id:1035,stockCardQty:8,totalCost:0,productId:35,srcLocation:1},{inputter:1e3,product_id:1036,stockCardQty:2,totalCost:447e3,productId:36,srcLocation:1},{inputter:1e3,product_id:1037,stockCardQty:2,totalCost:0,productId:37,srcLocation:1},{inputter:1e3,product_id:1038,stockCardQty:2,totalCost:385e3,productId:38,srcLocation:1},{inputter:1e3,product_id:1039,stockCardQty:2,totalCost:0,productId:39,srcLocation:1},{inputter:1e3,product_id:1040,stockCardQty:36,totalCost:0,productId:40,srcLocation:1},{inputter:1e3,product_id:1041,stockCardQty:1,totalCost:0,productId:41,srcLocation:1},{inputter:1e3,product_id:1042,stockCardQty:6,totalCost:0,productId:42,srcLocation:1},{inputter:1e3,product_id:1043,stockCardQty:6,totalCost:254e3,productId:43,srcLocation:1},{inputter:1e3,product_id:1044,stockCardQty:24,totalCost:0,productId:44,srcLocation:1},{inputter:1e3,product_id:1045,stockCardQty:36,totalCost:283e3,productId:45,srcLocation:1},{inputter:1e3,product_id:1046,stockCardQty:4,totalCost:0,productId:46,srcLocation:1},{inputter:1e3,product_id:1047,stockCardQty:1,totalCost:925e3,productId:47,srcLocation:1},{inputter:1e3,product_id:1048,stockCardQty:1,totalCost:925e3,productId:48,srcLocation:1},{inputter:1e3,product_id:1049,stockCardQty:6,totalCost:0,productId:49,srcLocation:1},{inputter:1e3,product_id:1050,stockCardQty:2,totalCost:45e4,productId:50,srcLocation:1},{inputter:1e3,product_id:1051,stockCardQty:1,totalCost:475e3,productId:51,srcLocation:1},{inputter:1e3,product_id:1052,stockCardQty:1,totalCost:4e5,productId:52,srcLocation:1},{inputter:1e3,product_id:1053,stockCardQty:1,totalCost:4e5,productId:53,srcLocation:1},{inputter:1e3,product_id:1054,stockCardQty:0,totalCost:0,productId:54,srcLocation:1},{inputter:1e3,product_id:1055,stockCardQty:2,totalCost:705e3,productId:55,srcLocation:1},{inputter:1e3,product_id:1056,stockCardQty:10,totalCost:0,productId:56,srcLocation:1},{inputter:1e3,product_id:1057,stockCardQty:1,totalCost:741e3,productId:57,srcLocation:1},{inputter:1e3,product_id:1058,stockCardQty:1,totalCost:705e3,productId:58,srcLocation:1},{inputter:1e3,product_id:1059,stockCardQty:1,totalCost:708e3,productId:59,srcLocation:1},{inputter:1e3,product_id:1060,stockCardQty:4,totalCost:567e3,productId:60,srcLocation:1},{inputter:1e3,product_id:1061,stockCardQty:1,totalCost:0,productId:61,srcLocation:1},{inputter:1e3,product_id:1062,stockCardQty:6,totalCost:0,productId:62,srcLocation:1},{inputter:1e3,product_id:1063,stockCardQty:2,totalCost:735e3,productId:63,srcLocation:1},{inputter:1e3,product_id:1064,stockCardQty:1,totalCost:512e3,productId:64,srcLocation:1},{inputter:1e3,product_id:1065,stockCardQty:4,totalCost:0,productId:65,srcLocation:1},{inputter:1e3,product_id:1066,stockCardQty:1,totalCost:32e4,productId:66,srcLocation:1},{inputter:1e3,product_id:1067,stockCardQty:12,totalCost:0,productId:67,srcLocation:1},{inputter:1e3,product_id:1068,stockCardQty:6,totalCost:0,productId:68,srcLocation:1},{inputter:1e3,product_id:1069,stockCardQty:2,totalCost:795e3,productId:69,srcLocation:1},{inputter:1e3,product_id:1070,stockCardQty:2,totalCost:0,productId:70,srcLocation:1},{inputter:1e3,product_id:1071,stockCardQty:10,totalCost:0,productId:71,srcLocation:1},{inputter:1e3,product_id:1072,stockCardQty:1,totalCost:225e3,productId:72,srcLocation:1},{inputter:1e3,product_id:1073,stockCardQty:8,totalCost:0,productId:73,srcLocation:1},{inputter:1e3,product_id:1074,stockCardQty:12,totalCost:0,productId:74,srcLocation:1},{inputter:1e3,product_id:1075,stockCardQty:4,totalCost:3e5,productId:75,srcLocation:1},{inputter:1e3,product_id:1076,stockCardQty:2,totalCost:362e3,productId:76,srcLocation:1},{inputter:1e3,product_id:1077,stockCardQty:1,totalCost:358e3,productId:77,srcLocation:1},{inputter:1e3,product_id:1078,stockCardQty:1,totalCost:358e3,productId:78,srcLocation:1},{inputter:1e3,product_id:1079,stockCardQty:6,totalCost:414e3,productId:79,srcLocation:1},{inputter:1e3,product_id:1080,stockCardQty:8,totalCost:0,productId:80,srcLocation:1},{inputter:1e3,product_id:1081,stockCardQty:8,totalCost:0,productId:81,srcLocation:1},{inputter:1e3,product_id:1082,stockCardQty:20,totalCost:0,productId:82,srcLocation:1},{inputter:1e3,product_id:1083,stockCardQty:2,totalCost:0,productId:83,srcLocation:1},{inputter:1e3,product_id:1084,stockCardQty:2,totalCost:0,productId:84,srcLocation:1},{inputter:1e3,product_id:1085,stockCardQty:4,totalCost:0,productId:85,srcLocation:1},{inputter:1e3,product_id:1086,stockCardQty:2,totalCost:0,productId:86,srcLocation:1},{inputter:1e3,product_id:1087,stockCardQty:2,totalCost:0,productId:87,srcLocation:1},{inputter:1e3,product_id:1088,stockCardQty:2,totalCost:342e3,productId:88,srcLocation:1},{inputter:1e3,product_id:1089,stockCardQty:2,totalCost:4e5,productId:89,srcLocation:1},{inputter:1e3,product_id:1090,stockCardQty:2,totalCost:0,productId:90,srcLocation:1},{inputter:1e3,product_id:1091,stockCardQty:1,totalCost:335e3,productId:91,srcLocation:1},{inputter:1e3,product_id:1092,stockCardQty:4,totalCost:328e3,productId:92,srcLocation:1},{inputter:1e3,product_id:1093,stockCardQty:0,totalCost:285e3,productId:93,srcLocation:1},{inputter:1e3,product_id:1094,stockCardQty:2,totalCost:58e4,productId:94,srcLocation:1},{inputter:1e3,product_id:1095,stockCardQty:6,totalCost:263e3,productId:95,srcLocation:1},{inputter:1e3,product_id:1096,stockCardQty:18,totalCost:33e4,productId:96,srcLocation:1},{inputter:1e3,product_id:1097,stockCardQty:4,totalCost:32e4,productId:97,srcLocation:1},{inputter:1e3,product_id:1098,stockCardQty:0,totalCost:0,productId:98,srcLocation:1},{inputter:1e3,product_id:1099,stockCardQty:60,totalCost:0,productId:99,srcLocation:1},{inputter:1e3,product_id:1100,stockCardQty:6,totalCost:0,productId:100,srcLocation:1},{inputter:1e3,product_id:1101,stockCardQty:20,totalCost:0,productId:101,srcLocation:1},{inputter:1e3,product_id:1102,stockCardQty:6,totalCost:29e4,productId:102,srcLocation:1},{inputter:1e3,product_id:1103,stockCardQty:12,totalCost:0,productId:103,srcLocation:1},{inputter:1e3,product_id:1104,stockCardQty:4,totalCost:0,productId:104,srcLocation:1},{inputter:1e3,product_id:1105,stockCardQty:2,totalCost:307e3,productId:105,srcLocation:1},{inputter:1e3,product_id:1106,stockCardQty:2,totalCost:533e3,productId:106,srcLocation:1},{inputter:1e3,product_id:1107,stockCardQty:4,totalCost:36e4,productId:107,srcLocation:1},{inputter:1e3,product_id:1108,stockCardQty:6,totalCost:24e4,productId:108,srcLocation:1},{inputter:1e3,product_id:1109,stockCardQty:4,totalCost:24e4,productId:109,srcLocation:1},{inputter:1e3,product_id:1110,stockCardQty:4,totalCost:0,productId:110,srcLocation:1},{inputter:1e3,product_id:1111,stockCardQty:6,totalCost:0,productId:111,srcLocation:1},{inputter:1e3,product_id:1112,stockCardQty:2,totalCost:725e3,productId:112,srcLocation:1},{inputter:1e3,product_id:1113,stockCardQty:10,totalCost:37e4,productId:113,srcLocation:1},{inputter:1e3,product_id:1114,stockCardQty:36,totalCost:125e3,productId:114,srcLocation:1},{inputter:1e3,product_id:1115,stockCardQty:36,totalCost:0,productId:115,srcLocation:1},{inputter:1e3,product_id:1116,stockCardQty:4,totalCost:537e3,productId:116,srcLocation:1},{inputter:1e3,product_id:1117,stockCardQty:2,totalCost:48e4,productId:117,srcLocation:1},{inputter:1e3,product_id:1118,stockCardQty:4,totalCost:219e3,productId:118,srcLocation:1},{inputter:1e3,product_id:1119,stockCardQty:2,totalCost:239e3,productId:119,srcLocation:1},{inputter:1e3,product_id:1120,stockCardQty:1,totalCost:1231e3,productId:120,srcLocation:1},{inputter:1e3,product_id:1121,stockCardQty:1,totalCost:934e3,productId:121,srcLocation:1},{inputter:1e3,product_id:1122,stockCardQty:1,totalCost:9e5,productId:122,srcLocation:1},{inputter:1e3,product_id:1123,stockCardQty:1,totalCost:6e5,productId:123,srcLocation:1},{inputter:1e3,product_id:1124,stockCardQty:2,totalCost:0,productId:124,srcLocation:1},{inputter:1e3,product_id:1125,stockCardQty:12,totalCost:0,productId:125,srcLocation:1},{inputter:1e3,product_id:1126,stockCardQty:1,totalCost:785e3,productId:126,srcLocation:1},{inputter:1e3,product_id:1127,stockCardQty:1,totalCost:985e3,productId:127,srcLocation:1},{inputter:1e3,product_id:1128,stockCardQty:12,totalCost:0,productId:128,srcLocation:1},{inputter:1e3,product_id:1129,stockCardQty:1,totalCost:0,productId:129,srcLocation:1},{inputter:1e3,product_id:1130,stockCardQty:6,totalCost:0,productId:130,srcLocation:1},{inputter:1e3,product_id:1131,stockCardQty:2,totalCost:0,productId:131,srcLocation:1},{inputter:1e3,product_id:1132,stockCardQty:0,totalCost:0,productId:132,srcLocation:1},{inputter:1e3,product_id:1133,stockCardQty:1,totalCost:507e3,productId:133,srcLocation:1},{inputter:1e3,product_id:1134,stockCardQty:1,totalCost:616e3,productId:134,srcLocation:1},{inputter:1e3,product_id:1135,stockCardQty:4,totalCost:0,productId:135,srcLocation:1},{inputter:1e3,product_id:1136,stockCardQty:1,totalCost:4e5,productId:136,srcLocation:1},{inputter:1e3,product_id:1137,stockCardQty:2,totalCost:374e3,productId:137,srcLocation:1},{inputter:1e3,product_id:1138,stockCardQty:2,totalCost:374e3,productId:138,srcLocation:1},{inputter:1e3,product_id:1139,stockCardQty:2,totalCost:374e3,productId:139,srcLocation:1},{inputter:1e3,product_id:1140,stockCardQty:2,totalCost:384e3,productId:140,srcLocation:1},{inputter:1e3,product_id:1141,stockCardQty:2,totalCost:42e4,productId:141,srcLocation:1},{inputter:1e3,product_id:1142,stockCardQty:2,totalCost:39e4,productId:142,srcLocation:1},{inputter:1e3,product_id:1143,stockCardQty:2,totalCost:383e3,productId:143,srcLocation:1},{inputter:1e3,product_id:1144,stockCardQty:2,totalCost:44e4,productId:144,srcLocation:1},{inputter:1e3,product_id:1145,stockCardQty:2,totalCost:715e3,productId:145,srcLocation:1},{inputter:1e3,product_id:1146,stockCardQty:2,totalCost:527e3,productId:146,srcLocation:1},{inputter:1e3,product_id:1147,stockCardQty:2,totalCost:71e4,productId:147,srcLocation:1},{inputter:1e3,product_id:1148,stockCardQty:2,totalCost:0,productId:148,srcLocation:1},{inputter:1e3,product_id:1149,stockCardQty:2,totalCost:378e3,productId:149,srcLocation:1},{inputter:1e3,product_id:1150,stockCardQty:2,totalCost:0,productId:150,srcLocation:1},{inputter:1e3,product_id:1151,stockCardQty:2,totalCost:307e3,productId:151,srcLocation:1},{inputter:1e3,product_id:1152,stockCardQty:2,totalCost:0,productId:152,srcLocation:1},{inputter:1e3,product_id:1153,stockCardQty:2,totalCost:0,productId:153,srcLocation:1},{inputter:1e3,product_id:1154,stockCardQty:2,totalCost:0,productId:154,srcLocation:1},{inputter:1e3,product_id:1155,stockCardQty:12,totalCost:0,productId:155,srcLocation:1},{inputter:1e3,product_id:1156,stockCardQty:6,totalCost:0,productId:156,srcLocation:1},{inputter:1e3,product_id:1157,stockCardQty:2,totalCost:0,productId:157,srcLocation:1},{inputter:1e3,product_id:1158,stockCardQty:12,totalCost:0,productId:158,srcLocation:1},{inputter:1e3,product_id:1159,stockCardQty:2,totalCost:396e3,productId:159,srcLocation:1},{inputter:1e3,product_id:1160,stockCardQty:6,totalCost:0,productId:160,srcLocation:1},{inputter:1e3,product_id:1161,stockCardQty:20,totalCost:0,productId:161,srcLocation:1},{inputter:1e3,product_id:1162,stockCardQty:12,totalCost:0,productId:162,srcLocation:1},{inputter:1e3,product_id:1163,stockCardQty:48,totalCost:0,productId:163,srcLocation:1},{inputter:1e3,product_id:1164,stockCardQty:0,totalCost:0,productId:164,srcLocation:1},{inputter:1e3,product_id:1165,stockCardQty:6,totalCost:0,productId:165,srcLocation:1},{inputter:1e3,product_id:1166,stockCardQty:18,totalCost:0,productId:166,srcLocation:1},{inputter:1e3,product_id:1167,stockCardQty:2,totalCost:0,productId:167,srcLocation:1},{inputter:1e3,product_id:1168,stockCardQty:4,totalCost:0,productId:168,srcLocation:1},{inputter:1e3,product_id:1169,stockCardQty:2,totalCost:0,productId:169,srcLocation:1},{inputter:1e3,product_id:1170,stockCardQty:2,totalCost:0,productId:170,srcLocation:1},{inputter:1e3,product_id:1171,stockCardQty:2,totalCost:0,productId:171,srcLocation:1},{inputter:1e3,product_id:1172,stockCardQty:1,totalCost:0,productId:172,srcLocation:1},{inputter:1e3,product_id:1173,stockCardQty:4,totalCost:0,productId:173,srcLocation:1},{inputter:1e3,product_id:1174,stockCardQty:24,totalCost:0,productId:174,srcLocation:1},{inputter:1e3,product_id:1175,stockCardQty:4,totalCost:0,productId:175,srcLocation:1},{inputter:1e3,product_id:1176,stockCardQty:1,totalCost:0,productId:176,srcLocation:1},{inputter:1e3,product_id:1177,stockCardQty:2,totalCost:0,productId:177,srcLocation:1},{inputter:1e3,product_id:1178,stockCardQty:6,totalCost:0,productId:178,srcLocation:1},{inputter:1e3,product_id:1179,stockCardQty:2,totalCost:0,productId:179,srcLocation:1},{inputter:1e3,product_id:1180,stockCardQty:2,totalCost:0,productId:180,srcLocation:1},{inputter:1e3,product_id:1181,stockCardQty:4,totalCost:0,productId:181,srcLocation:1},{inputter:1e3,product_id:1182,stockCardQty:4,totalCost:0,productId:182,srcLocation:1},{inputter:1e3,product_id:1183,stockCardQty:0,totalCost:0,productId:183,srcLocation:1},{inputter:1e3,product_id:1184,stockCardQty:4,totalCost:0,productId:184,srcLocation:1},{inputter:1e3,product_id:1185,stockCardQty:2,totalCost:0,productId:185,srcLocation:1},{inputter:1e3,product_id:1186,stockCardQty:4,totalCost:0,productId:186,srcLocation:1},{inputter:1e3,product_id:1187,stockCardQty:4,totalCost:0,productId:187,srcLocation:1},{inputter:1e3,product_id:1188,stockCardQty:1,totalCost:0,productId:188,srcLocation:1},{inputter:1e3,product_id:1189,stockCardQty:2,totalCost:525e3,productId:189,srcLocation:1},{inputter:1e3,product_id:1190,stockCardQty:2,totalCost:959e3,productId:190,srcLocation:1},{inputter:1e3,product_id:1191,stockCardQty:2,totalCost:0,productId:191,srcLocation:1},{inputter:1e3,product_id:1192,stockCardQty:2,totalCost:238500,productId:192,srcLocation:1},{inputter:1e3,product_id:1193,stockCardQty:4,totalCost:25e4,productId:193,srcLocation:1},{inputter:1e3,product_id:1194,stockCardQty:6,totalCost:0,productId:194,srcLocation:1},{inputter:1e3,product_id:1195,stockCardQty:2,totalCost:0,productId:195,srcLocation:1},{inputter:1e3,product_id:1196,stockCardQty:1,totalCost:636e3,productId:196,srcLocation:1},{inputter:1e3,product_id:1197,stockCardQty:1,totalCost:636e3,productId:197,srcLocation:1},{inputter:1e3,product_id:1198,stockCardQty:1,totalCost:7e5,productId:198,srcLocation:1},{inputter:1e3,product_id:1199,stockCardQty:1,totalCost:8e5,productId:199,srcLocation:1},{inputter:1e3,product_id:1200,stockCardQty:1,totalCost:775e3,productId:200,srcLocation:1},{inputter:1e3,product_id:1201,stockCardQty:1,totalCost:85e4,productId:201,srcLocation:1},{inputter:1e3,product_id:1202,stockCardQty:1,totalCost:795e3,productId:202,srcLocation:1},{inputter:1e3,product_id:1203,stockCardQty:1,totalCost:13e5,productId:203,srcLocation:1},{inputter:1e3,product_id:1204,stockCardQty:6,totalCost:17e5,productId:204,srcLocation:1},{inputter:1e3,product_id:1205,stockCardQty:1,totalCost:115e4,productId:205,srcLocation:1},{inputter:1e3,product_id:1206,stockCardQty:2,totalCost:11e5,productId:206,srcLocation:1},{inputter:1e3,product_id:1207,stockCardQty:2,totalCost:1092500,productId:207,srcLocation:1},{inputter:1e3,product_id:1208,stockCardQty:2,totalCost:2345e3,productId:208,srcLocation:1},{inputter:1e3,product_id:1209,stockCardQty:1,totalCost:845e3,productId:209,srcLocation:1},{inputter:1e3,product_id:1210,stockCardQty:1,totalCost:993e3,productId:210,srcLocation:1},{inputter:1e3,product_id:1211,stockCardQty:1,totalCost:1033e3,productId:211,srcLocation:1},{inputter:1e3,product_id:1212,stockCardQty:1,totalCost:954e3,productId:212,srcLocation:1},{inputter:1e3,product_id:1213,stockCardQty:1,totalCost:0,productId:213,srcLocation:1},{inputter:1e3,product_id:1214,stockCardQty:1,totalCost:965e3,productId:214,srcLocation:1},{inputter:1e3,product_id:1215,stockCardQty:1,totalCost:834e3,productId:215,srcLocation:1},{inputter:1e3,product_id:1216,stockCardQty:1,totalCost:1172300,productId:216,srcLocation:1},{inputter:1e3,product_id:1217,stockCardQty:1,totalCost:577e3,productId:217,srcLocation:1},{inputter:1e3,product_id:1218,stockCardQty:1,totalCost:0,productId:218,srcLocation:1},{inputter:1e3,product_id:1219,stockCardQty:1,totalCost:616e3,productId:219,srcLocation:1},{inputter:1e3,product_id:1220,stockCardQty:1,totalCost:487500,productId:220,srcLocation:1},{inputter:1e3,product_id:1221,stockCardQty:1,totalCost:948e3,productId:221,srcLocation:1},{inputter:1e3,product_id:1222,stockCardQty:0,totalCost:620500,productId:222,srcLocation:1},{inputter:1e3,product_id:1223,stockCardQty:4,totalCost:6e5,productId:223,srcLocation:1},{inputter:1e3,product_id:1224,stockCardQty:10,totalCost:616e3,productId:224,srcLocation:1},{inputter:1e3,product_id:1225,stockCardQty:36,totalCost:53e4,productId:225,srcLocation:1},{inputter:1e3,product_id:1226,stockCardQty:1,totalCost:42e4,productId:226,srcLocation:1},{inputter:1e3,product_id:1227,stockCardQty:1,totalCost:557e3,productId:227,srcLocation:1},{inputter:1e3,product_id:1228,stockCardQty:1,totalCost:497e3,productId:228,srcLocation:1},{inputter:1e3,product_id:1229,stockCardQty:1,totalCost:378100,productId:229,srcLocation:1},{inputter:1e3,product_id:1230,stockCardQty:8,totalCost:27e4,productId:230,srcLocation:1},{inputter:1e3,product_id:1231,stockCardQty:8,totalCost:338200,productId:231,srcLocation:1},{inputter:1e3,product_id:1232,stockCardQty:4,totalCost:497e3,productId:232,srcLocation:1},{inputter:1e3,product_id:1233,stockCardQty:2,totalCost:29e4,productId:233,srcLocation:1},{inputter:1e3,product_id:1234,stockCardQty:2,totalCost:457e3,productId:234,srcLocation:1},{inputter:1e3,product_id:1235,stockCardQty:2,totalCost:457e3,productId:235,srcLocation:1},{inputter:1e3,product_id:1236,stockCardQty:2,totalCost:44e4,productId:236,srcLocation:1},{inputter:1e3,product_id:1237,stockCardQty:2,totalCost:33e4,productId:237,srcLocation:1},{inputter:1e3,product_id:1238,stockCardQty:2,totalCost:513e3,productId:238,srcLocation:1},{inputter:1e3,product_id:1239,stockCardQty:1,totalCost:446e3,productId:239,srcLocation:1},{inputter:1e3,product_id:1240,stockCardQty:1,totalCost:417e3,productId:240,srcLocation:1},{inputter:1e3,product_id:1241,stockCardQty:2,totalCost:397e3,productId:241,srcLocation:1},{inputter:1e3,product_id:1242,stockCardQty:12,totalCost:49e4,productId:242,srcLocation:1},{inputter:1e3,product_id:1243,stockCardQty:1,totalCost:642e3,productId:243,srcLocation:1},{inputter:1e3,product_id:1244,stockCardQty:1,totalCost:0,productId:244,srcLocation:1},{inputter:1e3,product_id:1245,stockCardQty:1,totalCost:45e4,productId:245,srcLocation:1},{inputter:1e3,product_id:1246,stockCardQty:1,totalCost:65e4,productId:246,srcLocation:1},{inputter:1e3,product_id:1247,stockCardQty:2,totalCost:315e3,productId:247,srcLocation:1},{inputter:1e3,product_id:1248,stockCardQty:6,totalCost:2e5,productId:248,srcLocation:1},{inputter:1e3,product_id:1249,stockCardQty:12,totalCost:185e3,productId:249,srcLocation:1},{inputter:1e3,product_id:1250,stockCardQty:12,totalCost:185e3,productId:250,srcLocation:1},{inputter:1e3,product_id:1251,stockCardQty:8,totalCost:54e4,productId:251,srcLocation:1},{inputter:1e3,product_id:1252,stockCardQty:4,totalCost:54e4,productId:252,srcLocation:1},{inputter:1e3,product_id:1253,stockCardQty:8,totalCost:5e5,productId:253,srcLocation:1},{inputter:1e3,product_id:1254,stockCardQty:2,totalCost:5e5,productId:254,srcLocation:1},{inputter:1e3,product_id:1255,stockCardQty:6,totalCost:42e4,productId:255,srcLocation:1},{inputter:1e3,product_id:1256,stockCardQty:1,totalCost:54e4,productId:256,srcLocation:1},{inputter:1e3,product_id:1257,stockCardQty:1,totalCost:61e4,productId:257,srcLocation:1},{inputter:1e3,product_id:1258,stockCardQty:8,totalCost:47e4,productId:258,srcLocation:1},{inputter:1e3,product_id:1259,stockCardQty:8,totalCost:41e4,productId:259,srcLocation:1},{inputter:1e3,product_id:1260,stockCardQty:4,totalCost:325e3,productId:260,srcLocation:1},{inputter:1e3,product_id:1261,stockCardQty:2,totalCost:36e4,productId:261,srcLocation:1},{inputter:1e3,product_id:1262,stockCardQty:2,totalCost:34e4,productId:262,srcLocation:1},{inputter:1e3,product_id:1263,stockCardQty:2,totalCost:22e4,productId:263,srcLocation:1},{inputter:1e3,product_id:1264,stockCardQty:6,totalCost:21e4,productId:264,srcLocation:1},{inputter:1e3,product_id:1265,stockCardQty:6,totalCost:13e4,productId:265,srcLocation:1},{inputter:1e3,product_id:1266,stockCardQty:6,totalCost:13e4,productId:266,srcLocation:1},{inputter:1e3,product_id:1267,stockCardQty:6,totalCost:13e4,productId:267,srcLocation:1},{inputter:1e3,product_id:1268,stockCardQty:6,totalCost:13e4,productId:268,srcLocation:1},{inputter:1e3,product_id:1269,stockCardQty:6,totalCost:14e4,productId:269,srcLocation:1},{inputter:1e3,product_id:1270,stockCardQty:6,totalCost:14e4,productId:270,srcLocation:1},{inputter:1e3,product_id:1271,stockCardQty:6,totalCost:14e4,productId:271,srcLocation:1},{inputter:1e3,product_id:1272,stockCardQty:0,totalCost:0,productId:272,srcLocation:1},{inputter:1e3,product_id:1273,stockCardQty:0,totalCost:0,productId:273,srcLocation:1},{inputter:1e3,product_id:1274,stockCardQty:0,totalCost:0,productId:274,srcLocation:1},{inputter:1e3,product_id:1275,stockCardQty:0,totalCost:0,productId:275,srcLocation:1},{inputter:1e3,product_id:1276,stockCardQty:0,totalCost:0,productId:276,srcLocation:1},{inputter:1e3,product_id:1277,stockCardQty:0,totalCost:0,productId:277,srcLocation:1},{inputter:1e3,product_id:1278,stockCardQty:0,totalCost:0,productId:278,srcLocation:1},{inputter:1e3,product_id:1279,stockCardQty:0,totalCost:0,productId:279,srcLocation:1},{inputter:1e3,product_id:1280,stockCardQty:0,totalCost:0,productId:280,srcLocation:1},{inputter:1e3,product_id:1281,stockCardQty:0,totalCost:0,productId:281,srcLocation:1}],t.isloading=!0,c=regeneratorRuntime.mark((function o(){var r,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=d[e],c=!1,o.next=4,t.$axios.post("/api/card/bulkCreate",r).then((function(o){console.log(o.data),Object(P.c)(t.$swal,"Succeed","ດຳເນີນການສຳເລັດ")})).catch((function(o){console.log(o),Object(P.b)(t.$swal,"Error",o.response.data),c=!0,t.isloading=!1}));case 4:if(!c){o.next=6;break}return o.abrupt("return","break");case 6:t.isloading=!1;case 7:case"end":return o.stop()}}),o)})),e=0,d=r;case 4:if(!(e<d.length)){o.next=12;break}return o.delegateYield(c(),"t0",6);case 6:if("break"!==o.t0){o.next=9;break}return o.abrupt("break",12);case 9:e++,o.next=4;break;case 12:case"end":return o.stop()}}),o)})))()},triggerPriceListForm:function(t){this.pricingRecordId=t.id,this.priceListFormKey+=1,this.priceListDialog=!0},formatNumber:function(t){return Object(O.e)(t)},verifyStockStatus:function(t,o){return 0==o?"Out of stock":t<o?"In stock":"Low stock"},triggerCardForm:function(t){this.stockFormKey+=1,this.selectedProductId=t.pro_id,this.selectedId=t.id,this.selectedProductCost=t.pro_cost_price,this.selectedProductName=t.pro_name,this.isstock=!0},fetchData:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("PRODUCT LIST ===>"),t.isloading=!0,o.next=4,t.$axios.get("product_f/".concat(t.currentSelectedLocation.id)).then((function(o){t.initProduct(o.data),t.loaddata=o.data.map((function(t){return console.log(t.co_name),{id:t.id,co_name:t.co_name,pro_id:t.pro_id,pro_name:t.pro_name,pro_price:t.pro_price,pro_desc:t.pro_desc,pro_status:t.pro_status,pro_category:t.pro_category,pro_category_desc:t.pro_category+" - "+t.categ_name,pro_card_count:t.card_count,pro_cost_price:t.cost_price,pro_outlet:t.outlet,vendorName:t.vendorName,pro_outlet_name:t.outlet_name,barCode:t.barCode,minStock:t.minStock,functionEdit:t.pro_id,functionStock:t.pro_id,pricing:t.pro_id,functionStockView:t.pro_id,status:t.pro_id}}))})).catch((function(o){t.message=o,console.log("Error: "+o)}));case 4:t.isloading=!1;case 5:case"end":return o.stop()}}),o)})))()},editItem:function(t){this.productFormKey+=1,this.selectedProductId=t.pro_id,this.editProductForm=!0},editStock:function(t){console.log("ID "+t.pro_id),console.log("NAME "+t.pro_name),console.log("OBJ "+Object.keys(t)),this.$router.push("/admin/stock/".concat(t.pro_id))},attachFile:function(t){var o=this;this.carddata.length=0;var r=t,c=new FileReader;r&&(console.log("FILE LEN: "+r),c.onload=function(t){o.content=t.target.result,console.log("Data content => : "+o.content);var r=o.content.replace(/\r\n/g,"\n").split("\n").filter((function(t){return""!==t&&t.length>=10})),i=0;r.forEach((function(element){i++,console.log("Data loop ".concat(i," ").concat(element)),o.carddata.push(element.replace("\t","|").replace("\t","|").split("'").pop()),console.log(element.split("'").pop())})),console.log("CARD DATA: "+o.carddata)},c.onerror=function(t){return console.log(t)},c.readAsText(r))},loadCardCategory:function(){var t=this;this.isloading=!0,this.$axios.get("stockcate_f").then((function(o){t.cardType=o.data.map((function(t){return{card_type_code:t.card_type_code,card_type_name:t.card_type_name}})),t.selectedCardType=t.cardType[0].card_type_code,console.log("CARD LEN: "+t.cardType.length),console.log("CARD LEN: "+t.cardType[0].card_type_code),t.isloading=!1})).catch((function(o){console.log("Error: "+o),t.isloading=!1}))},rebuildStock:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t.isloading){o.next=5;break}return t.isloading=!0,o.next=4,t.$axios.put("/api/product/stockcount").then((function(o){Object(P.c)(t.$swal,"Succeed","ດຳເນີນການສຳເລັດ"),t.fetchData()})).catch((function(o){Object(P.b)(t.$swal,"Error",o.response.data)}));case 4:t.isloading=!1;case 5:case"end":return o.stop()}}),o)})))()}})},E=r(30),component=Object(E.a)(R,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"text-left"},[o("div",[o(n.a,{staticClass:"pa-5",attrs:{color:"primary",label:"","text-color":"white"}},[o(k.a,{attrs:{start:""}},[t._v("mdi-label")]),t._v(" "),o("h3",[t._v("ລາຍການສິນຄ້າ")])],1),t._v(" "),o(n.a,{staticClass:"pa-5",attrs:{color:"primary",label:"","text-color":"white"},on:{click:function(o){t.guidelineDialog=!0}}},[o(k.a,{attrs:{start:""}},[t._v("mdi mdi-lifebuoy")]),t._v(" "),o("h3",[t._v("ຄູ່ມືການນຳໃຊ້")])],1)],1),t._v(" "),o(_.a,{attrs:{"hide-overlay":"","max-width":"700"},model:{value:t.guidelineDialog,callback:function(o){t.guidelineDialog=o},expression:"guidelineDialog"}},[o("youtube-player",{attrs:{"youtube-link":"5yMsQ6gRSkI"},on:{"close-dialog":function(o){t.guidelineDialog=!1}}})],1),t._v(" "),o(_.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isloading,callback:function(o){t.isloading=o},expression:"isloading"}},[o("loading-indicator")],1),t._v(" "),o(_.a,{attrs:{"max-width":"300px"},model:{value:t.dialogMessage,callback:function(o){t.dialogMessage=o},expression:"dialogMessage"}},[o("dialog-classic-message",{attrs:{message:t.message},on:{closedialog:function(o){t.message=null}}})],1),t._v(" "),o(_.a,{attrs:{"max-width":"600px"},model:{value:t.isstock,callback:function(o){t.isstock=o},expression:"isstock"}},[o("card-form",{key:t.stockFormKey,attrs:{"product-id":t.selectedProductId,id:t.selectedId,cost:t.selectedProductCost,"product-name":t.selectedProductName},on:{"close-dialog":function(o){t.isstock=!1},reload:t.rebuildStock}})],1),t._v(" "),o(_.a,{model:{value:t.editProductForm,callback:function(o){t.editProductForm=o},expression:"editProductForm"}},[o("product-form",{key:t.productFormKey,attrs:{"header-id":t.selectedProductId,isEdit:t.editProductForm},on:{"close-dialog":function(o){t.editProductForm=!1},refresh:t.fetchData}})],1),t._v(" "),o(_.a,{model:{value:t.productFormCreate,callback:function(o){t.productFormCreate=o},expression:"productFormCreate"}},[o("product-form-create",{on:{"close-dialog":function(o){t.productFormCreate=!1},refresh:t.fetchData}})],1),t._v(" "),o(_.a,{attrs:{"max-width":"1200px"},model:{value:t.priceListDialog,callback:function(o){t.priceListDialog=o},expression:"priceListDialog"}},[o("price-list-form",{key:t.priceListFormKey,attrs:{"record-id":t.pricingRecordId},on:{"close-dialog":function(o){t.priceListDialog=!1},refresh:t.fetchData}})],1),t._v(" "),o(e.a,[o(d.d,[o(I.a,[o(l.a,{attrs:{cols:"6",sm:"6",md:"6"}},[o(Q.a,{attrs:{"append-icon":"mdi-magnify",label:"ຊອກຫາ","single-line":"","hide-detailsx":""},model:{value:t.search,callback:function(o){t.search=o},expression:"search"}})],1),t._v(" "),o(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[o(c.a,{staticClass:"primary",attrs:{size:"large",variant:"outlined",rounded:""},on:{click:t.rebuildStock}},[o("span",{staticClass:"mdi mdi-update"}),t._v("\n            Rebuild stock\n          ")])],1)],1)],1),t._v(" "),t.loaddata?o(C.a,{attrs:{headers:t.headers,search:t.search,items:t.loaddata,"items-per-page":t.pageLine},scopedSlots:t._u([{key:"top",fn:function(){return[o(m.a,{attrs:{flat:""}},[o(f.a,[t._v("ສິນຄ້າທັງຫມົດ: "+t._s(t.loaddata.length))]),t._v(" "),o(y.a,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),o(c.a,{staticClass:"primary",attrs:{size:"large",variant:"outlined",rounded:""},on:{click:t.exportToExcel}},[o("span",{staticClass:"mdi mdi-microsoft-excel"}),t._v("Generate excel file\n          ")]),t._v(" "),o(L.a),t._v(" "),o(c.a,{staticClass:"primary",attrs:{size:"large",variant:"outlined",rounded:""},on:{click:function(o){t.productFormCreate=!0}}},[o("span",{staticClass:"mdi mdi-note-plus-outline"}),t._v("\n            ສ້າງສິນຄ້າໃຫມ່\n          ")])],1)]},proxy:!0},{key:"item.functionEdit",fn:function(r){var e=r.item;return[o(c.a,{attrs:{color:"primary",text:""},on:{click:function(o){t.editItem(e),t.wallet=!0}}},[o("i",{staticClass:"fa-regular fa-pen-to-square"})])]}},{key:"item.functionStock",fn:function(r){var e=r.item;return[o(c.a,{attrs:{color:"primary",text:""},on:{click:function(o){t.triggerCardForm(e),t.wallet=!0}}},[o("i",{staticClass:"fa fa-cart-plus"})])]}},{key:"item.pricing",fn:function(r){var e=r.item;return[o(c.a,{attrs:{color:"primary",text:""},on:{click:function(o){t.triggerPriceListForm(e),t.wallet=!0}}},[o(k.a,[t._v("mdi mdi-currency-usd")])],1)]}},{key:"item.functionStockView",fn:function(r){var e=r.item;return[o(c.a,{attrs:{color:"primary",text:""},on:{click:function(o){t.editStock(e),t.wallet=!0}}},[o("i",{staticClass:"fa fa-eye"})])]}},{key:"item.pro_cost_price",fn:function(o){var r=o.item;return[t._v("\n        "+t._s(t.formatNumber(r.pro_cost_price))+"\n      ")]}},{key:"item.pro_price",fn:function(o){var r=o.item;return[t._v("\n        "+t._s(t.formatNumber(r.pro_price))+"\n      ")]}},{key:"item.pro_card_count",fn:function(o){var r=o.item;return[t._v("\n        "+t._s(r.pro_card_count)+"\n      ")]}},{key:"item.minStock",fn:function(o){var r=o.item;return[t._v("\n        "+t._s(t.formatNumber(r.minStock))+"\n      ")]}},{key:"item.status",fn:function(r){var c=r.item;return[o(n.a,{staticClass:"ma-2",attrs:{color:t.verifyStockStatus(c.minStock,c.pro_card_count).includes("In")?"green":t.verifyStockStatus(c.minStock,c.pro_card_count).includes("Out")?"red":"orange","text-color":"white"}},[t._v("\n          "+t._s(t.verifyStockStatus(c.minStock,c.pro_card_count))+"\n        ")])]}}],null,!0)}):t._e()],1)],1)}),[],!1,null,null,null);o.default=component.exports;installComponents(component,{YoutubePlayer:r(815).default,LoadingIndicator:r(249).default,DialogClassicMessage:r(822).default,CardForm:r(911).default,ProductForm:r(871).default,ProductFormCreate:r(869).default,PriceListForm:r(866).default})},815:function(t,o,r){"use strict";r.r(o);var c=r(318),e=r(315),d=r(18),n=r(790),l=(r(36),{props:{youtubeLink:{type:String,require:!0}}}),C=r(30),component=Object(C.a)(l,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"text-center"},[o(e.a,[o(d.c,{staticClass:"text-center"},[o("youtube",{attrs:{"video-id":t.youtubeLink}})],1),t._v(" "),o(d.a,[o(n.a),t._v(" "),o(c.a,{staticClass:"warning",attrs:{size:"large",variant:"outlined",rounded:""},on:{click:function(o){return t.$emit("close-dialog")}}},[t._v("\n                Close\n            ")])],1)],1)],1)}),[],!1,null,null,null);o.default=component.exports},911:function(t,o,r){"use strict";r.r(o);var c=r(795),e=r(318),d=r(315),n=r(18),l=r(319),C=r(788),_=r(767),y=r(794),k=r(167),I=r(790),L=r(113),Q=(r(10),r(7),r(9),r(11),r(8),r(12),r(20)),m=r(3),f=(r(91),r(22),r(34),r(66),r(5),r(44),r(36)),v=r(40);function h(object,t){var o=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),o.push.apply(o,r)}return o}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(o){Object(m.a)(t,o,source[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(source,o))}))}return t}var w={props:{id:{type:Number,default:0},productId:{type:Number,default:""},productName:{type:String,default:""},isEdit:{type:Boolean,default:!1},cost:{type:Number,default:0}},data:function(){return{stockQty:1,stockCost:this.cost,isSubmitting:!1,locationList:[],srcLocationId:1,currencyId:1,exchangeRate:1}},computed:x(x({},Object(v.c)(["findAllCurrency","findSelectedTerminal","findAllTerminal"])),{},{numberRule:function(){return[function(t){return!!t||"ກະລຸນາ ໃສ່ຈຳນວນ "},function(t){return/^[0-9]+$/.test(t)||"ໃສ່ໄດ້ສະເພາະ ຕົວເລກ"}]},user:function(){return this.$auth.user||""},currencyExchangeRate:function(){var t=this;return this.findAllCurrency.find((function(o){return o.id==t.currencyId})).rate}}),created:function(){var t=this;console.log("Location in terminal ".concat(this.findSelectedTerminal));var o=this.findAllTerminal.find((function(o){return o.id==t.findSelectedTerminal})).locationId;this.srcLocationId=o,this.loadLocation(),this.loadProduct()},methods:{loadLocation:function(t){var o=this;return Object(Q.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.isloading=!0,t.next=3,o.$axios.get("api/location/find").then((function(t){o.locationList=t.data.map((function(t){return t}))})).catch((function(t){Object(f.j)(o.$swal,"Error","Operation fail "+t.Error)}));case 3:o.isloading=!1;case 4:case"end":return t.stop()}}),t)})))()},loadProduct:function(){var t=this;return Object(Q.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t.isSubmitting=!0,o.next=3,t.$axios.get("api/product/find/".concat(t.id)).then((function(o){o.data.costCurrency?(console.log("Cost info available"),t.currencyId=o.data.costCurrency.id):console.log("Cost info not available")})).catch((function(o){Object(f.j)(t.$swal,"Error","Operation fail "+o.Error)}));case 3:t.isSubmitting=!1;case 4:case"end":return o.stop()}}),o)})))()},stockSubmit:function(){var t=this;return Object(Q.a)(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.$refs.myform.validate()||t.isSubmitting){o.next=7;break}return t.isSubmitting=!0,r={inputter:t.user.id,product_id:t.productId,stockCardQty:t.stockQty,totalCost:t.stockCost,productId:t.id,srcLocationId:t.srcLocationId,currencyId:t.currencyId,exchangeRate:t.currencyExchangeRate},console.log("Pre fly ",r),o.next=6,t.$axios.post("/api/card/bulkCreate",r).then((function(o){console.log(o.data),Object(f.k)(t.$swal,"Succeed","ດຳເນີນການສຳເລັດ"),t.$emit("reload"),t.$emit("close-dialog")})).catch((function(o){console.log(o),Object(f.j)(t.$swal,"Error",o.response.data)}));case 6:t.isSubmitting=!1;case 7:case"end":return o.stop()}}),o)})))()}}},O=r(30),component=Object(O.a)(w,(function(){var t=this,o=t._self._c;return o("div",[o(_.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.isSubmitting,callback:function(o){t.isSubmitting=o},expression:"isSubmitting"}},[o("loading-indicator")],1),t._v(" "),o(d.a,[o(n.d,[o(l.a,{staticClass:"ma-2",attrs:{color:"primary",label:"","text-color":"white"}},[o(k.a,{attrs:{start:""}},[t._v("mdi-label")]),t._v("\n                "+t._s(t.productName)+"\n            ")],1)],1),t._v(" "),o(n.c,[o(C.a,[o(y.a,{ref:"myform",on:{submit:function(o){return o.preventDefault(),t.submitForm.apply(null,arguments)}}},[o(c.a,{attrs:{"item-text":"name","item-value":"id",items:t.locationList,label:"Source location*"},model:{value:t.srcLocationId,callback:function(o){t.srcLocationId=o},expression:"srcLocationId"}}),t._v(" "),o(L.a,{attrs:{label:"ຈຳນວນ",rules:t.numberRule,"hide-details":"auto"},model:{value:t.stockQty,callback:function(o){t.stockQty=o},expression:"stockQty"}}),t._v(" "),o(c.a,{attrs:{"item-text":"code","item-value":"id",items:t.findAllCurrency,label:"Currency*"},model:{value:t.currencyId,callback:function(o){t.currencyId=o},expression:"currencyId"}}),t._v(" "),o(L.a,{attrs:{label:"ຕົ້ນທຶນທັງຫໝົດ",rules:t.numberRule,"hide-details":"auto"},model:{value:t.stockCost,callback:function(o){t.stockCost=o},expression:"stockCost"}})],1)],1)],1),t._v(" "),o(n.a,[o(I.a),t._v(" "),o(e.a,{staticClass:"warning",attrs:{rounded:""},on:{click:function(o){return t.$emit("close-dialog")}}},[t._v("\n                ປິດ\n            ")]),t._v(" "),o(e.a,{staticClass:"primary",attrs:{rounded:""},on:{click:t.stockSubmit}},[t._v("\n                ບັນທຶກ\n            ")])],1)],1)],1)}),[],!1,null,null,null);o.default=component.exports;installComponents(component,{LoadingIndicator:r(249).default})}}]);