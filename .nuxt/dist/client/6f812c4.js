(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1059:function(t,e,r){var content=r(1399);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("1428a2f5",content,!0,{sourceMap:!1})},1398:function(t,e,r){"use strict";r(1059)},1399:function(t,e,r){var o=r(14)((function(i){return i[1]}));o.push([t.i,'.applicant-form[data-v-227ba5fc]{background:#fff;display:flex;flex-direction:column;height:100vh}.form-header[data-v-227ba5fc]{background:#01532b;color:#fff;padding:16px 20px}.form-header[data-v-227ba5fc],.stepper[data-v-227ba5fc]{border-bottom:1px solid #e5e7eb;flex-shrink:0}.stepper[data-v-227ba5fc]{align-items:center;background:#f9fafb;display:flex;justify-content:center;padding:16px}.form-content[data-v-227ba5fc]{background:#fafafa;flex:1;overflow-y:auto;padding:20px}.form-footer[data-v-227ba5fc]{background:#fff;border-top:1px solid #e5e7eb;flex-shrink:0;padding:40px 20px}.form-title[data-v-227ba5fc]{font-size:18px;font-weight:600;gap:10px;margin:0}.form-title[data-v-227ba5fc],.step[data-v-227ba5fc]{align-items:center;display:flex}.step[data-v-227ba5fc]{border-radius:8px;cursor:pointer;gap:8px;padding:8px 16px;transition:all .2s}.step.active[data-v-227ba5fc]{background:rgba(1,83,43,.1);color:#01532b}.step.completed[data-v-227ba5fc]{color:#059669}.step[data-v-227ba5fc]:not(.available){cursor:not-allowed;opacity:.5}.step-number[data-v-227ba5fc]{align-items:center;background:#e5e7eb;border-radius:50%;display:flex;font-size:13px;font-weight:600;height:28px;justify-content:center;width:28px}.step.active .step-number[data-v-227ba5fc]{background:#01532b;color:#fff}.step.completed .step-number[data-v-227ba5fc]{background:#059669;color:#fff}.step-label[data-v-227ba5fc]{font-size:15px;font-weight:500}.step-line[data-v-227ba5fc]{background:#e5e7eb;height:2px;margin:0 16px;width:60px}.step-line.completed[data-v-227ba5fc]{background:#059669}.split-layout[data-v-227ba5fc]{grid-gap:20px;display:grid;gap:20px;grid-template-columns:1fr 380px}.left-section[data-v-227ba5fc],.right-section[data-v-227ba5fc]{background:#fff;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,.1);padding:20px}.photo-section[data-v-227ba5fc]{display:flex;flex-direction:column;gap:10px}.photo-section label[data-v-227ba5fc]{align-items:center;color:#374151;display:flex;font-size:14px;font-weight:600;gap:6px}.photo-upload[data-v-227ba5fc]{align-items:center;background:#f9fafb;border:2px dashed #d1d5db;border-radius:8px;cursor:pointer;display:flex;height:240px;justify-content:center;overflow:hidden;transition:all .3s;width:100%}.photo-upload[data-v-227ba5fc]:hover{background:#f0fdf4;border-color:#01532b}.photo-upload img[data-v-227ba5fc]{cursor:pointer;height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.photo-placeholder[data-v-227ba5fc]{align-items:center;color:#6b7280;display:flex;flex-direction:column;font-size:14px;gap:10px}.photo-placeholder i[data-v-227ba5fc]{color:#9ca3af;font-size:40px}.btn-remove[data-v-227ba5fc]{align-items:center;background:#ef4444;border:none;border-radius:6px;color:#fff;cursor:pointer;display:flex;font-size:13px;gap:6px;justify-content:center;padding:8px 16px;transition:background .2s}.btn-remove[data-v-227ba5fc]:hover{background:#dc2626}.passport-photo-section[data-v-227ba5fc]{align-items:center;display:flex;gap:12px}.photo-upload-small[data-v-227ba5fc]{align-items:center;background:#f9fafb;border:2px dashed #d1d5db;border-radius:8px;cursor:pointer;display:flex;height:150px;justify-content:center;overflow:hidden;transition:all .3s;width:150px}.photo-upload-small[data-v-227ba5fc]:hover{background:#f0fdf4;border-color:#01532b}.photo-upload-small img[data-v-227ba5fc]{cursor:pointer;height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.photo-placeholder-small[data-v-227ba5fc]{align-items:center;color:#6b7280;display:flex;flex-direction:column;font-size:13px;gap:8px}.photo-placeholder-small i[data-v-227ba5fc]{color:#9ca3af;font-size:32px}.btn-remove-small[data-v-227ba5fc]{align-items:center;background:#ef4444;border:none;border-radius:6px;color:#fff;cursor:pointer;display:flex;font-size:12px;gap:4px;padding:8px 12px;transition:background .2s}.btn-remove-small[data-v-227ba5fc]:hover{background:#dc2626}.batch-summary-card[data-v-227ba5fc]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;box-shadow:0 4px 6px rgba(0,0,0,.1);grid-column:1/-1;margin-bottom:20px;overflow:hidden}.summary-header[data-v-227ba5fc]{align-items:center;background:hsla(0,0%,100%,.2);color:#fff;display:flex;font-size:15px;font-weight:600;gap:8px;padding:12px 16px}.summary-header i[data-v-227ba5fc]{font-size:18px}.summary-content[data-v-227ba5fc]{grid-gap:12px;background:#fff;display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));padding:16px}.summary-row[data-v-227ba5fc]{display:flex;flex-direction:column;gap:4px}.summary-row strong[data-v-227ba5fc]{color:#6b7280;font-size:12px;font-weight:600}.summary-row span[data-v-227ba5fc]{color:#1f2937;font-size:14px;font-weight:500}.priority-low[data-v-227ba5fc]{color:#10b981;font-weight:600}.priority-medium[data-v-227ba5fc]{color:#f59e0b;font-weight:600}.priority-high[data-v-227ba5fc]{color:#ef4444;font-weight:600}.priority-urgent[data-v-227ba5fc]{animation:pulse-227ba5fc 2s infinite;color:#dc2626;font-weight:700}.status-draft[data-v-227ba5fc]{color:#6b7280;font-weight:600}.status-active[data-v-227ba5fc]{color:#10b981;font-weight:600}.status-completed[data-v-227ba5fc]{color:#3b82f6;font-weight:600}.status-cancelled[data-v-227ba5fc]{color:#ef4444;font-weight:600}@keyframes pulse-227ba5fc{0%,to{opacity:1}50%{opacity:.7}}.form-grid[data-v-227ba5fc]{grid-gap:16px;display:grid;gap:16px;grid-template-columns:repeat(2,1fr)}.form-grid-step2[data-v-227ba5fc]{grid-gap:16px;display:grid;gap:16px;grid-template-columns:repeat(3,1fr)}.form-group[data-v-227ba5fc]{display:flex;flex-direction:column}.form-group.full-width[data-v-227ba5fc],.form-group.passport-photo-group[data-v-227ba5fc]{grid-column:1/-1}.form-group label[data-v-227ba5fc]{align-items:center;color:#374151;display:flex;font-size:14px;font-weight:600;gap:6px;margin-bottom:6px}.form-group label.required[data-v-227ba5fc]:after{color:#ef4444;content:"*";margin-left:2px}.form-group input[data-v-227ba5fc],.form-group select[data-v-227ba5fc],.form-group textarea[data-v-227ba5fc]{background:#fff;border:1px solid #d1d5db;border-radius:6px;font-size:14px;padding:10px 12px;transition:all .2s}.form-group input[data-v-227ba5fc]:focus,.form-group select[data-v-227ba5fc]:focus,.form-group textarea[data-v-227ba5fc]:focus{border-color:#01532b;box-shadow:0 0 0 3px rgba(1,83,43,.1);outline:none}.form-group input.error[data-v-227ba5fc],.form-group select.error[data-v-227ba5fc]{border-color:#ef4444}.form-group textarea[data-v-227ba5fc]{min-height:60px;resize:vertical}.radio-group[data-v-227ba5fc]{display:flex;gap:16px;margin-top:4px}.radio-group label[data-v-227ba5fc]{align-items:center;cursor:pointer;display:flex;font-weight:500;gap:6px;margin-bottom:0}.form-errors[data-v-227ba5fc]{background:#fef2f2;border:1px solid #fecaca;border-radius:6px;color:#dc2626;font-size:13px;margin-top:16px;padding:10px 14px}.actions[data-v-227ba5fc]{display:flex;gap:12px;justify-content:space-between}.btn[data-v-227ba5fc]{border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;padding:10px 20px;transition:all .2s}.btn[data-v-227ba5fc]:disabled{cursor:not-allowed;opacity:.6}.btn.primary[data-v-227ba5fc]{background:#01532b;color:#fff}.btn.primary[data-v-227ba5fc]:hover:not(:disabled){background:#064e3b}.btn.secondary[data-v-227ba5fc]{background:#6b7280;color:#fff}.btn.secondary[data-v-227ba5fc]:hover:not(:disabled){background:#4b5563}.btn.outline[data-v-227ba5fc]{background:transparent;border:2px solid #01532b;color:#01532b}.btn.outline[data-v-227ba5fc]:hover:not(:disabled){background:#01532b;color:#fff}@media (max-width:1024px){.split-layout[data-v-227ba5fc]{grid-template-columns:1fr}.right-section[data-v-227ba5fc]{order:-1}.photo-upload[data-v-227ba5fc]{height:200px}.form-grid-step2[data-v-227ba5fc],.summary-content[data-v-227ba5fc]{grid-template-columns:repeat(2,1fr)}}@media (max-width:768px){.form-content[data-v-227ba5fc],.left-section[data-v-227ba5fc],.right-section[data-v-227ba5fc]{padding:16px}.form-grid[data-v-227ba5fc],.form-grid-step2[data-v-227ba5fc]{gap:12px;grid-template-columns:1fr}.stepper[data-v-227ba5fc]{padding:12px}.step-line[data-v-227ba5fc]{margin:0 12px;width:40px}.actions[data-v-227ba5fc]{flex-wrap:wrap}.btn[data-v-227ba5fc]{flex:1;min-width:120px}.photo-upload[data-v-227ba5fc]{height:180px}.summary-content[data-v-227ba5fc]{grid-template-columns:1fr}}',""]),o.locals={},t.exports=o},1715:function(t,e,r){"use strict";r.r(e);var o=r(66),n=(r(39),r(9),r(5),r(30),r(63),r(103),r(17)),l=(r(85),r(64),r(76),r(10),r(8),r(38),r(52),r(101),{name:"ApplicantForm",props:{applicant:Object,jobBatches:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,currentStep:1,agencies:[],loadingAgencies:!1,applicantPhotoPreview:null,passportPhotoPreview:null,applicantPhotoFile:null,passportPhotoFile:null,formData:{firstName:"",lastName:"",gender:"",age:null,maritalStatus:"",phone:"",emergencyContactNo:"",address:"",village:"",city:"",district:"",passportAvailability:!1,passportNo:"",passportExpiredDate:"",passportIssueDate:"",workPlace:"",contactStartDate:"",contactEndDate:"",registertDate:"",interviewExamDate:"",passportPhoto:"",applicantPhoto:"",jobBatchId:null,agencyId:null,status:"INTERVIEW"},errors:{},formErrors:[]}},computed:{isEditMode:function(){var t;return null===(t=this.applicant)||void 0===t?void 0:t.id},selectedBatch:function(){var t=this;return this.formData.jobBatchId?this.jobBatches.find((function(e){return e.id===t.formData.jobBatchId})):null},today:function(){return(new Date).toISOString().split("T")[0]},step1Valid:function(){return this.formData.firstName.trim()&&this.formData.lastName.trim()&&this.formData.gender},isFormValid:function(){var t,e=2!==this.currentStep||(null===(t=this.formData.phone)||void 0===t?void 0:t.trim());return this.step1Valid&&e&&!this.formErrors.length}},watch:{applicant:{handler:function(){this.initializeForm()},immediate:!0,deep:!0},"formData.passportAvailability":function(t){t||(this.formData.passportNo=this.formData.passportExpiredDate=this.formData.passportIssueDate=this.formData.passportPhoto="",this.passportPhotoPreview=this.passportPhotoFile=null)}},mounted:function(){var t;null!==(t=this.jobBatches)&&void 0!==t&&t.length||this.$emit("load-job-batches"),this.fetchAgencies()},methods:{fetchAgencies:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingAgencies=!0,e.prev=1,e.next=4,t.$axios.$get("/api/agency");case 4:(r=e.sent).success&&r.data&&r.data.agencies?t.agencies=r.data.agencies:r.success&&Array.isArray(r.data)&&(t.agencies=r.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching agencies:",e.t0),t.$toast.error("ໂຫລດຂໍ້ມູນຕົວແທນບໍ່ສຳເລັດ");case 12:return e.prev=12,t.loadingAgencies=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})))()},formatDate:function(t){return t?new Date(t).toLocaleDateString("lo-LA",{year:"numeric",month:"long",day:"numeric"}):"-"},formatCurrency:function(t,e){if(!t)return"-";var r=(null==e?void 0:e.symbol)||(null==e?void 0:e.code)||"";return"".concat(t.toLocaleString()," ").concat(r)},getPriorityText:function(t){return{low:"ຕໍ່າ",medium:"ປານກາງ",high:"ສູງ",urgent:"ຮີບດ່ວນ"}[t]||t},getStatusText:function(t){return{draft:"ຮ່າງ",active:"ເປີດໃຊ້ງານ",completed:"ສຳເລັດ",cancelled:"ຍົກເລີກ"}[t]||t},goToStep:function(t){(1===t||2===t&&this.step1Valid)&&(this.currentStep=t,this.errors={},this.formErrors=[])},continueToStep2:function(){this.step1Valid&&(this.currentStep=2)},saveStep1Only:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.step1Valid){e.next=2;break}return e.abrupt("return");case 2:t.loading=!0;try{t.$emit("save",t.createFormData(!0),!0)}catch(e){t.formErrors.push("An error occurred"),console.error(e)}finally{t.loading=!1}case 4:case"end":return e.stop()}}),e)})))()},initializeForm:function(){var t;if(null!==(t=this.applicant)&&void 0!==t&&t.id){var e,r,o,n,l,c,a=this.applicant;this.formData={firstName:a.firstName||"",lastName:a.lastName||"",gender:a.gender||"",age:a.age||null,maritalStatus:a.maritalStatus||"",phone:a.phone||"",emergencyContactNo:a.emergencyContactNo||"",address:a.address||"",village:a.village||"",city:a.city||"",district:a.district||"",passportAvailability:a.passportAvailability||!1,passportNo:a.passportNo||"",passportExpiredDate:(null===(e=a.passportExpiredDate)||void 0===e?void 0:e.split("T")[0])||"",passportIssueDate:(null===(r=a.passportIssueDate)||void 0===r?void 0:r.split("T")[0])||"",workPlace:a.workPlace||"",contactStartDate:(null===(o=a.contactStartDate)||void 0===o?void 0:o.split("T")[0])||"",contactEndDate:(null===(n=a.contactEndDate)||void 0===n?void 0:n.split("T")[0])||"",registertDate:(null===(l=a.registertDate)||void 0===l?void 0:l.slice(0,16))||"",interviewExamDate:(null===(c=a.interviewExamDate)||void 0===c?void 0:c.slice(0,16))||"",passportPhoto:a.passportPhoto||"",applicantPhoto:a.applicantPhoto||"",jobBatchId:a.jobBatchId||null,agencyId:a.agencyId||null,status:a.status||"INTERVIEW"},this.applicantPhotoPreview=this.passportPhotoPreview=this.applicantPhotoFile=this.passportPhotoFile=null,a.phone&&(this.currentStep=2)}this.errors={},this.formErrors=[]},createFormData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=new FormData;return(e?["firstName","lastName","gender","age","address","passportAvailability","jobBatchId","status"]:Object.keys(this.formData)).forEach((function(e){if("passportPhoto"!==e&&"applicantPhoto"!==e){var o=t.formData[e];""!==o&&null!==o&&r.append(e,o)}})),r.append("applicantPhoto",this.applicantPhotoFile||this.formData.applicantPhoto||""),this.formData.passportAvailability&&r.append("passportPhoto",this.passportPhotoFile||this.formData.passportPhoto||""),r},saveApplicant:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isFormValid){e.next=2;break}return e.abrupt("return");case 2:t.loading=!0;try{t.$emit("save",t.createFormData(),!1)}catch(e){t.formErrors.push("Error saving"),console.error(e)}finally{t.loading=!1}case 4:case"end":return e.stop()}}),e)})))()},triggerFileInput:function(t){this.$refs["".concat(t,"FileInput")].click()},handleFileSelect:function(t,e){var r=this,o=t.target.files[0];if(o)if(this.formErrors=this.formErrors.filter((function(t){return!t.includes("ຮູບ")})),o.type.startsWith("image/"))if(o.size>5242880)this.formErrors.push("ຮູບໃຫຍ່ເກີນ 5MB");else{"applicant"===e?this.applicantPhotoFile=o:this.passportPhotoFile=o;var n=new FileReader;n.onload=function(t){"applicant"===e?r.applicantPhotoPreview=t.target.result:r.passportPhotoPreview=t.target.result},n.readAsDataURL(o)}else this.formErrors.push("ເລືອກຮູບພາບເທົ່ານັ້ນ")},removePhoto:function(t){"applicant"===t?(this.applicantPhotoFile=this.applicantPhotoPreview=this.formData.applicantPhoto=null,this.$refs.applicantFileInput&&(this.$refs.applicantFileInput.value="")):(this.passportPhotoFile=this.passportPhotoPreview=this.formData.passportPhoto=null,this.$refs.passportFileInput&&(this.$refs.passportFileInput.value=""))},getImageUrl:function(path){return path?path.startsWith("http")?path:"".concat(this.$axios.defaults.baseURL).concat(path):null}}}),c=l,d=(r(1398),r(31)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"applicant-form"},[e("div",{staticClass:"form-header"},[e("h5",{staticClass:"form-title"},[e("i",{staticClass:"fas fa-user-plus"}),t._v("\n      "+t._s(t.isEditMode?"ແກ້ໄຂຜູ້ສະໝັກ":"ເພີ່ມຜູ້ສະໝັກ")+"\n    ")])]),t._v(" "),e("div",{staticClass:"stepper"},[e("div",{staticClass:"step",class:{active:1===t.currentStep,completed:t.currentStep>1},on:{click:function(e){return t.goToStep(1)}}},[e("span",{staticClass:"step-number"},[t._v(t._s(t.currentStep>1?"✓":"1"))]),t._v(" "),e("span",{staticClass:"step-label"},[t._v("ຮັບສະໝັກ")])]),t._v(" "),e("div",{staticClass:"step-line",class:{completed:t.currentStep>1}}),t._v(" "),e("div",{staticClass:"step",class:{active:2===t.currentStep,available:t.step1Valid},on:{click:function(e){t.step1Valid&&t.goToStep(2)}}},[e("span",{staticClass:"step-number"},[t._v("2")]),t._v(" "),e("span",{staticClass:"step-label"},[t._v(" ລົງທະບຽນ")])])]),t._v(" "),e("div",{staticClass:"form-content"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.saveApplicant.apply(null,arguments)}}},[e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.currentStep,expression:"currentStep === 1"}],staticClass:"split-layout"},[e("div",{staticClass:"left-section"},[e("div",{staticClass:"form-grid"},[e("div",{staticClass:"form-group full-width"},[t._m(0),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.jobBatchId,expression:"formData.jobBatchId"}],class:{error:t.errors.jobBatchId},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.formData,"jobBatchId",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:""}},[t._v("ເລືອກ Job Batch")]),t._v(" "),t._l(t.jobBatches,(function(r){return e("option",{key:r.id,domProps:{value:r.id}},[t._v("\n                  "+t._s(r.mou.jobCode)+" - "+t._s(r.mou.jobTitle)+" -\n                  "+t._s(r.mou.workLocation)+"\n                ")])}))],2)]),t._v(" "),t.selectedBatch?e("div",{staticClass:"batch-summary-card"},[t._m(1),t._v(" "),e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-row"},[e("strong",[t._v("ຮອບ:")]),t._v(" "),e("span",[t._v(t._s(t.selectedBatch.runningNo||t.selectedBatch.batchName))])]),t._v(" "),t.selectedBatch.mou?e("div",{staticClass:"summary-row"},[e("strong",[t._v("Job Code:")]),t._v(" "),e("span",[t._v(t._s(t.selectedBatch.mou.jobCode))])]):t._e(),t._v(" "),t.selectedBatch.mou?e("div",{staticClass:"summary-row"},[e("strong",[t._v("ບໍລິສັດ:")]),t._v(" "),e("span",[t._v(t._s(t.selectedBatch.mou.employerCompany||"-"))])]):t._e(),t._v(" "),e("div",{staticClass:"summary-row"},[e("strong",[t._v("ວຽກທີ່ສະໝັກ:")]),t._v(" "),e("span",[t._v(t._s(t.selectedBatch.mou.jobTitle||0)+" ຄົນ")])]),t._v(" "),t.selectedBatch.mou?e("div",{staticClass:"summary-row"},[e("strong",[t._v("ສະຖານທີ່ເຮັດວຽກ:")]),t._v(" "),e("span",[t._v(t._s(t.selectedBatch.mou.workLocation||"-"))])]):t._e(),t._v(" "),t.selectedBatch.batchStartDate?e("div",{staticClass:"summary-row"},[e("strong",[t._v("ວັນທີ່ເລີມຕົ້ນສັນຍາ:")]),t._v(" "),e("span",[t._v(t._s(t.formatDate(t.selectedBatch.batchStartDate)))])]):t._e(),t._v(" "),t.selectedBatch.batchEndDate?e("div",{staticClass:"summary-row"},[e("strong",[t._v("ວັນທີ່ສິນສຸດສັນຍາ:")]),t._v(" "),e("span",[t._v(t._s(t.formatDate(t.selectedBatch.batchEndDate)))])]):t._e()])]):t._e(),t._v(" "),e("div",{staticClass:"form-group"},[t._m(2),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.firstName,expression:"formData.firstName"}],class:{error:t.errors.firstName},attrs:{type:"text",placeholder:"ຊື່ຕົວຈິງ",required:""},domProps:{value:t.formData.firstName},on:{input:function(e){e.target.composing||t.$set(t.formData,"firstName",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(3),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.lastName,expression:"formData.lastName"}],class:{error:t.errors.lastName},attrs:{type:"text",placeholder:"ນາມສະກຸນ",required:""},domProps:{value:t.formData.lastName},on:{input:function(e){e.target.composing||t.$set(t.formData,"lastName",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(4),t._v(" "),e("div",{staticClass:"radio-group"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.gender,expression:"formData.gender"}],attrs:{type:"radio",value:"male",required:""},domProps:{checked:t._q(t.formData.gender,"male")},on:{change:function(e){return t.$set(t.formData,"gender","male")}}}),t._v("\n                  ຊາຍ")]),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.gender,expression:"formData.gender"}],attrs:{type:"radio",value:"female",required:""},domProps:{checked:t._q(t.formData.gender,"female")},on:{change:function(e){return t.$set(t.formData,"gender","female")}}}),t._v("\n                  ຍິງ")])])]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(5),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.formData.age,expression:"formData.age",modifiers:{number:!0}}],attrs:{type:"number",min:"18",max:"32",placeholder:"ອາຍຸ"},domProps:{value:t.formData.age},on:{input:function(e){e.target.composing||t.$set(t.formData,"age",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("div",{staticClass:"form-group full-width"},[t._m(6),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.address,expression:"formData.address"}],attrs:{rows:"2",placeholder:"ທີ່ຢູ່ລະອຽດ..."},domProps:{value:t.formData.address},on:{input:function(e){e.target.composing||t.$set(t.formData,"address",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.passportAvailability,expression:"formData.passportAvailability"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formData.passportAvailability)?t._i(t.formData.passportAvailability,null)>-1:t.formData.passportAvailability},on:{change:function(e){var r=t.formData.passportAvailability,o=e.target,n=!!o.checked;if(Array.isArray(r)){var l=t._i(r,null);o.checked?l<0&&t.$set(t.formData,"passportAvailability",r.concat([null])):l>-1&&t.$set(t.formData,"passportAvailability",r.slice(0,l).concat(r.slice(l+1)))}else t.$set(t.formData,"passportAvailability",n)}}}),t._v(" "),e("i",{staticClass:"fas fa-passport"}),t._v(" ມີໜັງສືເດີນທາງ\n              ")])])])]),t._v(" "),e("div",{staticClass:"right-section"},[e("div",{staticClass:"photo-section"},[t._m(7),t._v(" "),e("div",{staticClass:"photo-upload",on:{click:function(e){!t.applicantPhotoPreview&&!t.formData.applicantPhoto&&t.triggerFileInput("applicant")}}},[t.applicantPhotoPreview||t.formData.applicantPhoto?e("img",{attrs:{src:t.applicantPhotoPreview||t.getImageUrl(t.formData.applicantPhoto),alt:"Applicant"}}):e("div",{staticClass:"photo-placeholder"},[e("i",{staticClass:"fas fa-camera"}),t._v(" "),e("span",[t._v("ເພີ່ມຮູບຜູ້ສະໝັກ")])])]),t._v(" "),t.applicantPhotoFile||t.formData.applicantPhoto?e("button",{staticClass:"btn-remove",attrs:{type:"button"},on:{click:function(e){return t.removePhoto("applicant")}}},[e("i",{staticClass:"fas fa-trash"}),t._v(" ລຶບຮູບ\n            ")]):t._e(),t._v(" "),e("input",{ref:"applicantFileInput",attrs:{type:"file",accept:"image/*",hidden:""},on:{change:function(e){return t.handleFileSelect(e,"applicant")}}})])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.currentStep,expression:"currentStep === 2"}]},[t.selectedBatch?e("div",{staticClass:"batch-summary-card"},[t._m(8),t._v(" "),e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-row"},[e("strong",[t._v("ຮອບ:")]),t._v(" "),e("span",[t._v(t._s(t.selectedBatch.runningNo||t.selectedBatch.batchName))])]),t._v(" "),t.selectedBatch.mou?e("div",{staticClass:"summary-row"},[e("strong",[t._v("Job Code:")]),t._v(" "),e("span",[t._v(t._s(t.selectedBatch.mou.jobCode))])]):t._e(),t._v(" "),t.selectedBatch.mou?e("div",{staticClass:"summary-row"},[e("strong",[t._v("ບໍລິສັດ:")]),t._v(" "),e("span",[t._v(t._s(t.selectedBatch.mou.employerCompany||"-"))])]):t._e(),t._v(" "),e("div",{staticClass:"summary-row"},[e("strong",[t._v("ວຽກທີ່ສະໝັກ:")]),t._v(" "),e("span",[t._v(t._s(t.selectedBatch.mou.jobTitle||0)+" ຄົນ")])]),t._v(" "),t.selectedBatch.mou?e("div",{staticClass:"summary-row"},[e("strong",[t._v("ສະຖານທີ່ເຮັດວຽກ:")]),t._v(" "),e("span",[t._v(t._s(t.selectedBatch.mou.workLocation||"-"))])]):t._e(),t._v(" "),t.selectedBatch.batchStartDate?e("div",{staticClass:"summary-row"},[e("strong",[t._v("ວັນທີ່ເລີມຕົ້ນສັນຍາ:")]),t._v(" "),e("span",[t._v(t._s(t.formatDate(t.selectedBatch.batchStartDate)))])]):t._e(),t._v(" "),t.selectedBatch.batchEndDate?e("div",{staticClass:"summary-row"},[e("strong",[t._v("ວັນທີ່ສິນສຸດສັນຍາ:")]),t._v(" "),e("span",[t._v(t._s(t.formatDate(t.selectedBatch.batchEndDate)))])]):t._e()])]):t._e(),t._v(" "),e("div",{staticClass:"form-grid-step2"},[e("div",{staticClass:"form-group"},[t._m(9),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.status,expression:"formData.status"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.formData,"status",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:"INTERVIEW"}},[t._v("ສະໝັກ")]),t._v(" "),e("option",{attrs:{value:"REGISTER"}},[t._v("ລົງທະບຽນ")]),t._v(" "),e("option",{attrs:{value:"CONFIRM"}},[t._v("ພ້ອມເດີນທາງ")]),t._v(" "),e("option",{attrs:{value:"SUBMITED"}},[t._v("ເດີນທາງແລ້ວ")])])]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(10),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],class:{error:t.errors.phone},attrs:{type:"tel",placeholder:"+856 20 12345678",required:""},domProps:{value:t.formData.phone},on:{input:function(e){e.target.composing||t.$set(t.formData,"phone",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(11),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.emergencyContactNo,expression:"formData.emergencyContactNo"}],attrs:{type:"tel",placeholder:"+856 20 87654321"},domProps:{value:t.formData.emergencyContactNo},on:{input:function(e){e.target.composing||t.$set(t.formData,"emergencyContactNo",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(12),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.maritalStatus,expression:"formData.maritalStatus"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.formData,"maritalStatus",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:""}},[t._v("ເລືອກ")]),t._v(" "),e("option",{attrs:{value:"single"}},[t._v("ໂສດ")]),t._v(" "),e("option",{attrs:{value:"married"}},[t._v("ແຕ່ງງານ")]),t._v(" "),e("option",{attrs:{value:"divorced"}},[t._v("ຢ່າຮ້າງ")]),t._v(" "),e("option",{attrs:{value:"widowed"}},[t._v("ເປັນເມ່າຍ")])])]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(13),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.village,expression:"formData.village"}],attrs:{type:"text",placeholder:"ບ້ານ"},domProps:{value:t.formData.village},on:{input:function(e){e.target.composing||t.$set(t.formData,"village",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(14),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.city,expression:"formData.city"}],attrs:{type:"text",placeholder:"ເມືອງ"},domProps:{value:t.formData.city},on:{input:function(e){e.target.composing||t.$set(t.formData,"city",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(15),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.district,expression:"formData.district"}],attrs:{type:"text",placeholder:"ແຂວງ"},domProps:{value:t.formData.district},on:{input:function(e){e.target.composing||t.$set(t.formData,"district",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(16),t._v(" "),e(o.a,{attrs:{items:t.agencies,"item-text":"agencyName","item-value":"id",label:"ຕົວແທນ",outlined:"",dense:"","hide-details":"auto","prepend-inner-icon":"mdi-domain",loading:t.loadingAgencies,clearable:""},model:{value:t.formData.agencyId,callback:function(e){t.$set(t.formData,"agencyId",e)},expression:"formData.agencyId"}})],1),t._v(" "),t.formData.passportAvailability?e("div",{staticClass:"form-group passport-photo-group"},[t._m(17),t._v(" "),e("div",{staticClass:"passport-photo-section"},[e("div",{staticClass:"photo-upload-small",on:{click:function(e){!t.passportPhotoPreview&&!t.formData.passportPhoto&&t.triggerFileInput("passport")}}},[t.passportPhotoPreview||t.formData.passportPhoto?e("img",{attrs:{src:t.passportPhotoPreview||t.getImageUrl(t.formData.passportPhoto),alt:"Passport"}}):e("div",{staticClass:"photo-placeholder-small"},[e("i",{staticClass:"fas fa-id-badge"}),t._v(" "),e("span",[t._v("ເພີ່ມຮູບໜັງສື")])])]),t._v(" "),t.passportPhotoFile||t.formData.passportPhoto?e("button",{staticClass:"btn-remove-small",attrs:{type:"button"},on:{click:function(e){return t.removePhoto("passport")}}},[e("i",{staticClass:"fas fa-trash"}),t._v(" ລຶບ\n              ")]):t._e()]),t._v(" "),e("input",{ref:"passportFileInput",attrs:{type:"file",accept:"image/*",hidden:""},on:{change:function(e){return t.handleFileSelect(e,"passport")}}})]):t._e(),t._v(" "),t.formData.passportAvailability?e("div",{staticClass:"form-group"},[t._m(18),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.passportNo,expression:"formData.passportNo"}],attrs:{type:"text",placeholder:"PA1234567"},domProps:{value:t.formData.passportNo},on:{input:function(e){e.target.composing||t.$set(t.formData,"passportNo",e.target.value)}}})]):t._e(),t._v(" "),t.formData.passportAvailability?e("div",{staticClass:"form-group"},[t._m(19),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.passportIssueDate,expression:"formData.passportIssueDate"}],attrs:{type:"date"},domProps:{value:t.formData.passportIssueDate},on:{input:function(e){e.target.composing||t.$set(t.formData,"passportIssueDate",e.target.value)}}})]):t._e(),t._v(" "),t.formData.passportAvailability?e("div",{staticClass:"form-group"},[t._m(20),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.passportExpiredDate,expression:"formData.passportExpiredDate"}],attrs:{type:"date",min:t.today},domProps:{value:t.formData.passportExpiredDate},on:{input:function(e){e.target.composing||t.$set(t.formData,"passportExpiredDate",e.target.value)}}})]):t._e()])]),t._v(" "),t.formErrors.length?e("div",{staticClass:"form-errors"},[e("strong",[t._v("ແກ້ໄຂ:")]),t._v(" "+t._s(t.formErrors.join(", "))+"\n      ")]):t._e()])]),t._v(" "),e("div",{staticClass:"form-footer"},[1===t.currentStep?e("div",{staticClass:"actions"},[e("button",{staticClass:"btn secondary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("\n        ຍົກເລີກ\n      ")]),t._v(" "),e("button",{staticClass:"btn outline",attrs:{type:"button",disabled:!t.step1Valid||t.loading},on:{click:t.saveStep1Only}},[t._v("\n        "+t._s(t.loading?"ກຳລັງບັນທຶກ...":"ບັນທຶກ")+"\n      ")]),t._v(" "),e("button",{staticClass:"btn primary",attrs:{type:"button",disabled:!t.step1Valid},on:{click:t.continueToStep2}},[t._v("\n        ລົງທະບຽນ\n      ")])]):t._e(),t._v(" "),2===t.currentStep?e("div",{staticClass:"actions"},[e("button",{staticClass:"btn secondary",attrs:{type:"button"},on:{click:function(e){return t.goToStep(1)}}},[t._v("\n        ກັບຄືນ\n      ")]),t._v(" "),e("button",{staticClass:"btn primary",attrs:{type:"button",disabled:!t.isFormValid||t.loading},on:{click:t.saveApplicant}},[t._v("\n        "+t._s(t.loading?"ກຳລັງບັນທຶກ...":t.isEditMode?"ອັບເດດ":"ບັນທຶກ")+"\n      ")])]):t._e()])])}),[function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-briefcase"}),this._v(" Job Batch")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"summary-header"},[e("i",{staticClass:"fas fa-info-circle"}),t._v(" "),e("span",[t._v("ຂໍ້ມູນ Job Batch ທີ່ເລືອກ")])])},function(){var t=this._self._c;return t("label",{staticClass:"required"},[t("i",{staticClass:"fas fa-user"}),this._v(" ຊື່")])},function(){var t=this._self._c;return t("label",{staticClass:"required"},[t("i",{staticClass:"fas fa-user"}),this._v(" ນາມສະກຸນ")])},function(){var t=this._self._c;return t("label",{staticClass:"required"},[t("i",{staticClass:"fas fa-venus-mars"}),this._v(" ເພດ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-calendar"}),this._v(" ອາຍຸ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-home"}),this._v(" ທີ່ຢູ່")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-camera"}),this._v(" ຮູບຜູ້ສະໝັກ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"summary-header"},[e("i",{staticClass:"fas fa-info-circle"}),t._v(" "),e("span",[t._v("ຂໍ້ມູນ Job Batch ທີ່ເລືອກ")])])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-flag"}),this._v(" ສະຖານະ")])},function(){var t=this._self._c;return t("label",{staticClass:"required"},[t("i",{staticClass:"fas fa-phone"}),this._v(" ເບີໂທ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-exclamation-triangle"}),this._v(" ເບີສຸກເສີນ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-heart"}),this._v(" ສະຖານະການແຕ່ງງານ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-map-marker-alt"}),this._v(" ບ້ານ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-map-marker-alt"}),this._v(" ເມືອງ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-map-marker-alt"}),this._v(" ແຂວງ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-building"}),this._v(" ຕົວແທນສັນຫາ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-id-badge"}),this._v(" ຮູບໜັງສື")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-id-card"}),this._v(" ເລກໜັງສື")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-calendar-times"}),this._v(" ອອກວັນທີ")])},function(){var t=this._self._c;return t("label",[t("i",{staticClass:"fas fa-calendar-times"}),this._v(" ຫມົດອາຍຸວັນທີ")])}],!1,null,"227ba5fc",null);e.default=component.exports}}]);