(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{1189:function(e,t,r){var content=r(1420);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("f87d6c4e",content,!0,{sourceMap:!1})},1419:function(e,t,r){"use strict";r(1189)},1420:function(e,t,r){var n=r(15)((function(i){return i[1]}));n.push([e.i,'.dialog-overlay[data-v-1861f3a8]{align-items:center;background-color:rgba(0,0,0,.5);bottom:0;display:flex;justify-content:center;left:0;padding:20px;position:fixed;right:0;top:0;z-index:1000}.dialog-container[data-v-1861f3a8]{background:#fff;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.3);max-height:90vh;max-width:900px;overflow-y:auto;width:100%}.dialog-header[data-v-1861f3a8]{align-items:center;background-color:#f8f9fa;border-bottom:1px solid #e9ecef;border-radius:12px 12px 0 0;display:flex;justify-content:space-between;padding:20px 24px}.dialog-title[data-v-1861f3a8]{color:#333;font-size:20px;font-weight:600;margin:0}.dialog-close[data-v-1861f3a8]{background:none;border:none;border-radius:4px;color:#666;cursor:pointer;font-size:20px;padding:8px;transition:all .2s}.dialog-close[data-v-1861f3a8]:hover{background-color:#e9ecef;color:#333}.dialog-body[data-v-1861f3a8]{padding:24px}.form-row[data-v-1861f3a8]{grid-gap:20px;display:grid;gap:20px;grid-template-columns:1fr 1fr;margin-bottom:20px}.form-group[data-v-1861f3a8]{display:flex;flex-direction:column;gap:6px}.form-group label[data-v-1861f3a8]{color:#495057;font-size:14px;font-weight:500}.form-group label.required[data-v-1861f3a8]:after{color:#dc3545;content:" *"}.exchange-rate-info[data-v-1861f3a8]{color:#6c757d;font-size:12px;font-weight:400}.exchange-rate-wrapper[data-v-1861f3a8]{align-items:center;display:flex;gap:8px;position:relative}.btn-refresh-rate[data-v-1861f3a8]{align-items:center;background:#17a2b8;border:none;border-radius:4px;color:#fff;cursor:pointer;display:flex;justify-content:center;min-width:40px;padding:8px 12px;transition:all .2s}.btn-refresh-rate[data-v-1861f3a8]:hover:not(:disabled){background:#138496}.btn-refresh-rate[data-v-1861f3a8]:disabled{cursor:not-allowed;opacity:.6}.exchange-rate-updated[data-v-1861f3a8]{align-items:center;color:#28a745;display:flex;font-size:12px;gap:4px;margin-top:4px}.currency-rate[data-v-1861f3a8]{color:#6c757d;font-size:12px}.form-control[data-v-1861f3a8]{background-color:#fff;border:1px solid #ced4da;border-radius:6px;flex:1;font-size:14px;padding:10px 12px;transition:all .2s}.form-control[data-v-1861f3a8]:focus{border-color:#007bff;box-shadow:0 0 0 2px rgba(0,123,255,.25);outline:none}.form-control.is-invalid[data-v-1861f3a8]{border-color:#dc3545}.form-control.is-invalid[data-v-1861f3a8]:focus{box-shadow:0 0 0 2px rgba(220,53,69,.25)}.form-control[data-v-1861f3a8]:readonly{background-color:#e9ecef;opacity:1}.invalid-feedback[data-v-1861f3a8]{color:#dc3545;font-size:12px;margin-top:4px}.checkbox-wrapper[data-v-1861f3a8]{align-items:center;display:flex;gap:8px;margin-top:8px}.form-checkbox[data-v-1861f3a8]{cursor:pointer;height:18px;width:18px}.checkbox-label[data-v-1861f3a8]{cursor:pointer;font-weight:400;margin:0}.calculation-section[data-v-1861f3a8]{background-color:#f8f9fa;border-radius:8px;margin:20px 0;padding:16px}.calculation-section h4[data-v-1861f3a8]{color:#495057;font-size:16px;margin:0 0 12px}.calculation-grid[data-v-1861f3a8]{grid-gap:16px;display:grid;gap:16px;grid-template-columns:1fr 1fr}.calculation-item[data-v-1861f3a8]{align-items:center;background-color:#fff;border:1px solid #e9ecef;border-radius:6px;display:flex;justify-content:space-between;padding:8px 12px}.calculation-item label[data-v-1861f3a8]{color:#666;font-size:13px;margin:0}.calculation-value[data-v-1861f3a8]{color:#28a745;font-size:14px;font-weight:600}.selected-info-section[data-v-1861f3a8]{background-color:#e7f3ff;border-left:4px solid #007bff;border-radius:8px;margin:20px 0;padding:16px}.selected-info-section h4[data-v-1861f3a8]{color:#0056b3;font-size:16px;margin:0 0 12px}.info-grid[data-v-1861f3a8]{display:flex;flex-direction:column;gap:12px}.info-item[data-v-1861f3a8]{align-items:center;background-color:#fff;border:1px solid #b3d7ff;border-radius:6px;display:flex;justify-content:space-between;padding:8px 12px}.info-item label[data-v-1861f3a8]{color:#0056b3;font-size:13px;font-weight:500;margin:0}.info-value[data-v-1861f3a8]{color:#333;font-size:14px;font-weight:600}.dialog-footer[data-v-1861f3a8]{background-color:#f8f9fa;border-radius:0 0 12px 12px;border-top:1px solid #e9ecef;display:flex;gap:12px;justify-content:flex-end;padding:20px 24px}.btn[data-v-1861f3a8]{align-items:center;border:1px solid transparent;border-radius:6px;cursor:pointer;display:inline-flex;font-size:14px;font-weight:500;gap:8px;padding:10px 20px;transition:all .2s}.btn[data-v-1861f3a8]:disabled{cursor:not-allowed;opacity:.6}.btn-primary[data-v-1861f3a8]{background-color:#007bff;border-color:#007bff;color:#fff}.btn-primary[data-v-1861f3a8]:hover:not(:disabled){background-color:#0056b3;border-color:#0056b3}.btn-secondary[data-v-1861f3a8]{background-color:#6c757d;border-color:#6c757d;color:#fff}.btn-secondary[data-v-1861f3a8]:hover:not(:disabled){background-color:#5a6268;border-color:#5a6268}@media (max-width:768px){.dialog-overlay[data-v-1861f3a8]{padding:10px}.dialog-container[data-v-1861f3a8]{max-width:100%}.dialog-body[data-v-1861f3a8],.dialog-footer[data-v-1861f3a8],.dialog-header[data-v-1861f3a8]{padding:16px}.form-row[data-v-1861f3a8]{gap:16px;grid-template-columns:1fr}.calculation-grid[data-v-1861f3a8]{gap:12px;grid-template-columns:1fr}.calculation-item[data-v-1861f3a8],.info-item[data-v-1861f3a8]{align-items:flex-start;flex-direction:column;gap:4px}.dialog-footer[data-v-1861f3a8]{flex-direction:column-reverse;gap:8px}.btn[data-v-1861f3a8]{justify-content:center;width:100%}.exchange-rate-wrapper[data-v-1861f3a8]{align-items:stretch;flex-direction:column;gap:8px}.btn-refresh-rate[data-v-1861f3a8]{align-self:flex-end;width:auto}}@media (max-width:480px){.dialog-title[data-v-1861f3a8]{font-size:18px}.form-control[data-v-1861f3a8]{font-size:16px;padding:8px 10px}.calculation-section[data-v-1861f3a8],.selected-info-section[data-v-1861f3a8]{padding:12px}.calculation-item[data-v-1861f3a8],.info-item[data-v-1861f3a8]{padding:6px 8px}}.dialog-overlay[data-v-1861f3a8]{animation:fadeIn-1861f3a8 .3s ease}.dialog-container[data-v-1861f3a8]{animation:slideIn-1861f3a8 .3s ease}@keyframes fadeIn-1861f3a8{0%{opacity:0}to{opacity:1}}@keyframes slideIn-1861f3a8{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}',""]),n.locals={},e.exports=n},1629:function(e,t,r){"use strict";r.r(t);r(34),r(44),r(9),r(5);var n=r(20),o=(r(92),r(66),r(68),r(63),r(75),r(10),{name:"RevenueTargetDialog",props:{show:{type:Boolean,default:!1},target:{type:Object,default:null},currencies:{type:Array,default:function(){return[]}},ministries:{type:Array,default:function(){return[]}},chartAccounts:{type:Array,default:function(){return[]}},formLoading:{type:Boolean,default:!1}},data:function(){return{form:{name:"",year:"",targetAmount:"",exchangeRate:"",currencyId:"",parentMinistryId:"",chartAccountId:"",remark:"",isActive:!0},errors:{},currentYear:(new Date).getFullYear(),refreshingRate:!1,exchangeRateUpdated:!1,manualRateChange:!1}},computed:{availableYears:function(){for(var e=[],i=0;i<10;i++)e.push(this.currentYear+i);return e},isFormValid:function(){return this.form.name&&this.form.year&&this.form.targetAmount&&this.form.exchangeRate&&this.form.currencyId&&this.form.parentMinistryId&&this.form.chartAccountId&&parseFloat(this.form.targetAmount)>=0&&parseFloat(this.form.exchangeRate)>=1},selectedMinistry:function(){var e=this;return this.ministries.find((function(t){return t.id===parseInt(e.form.parentMinistryId)}))},selectedChartAccount:function(){var e=this;return this.chartAccounts.find((function(a){return a.id===parseInt(e.form.chartAccountId)}))},selectedCurrency:function(){var e=this;return this.currencies.find((function(t){return t.id===parseInt(e.form.currencyId)}))},isExchangeRateReadonly:function(){return this.selectedCurrency&&"LAK"===this.selectedCurrency.code}},watch:{show:function(e){e&&this.initializeForm()},target:{handler:function(){this.show&&this.initializeForm()},deep:!0},"form.exchangeRate":function(){this.refreshingRate||(this.exchangeRateUpdated=!1)}},methods:{initializeForm:function(){var e=this;this.target?(this.form={name:this.target.name||"",year:this.target.year||"",targetAmount:this.target.targetAmount||"",exchangeRate:this.target.exchangeRate||"",currencyId:this.target.currencyId||"",parentMinistryId:this.target.parentMinistryId||"",chartAccountId:this.target.chartAccountId||"",remark:this.target.remark||"",isActive:!1!==this.target.isActive},this.$nextTick((function(){e.form.currencyId&&e.updateExchangeRateFromCurrency()}))):this.form={name:"",year:this.currentYear,targetAmount:"",exchangeRate:"",currencyId:"",parentMinistryId:"",chartAccountId:"",remark:"",isActive:!0},this.errors={},this.exchangeRateUpdated=!1,this.manualRateChange=!1},onCurrencyChange:function(){this.updateExchangeRateFromCurrency()},updateExchangeRateFromCurrency:function(){var e=this.selectedCurrency;if(console.log("currency ".concat(JSON.stringify(this.currencies))),console.log("Exchange rate ".concat(e.rate)),e){if("LAK"===e.code)this.form.exchangeRate="1";else if(e.rate)this.form.exchangeRate=e.rate.toString();else if(e.exchangeRate)this.form.exchangeRate=e.exchangeRate.toString();else{this.form.exchangeRate={USD:"21000",EUR:"23000",THB:"600",CNY:"2900",VND:"0.85"}[e.code]||"1"}this.errors.exchangeRate&&delete this.errors.exchangeRate}},refreshExchangeRate:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedCurrency&&"LAK"!==e.selectedCurrency.code){t.next=2;break}return t.abrupt("return");case 2:e.refreshingRate=!0,e.exchangeRateUpdated=!1;try{e.$emit("refresh-exchange-rate",{currencyId:e.selectedCurrency.id,currencyCode:e.selectedCurrency.code,callback:e.handleExchangeRateUpdate})}catch(t){console.error("Error refreshing exchange rate:",t),e.$emit("show-error","ບໍ່ສາມາດອັບເດດອັດຕາແລກປ່ຽນໄດ້")}finally{e.refreshingRate=!1}case 5:case"end":return t.stop()}}),t)})))()},handleExchangeRateUpdate:function(e){var t=this;e&&e>0&&(this.form.exchangeRate=e.toString(),this.exchangeRateUpdated=!0,setTimeout((function(){t.exchangeRateUpdated=!1}),3e3)),this.refreshingRate=!1},validateForm:function(){return this.errors={},(!this.form.name||this.form.name.trim().length<2)&&(this.errors.name="ຊື່ເປົ້າໝາຍຕ້ອງມີຢ່າງນ້ອຍ 2 ຕົວອັກສອນ"),this.form.year||(this.errors.year="ກະລຸນາເລືອກປີ"),(!this.form.targetAmount||parseFloat(this.form.targetAmount)<0)&&(this.errors.targetAmount="ຈຳນວນເປົ້າໝາຍຕ້ອງເປັນຕົວເລກບວກ"),(!this.form.exchangeRate||parseFloat(this.form.exchangeRate)<1)&&(this.errors.exchangeRate="ອັດຕາແລກປ່ຽນຕ້ອງເປັນຕົວເລກທີ່ມາກກວ່າ 1"),this.form.currencyId||(this.errors.currencyId="ກະລຸນາເລືອກສະກຸນເງິນ"),this.form.parentMinistryId||(this.errors.parentMinistryId="ກະລຸນາເລືອກກະຊວງ/ຫົວໜ່ວຍງານ"),this.form.chartAccountId||(this.errors.chartAccountId="ກະລຸນາເລືອກບັນຊີລາຍຮັບ"),0===Object.keys(this.errors).length},handleSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.validateForm()){t.next=3;break}return e.$emit("validation-error","ກະລຸນາແກ້ໄຂຂໍ້ຜິດພາດ"),t.abrupt("return");case 3:r={name:e.form.name.trim(),year:parseInt(e.form.year),targetAmount:parseFloat(e.form.targetAmount),exchangeRate:parseFloat(e.form.exchangeRate),currencyId:parseInt(e.form.currencyId),parentMinistryId:parseInt(e.form.parentMinistryId),chartAccountId:parseInt(e.form.chartAccountId),remark:e.form.remark.trim(),isActive:e.form.isActive},e.$emit("save",r);case 5:case"end":return t.stop()}}),t)})))()},handleOverlayClick:function(){this.closeDialog()},closeDialog:function(){this.$emit("close")},calculateLAKAmount:function(){return(parseFloat(this.form.targetAmount)||0)*(parseFloat(this.form.exchangeRate)||1)},calculateUSDAmount:function(){var e=parseFloat(this.form.targetAmount)||0,t=parseFloat(this.form.exchangeRate)||1;if(this.selectedCurrency&&"USD"===this.selectedCurrency.code)return e;return e*t/21e3},formatCurrency:function(e){return new Intl.NumberFormat("lo-LA",{style:"currency",currency:"LAK",minimumFractionDigits:0,maximumFractionDigits:0}).format(e||0)},formatUSD:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0)}}}),c=(r(1419),r(32)),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return e.show?t("div",{staticClass:"dialog-overlay",on:{click:e.handleOverlayClick}},[t("div",{staticClass:"dialog-container",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"dialog-header"},[t("h2",{staticClass:"dialog-title"},[e._v("\n        "+e._s(e.target?"ແກ້ໄຂເປົ້າໝາຍລາຍຮັບ":"ສ້າງເປົ້າໝາຍລາຍຮັບ")+"\n      ")]),e._v(" "),t("button",{staticClass:"dialog-close",on:{click:e.closeDialog}},[t("i",{staticClass:"fas fa-times"})])]),e._v(" "),t("div",{staticClass:"dialog-body"},[t("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"name"}},[e._v("ຊື່ເປົ້າໝາຍລາຍຮັບ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":e.errors.name},attrs:{id:"name",type:"text",placeholder:"ກະລຸນາໃສ່ຊື່ເປົ້າໝາຍ",required:""},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e._v(" "),e.errors.name?t("div",{staticClass:"invalid-feedback"},[e._v("\n              "+e._s(e.errors.name)+"\n            ")]):e._e()]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"year"}},[e._v("ປີ")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.year,expression:"form.year"}],staticClass:"form-control",class:{"is-invalid":e.errors.year},attrs:{id:"year",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"year",t.target.multiple?r:r[0])}}},[t("option",{attrs:{value:""}},[e._v("ເລືອກປີ")]),e._v(" "),e._l(e.availableYears,(function(r){return t("option",{key:r,domProps:{value:r}},[e._v("\n                "+e._s(r)+"\n              ")])}))],2),e._v(" "),e.errors.year?t("div",{staticClass:"invalid-feedback"},[e._v("\n              "+e._s(e.errors.year)+"\n            ")]):e._e()])]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"parentMinistryId"}},[e._v("ກະຊວງ/ຫົວໜ່ວຍງານ")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.parentMinistryId,expression:"form.parentMinistryId"}],staticClass:"form-control",class:{"is-invalid":e.errors.parentMinistryId},attrs:{id:"parentMinistryId",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"parentMinistryId",t.target.multiple?r:r[0])}}},[t("option",{attrs:{value:""}},[e._v("ເລືອກກະຊວງ/ຫົວໜ່ວຍງານ")]),e._v(" "),e._l(e.ministries,(function(r){return t("option",{key:r.id,domProps:{value:r.id}},[e._v("\n                "+e._s(r.ministryCode)+" ("+e._s(r.ministryName)+")\n              ")])}))],2),e._v(" "),e.errors.parentMinistryId?t("div",{staticClass:"invalid-feedback"},[e._v("\n              "+e._s(e.errors.parentMinistryId)+"\n            ")]):e._e()]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"chartAccountId"}},[e._v("ບັນຊີລາຍຮັບ")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.chartAccountId,expression:"form.chartAccountId"}],staticClass:"form-control",class:{"is-invalid":e.errors.chartAccountId},attrs:{id:"chartAccountId",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"chartAccountId",t.target.multiple?r:r[0])}}},[t("option",{attrs:{value:""}},[e._v("ເລືອກບັນຊີລາຍຮັບ ")]),e._v(" "),e._l(e.chartAccounts,(function(r){return t("option",{key:r.id,domProps:{value:r.id}},[e._v("\n                "+e._s(r.accountNumber)+" - "+e._s(r.accountName)+"\n              ")])}))],2),e._v(" "),e.errors.chartAccountId?t("div",{staticClass:"invalid-feedback"},[e._v("\n              "+e._s(e.errors.chartAccountId)+"\n            ")]):e._e()])]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"currencyId"}},[e._v("ສະກຸນເງິນ")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.currencyId,expression:"form.currencyId"}],staticClass:"form-control",class:{"is-invalid":e.errors.currencyId},attrs:{id:"currencyId",required:""},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"currencyId",t.target.multiple?r:r[0])},e.onCurrencyChange]}},[t("option",{attrs:{value:""}},[e._v("ເລືອກສະກຸນເງິນ")]),e._v(" "),e._l(e.currencies,(function(r){return t("option",{key:r.id,domProps:{value:r.id}},[e._v("\n                "+e._s(r.code)+" - "+e._s(r.name)+"\n              ")])}))],2),e._v(" "),e.errors.currencyId?t("div",{staticClass:"invalid-feedback"},[e._v("\n              "+e._s(e.errors.currencyId)+"\n            ")]):e._e()]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"exchangeRate"}},[e._v("\n              ອັດຕາແລກປ່ຽນ\n              "),e.selectedCurrency?t("span",{staticClass:"exchange-rate-info"},[e._v("\n                ("+e._s(e.selectedCurrency.code)+" to LAK)\n              ")]):e._e()]),e._v(" "),t("div",{staticClass:"exchange-rate-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.exchangeRate,expression:"form.exchangeRate"}],staticClass:"form-control",class:{"is-invalid":e.errors.exchangeRate},attrs:{id:"exchangeRate",type:"number",step:"0.01",min:"1",placeholder:e.selectedCurrency?"Rate for ".concat(e.selectedCurrency.code):"1.00",readonly:e.isExchangeRateReadonly,required:""},domProps:{value:e.form.exchangeRate},on:{input:function(t){t.target.composing||e.$set(e.form,"exchangeRate",t.target.value)}}}),e._v(" "),e.selectedCurrency&&"LAK"!==e.selectedCurrency.code?t("button",{staticClass:"btn-refresh-rate",attrs:{type:"button",disabled:e.refreshingRate,title:"ອັບເດດອັດຕາແລກປ່ຽນ "+e.selectedCurrency.code},on:{click:e.refreshExchangeRate}},[t("i",{class:["fas",e.refreshingRate?"fa-spinner fa-spin":"fa-sync-alt"]})]):e._e()]),e._v(" "),e.errors.exchangeRate?t("div",{staticClass:"invalid-feedback"},[e._v("\n              "+e._s(e.errors.exchangeRate)+"\n            ")]):e._e(),e._v(" "),e.exchangeRateUpdated?t("div",{staticClass:"exchange-rate-updated"},[t("i",{staticClass:"fas fa-check-circle"}),e._v("\n              ອັດຕາແລກປ່ຽນໄດ້ຮັບການອັບເດດ\n            ")]):e._e()])]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"targetAmount"}},[e._v("ຈຳນວນເປົ້າໝາຍ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.targetAmount,expression:"form.targetAmount"}],staticClass:"form-control",class:{"is-invalid":e.errors.targetAmount},attrs:{id:"targetAmount",type:"number",step:"0.01",min:"0",placeholder:"0.00",required:""},domProps:{value:e.form.targetAmount},on:{input:function(t){t.target.composing||e.$set(e.form,"targetAmount",t.target.value)}}}),e._v(" "),e.errors.targetAmount?t("div",{staticClass:"invalid-feedback"},[e._v("\n              "+e._s(e.errors.targetAmount)+"\n            ")]):e._e()])]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"remark"}},[e._v("ຫມາຍເຫດ")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.remark,expression:"form.remark"}],staticClass:"form-control",attrs:{id:"remark",rows:"3",placeholder:"ໃສ່ຫມາຍເຫດ (ຖ້າມີ)..."},domProps:{value:e.form.remark},on:{input:function(t){t.target.composing||e.$set(e.form,"remark",t.target.value)}}})]),e._v(" "),e.form.targetAmount&&e.form.exchangeRate?t("div",{staticClass:"calculation-section"},[t("h4",[e._v("ການຄິດໄລ່")]),e._v(" "),t("div",{staticClass:"calculation-grid"},[t("div",{staticClass:"calculation-item"},[t("label",[e._v("ຍອດເປົ້າໝາຍເປັນ LAK:")]),e._v(" "),t("span",{staticClass:"calculation-value"},[e._v("\n                "+e._s(e.formatCurrency(e.calculateLAKAmount()))+"\n              ")])]),e._v(" "),t("div",{staticClass:"calculation-item"},[t("label",[e._v("ຍອດເປົ້າໝາຍເປັນ USD:")]),e._v(" "),t("span",{staticClass:"calculation-value"},[e._v("\n                "+e._s(e.formatUSD(e.calculateUSDAmount()))+"\n              ")])])])]):e._e(),e._v(" "),e.selectedMinistry||e.selectedChartAccount||e.selectedCurrency?t("div",{staticClass:"selected-info-section"},[t("h4",[e._v("ຂໍ້ມູນທີ່ເລືອກ")]),e._v(" "),t("div",{staticClass:"info-grid"},[e.selectedMinistry?t("div",{staticClass:"info-item"},[t("label",[e._v("ກະຊວງ/ຫົວໜ່ວຍງານ:")]),e._v(" "),t("span",{staticClass:"info-value"},[e._v("\n                "+e._s(e.selectedMinistry.ministryCode)+" ("+e._s(e.selectedMinistry.ministryName)+")\n              ")])]):e._e(),e._v(" "),e.selectedChartAccount?t("div",{staticClass:"info-item"},[t("label",[e._v("ບັນຊີລາຍຮັບ:")]),e._v(" "),t("span",{staticClass:"info-value"},[e._v("\n                "+e._s(e.selectedChartAccount.accountNumber)+" - "+e._s(e.selectedChartAccount.accountName)+"\n              ")])]):e._e(),e._v(" "),e.selectedCurrency?t("div",{staticClass:"info-item"},[t("label",[e._v("ສະກຸນເງິນ:")]),e._v(" "),t("span",{staticClass:"info-value"},[e._v("\n                "+e._s(e.selectedCurrency.code)+" - "+e._s(e.selectedCurrency.name)+"\n                "),e.selectedCurrency.rate?t("span",{staticClass:"currency-rate"},[e._v("\n                  (Rate: "+e._s(e.selectedCurrency.rate)+")\n                ")]):e._e()])]):e._e()])]):e._e(),e._v(" "),t("div",{staticClass:"dialog-footer"},[t("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.closeDialog}},[e._v("\n            ຍົກເລີກ\n          ")]),e._v(" "),t("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:e.formLoading||!e.isFormValid}},[e.formLoading?t("i",{staticClass:"fas fa-spinner fa-spin"}):e._e(),e._v("\n            "+e._s(e.target?"ອັບເດດ":"ບັນທຶກ")+"\n          ")])])])])])]):e._e()}),[],!1,null,"1861f3a8",null);t.default=component.exports}}]);