(window.webpackJsonp=window.webpackJsonp||[]).push([[71,39,42],{645:function(e,t,r){"use strict";r.r(t);var n=r(288),o=r(44),c=r(629),l=r(286),d=r(628),f=r(627),m={props:{orderDetail:{type:Object,default:""},showTotal:{type:Boolean,default:!1},gross:{type:String,default:"0"}}},v=r(41),component=Object(v.a)(m,(function(){var e=this,t=e._self._c;return t(n.a,{staticClass:"ml-4"},[t(o.d,[e._v(e._s(this.orderDetail.title))]),e._v(" "),t("div",{staticClass:"pa-4"},[t(d.a,[t(c.a,{staticStyle:{"text-align":"left"},attrs:{cols:"6",lg:"6"}},[e._v("ຈຳນວນ")]),e._v(" "),t(c.a,{staticStyle:{"text-align":"right"},attrs:{cols:"6",lg:"6"}},[e._v(e._s(this.orderDetail.amount)+" ອໍເດີ")])],1),e._v(" "),t(l.a),e._v(" "),t(d.a,[t(c.a,{staticStyle:{"text-align":"left"},attrs:{cols:"6",lg:"6"}},[e._v("ມູນຄ່າ")]),e._v(" "),t(f.a),e._v(" "),t(c.a,{staticStyle:{"text-align":"right"},attrs:{cols:"6",lg:"6"}},[e._v(e._s(this.orderDetail.sale))])],1)],1),e._v(" "),t(l.a)],1)}),[],!1,null,null,null);t.default=component.exports},656:function(e,t,r){"use strict";r.r(t);var n=r(179),o=r(288),c=r(44),l=r(629),d=r(633),f=r(609),m=r(286),v=r(628),h=r(627),_=(r(37),r(34),r(187),r(28)),y=(r(111),r(63)),x={props:{header:{type:Object,default:null},isQuotation:{type:Boolean,default:!1}},methods:{post:function(){Object(y.a)(this.$swal,"You are posting to invoice ?",this.postToInvoice)},getFormatNum:function(e){return(new Intl.NumberFormat).format(e)},toggleDialog:function(){this.$emit("close-dialog")},postToInvoice:function(){var e=this;return Object(_.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isloading){t.next=2;break}return t.abrupt("return");case 2:return e.isloading=!0,{startDate:e.date,endDate:e.date2},t.next=6,e.$axios.put("api/sale/postToInvoice/".concat(e.header.id)).then((function(t){e.$emit("reload"),Object(y.k)(e.$swal,"Succeed","ດຳເນີນການສຳເລັດ")})).catch((function(t){Object(y.j)(e.$swal,"Error","Could no load data "+t.Error),console.log("Error ===>: "+t)}));case 6:e.isloading=!1;case 7:case"end":return t.stop()}}),t)})))()}},data:function(){return{search:"",isloading:!1,headers:[{text:"ສິນຄ້າ",align:"start",value:"product.pro_name"},{text:"ຈຳນວນ",align:"end",value:"quantity"},{text:"ລາຄາ",align:"end",value:"price",sortable:!0},{text:"ສ່ວນຫລຸດ",align:"end",value:"discount",sortable:!0},{text:"ລວມ",align:"end",value:"total",sortable:!1}]}}},w=r(41),component=Object(w.a)(x,(function(){var e=this,t=e._self._c;return t("div",[t(f.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.isloading,callback:function(t){e.isloading=t},expression:"isloading"}},[t("loading-indicator")],1),e._v(" "),t(o.a,[t(c.b,[t(v.a,[t(l.a,{attrs:{cols:"6"}},[e._v("\n                    "+e._s(e.isQuotation?"Quotation #":"Invoice #")+"\n                    "+e._s(e.header.id)+"\n                ")]),e._v(" "),e.isQuotation?t(l.a,{staticStyle:{"text-align":"right"},attrs:{cols:"6"}},[t(n.a,{staticClass:"primary",attrs:{size:"large",variant:"outlined"},on:{click:e.post}},[e._v("\n                        Post to invoice"),t("span",{staticClass:"mdi mdi-cloud-download"})])],1):e._e()],1)],1),e._v(" "),t(m.a),e._v(" "),t(c.c,[t(o.a,[t(c.c,[t("div",[t(v.a,[t(l.a,{attrs:{cols:"4"}},[t(v.a,[t(l.a,{attrs:{cols:"12"}},[e._v("ວັນທີ: "+e._s(e.header.bookingDate)+" ")]),e._v(" "),t(l.a,{attrs:{cols:"12"}},[e._v("ຊື່ລູກຄ້າ: "+e._s(e.header.client.name))]),e._v(" "),t(l.a,{attrs:{cols:"12"}},[e._v("ເບີໂທ: "+e._s(e.header.client.telephone))]),e._v(" "),t(l.a,{attrs:{cols:"12"}},[e._v("ບໍລິສັດ: "+e._s(e.header.client.company))]),e._v(" "),t(l.a,{attrs:{cols:"12"}},[e._v("ການຊຳລະ: "+e._s(e.header.payment.payment_code)+" ")])],1)],1),e._v(" "),t(l.a,{attrs:{cols:"4"}},[t(v.a,[t(l.a,{attrs:{cols:"12"}},[e._v("ສະກຸນ: "+e._s(e.header.currency.code))]),e._v(" "),t(l.a,{attrs:{cols:"12"}},[e._v("ອັດຕາແລກປ່ຽນ: "+e._s(e.header.exchangeRate))]),e._v(" "),t(l.a,{attrs:{cols:"12"}},[e._v("ສ່ວນຫລຸດ: "+e._s(e.header.discount))]),e._v(" "),t(l.a,{attrs:{cols:"12"}},[e._v("ຍອດລວມທັງໝົດ: "+e._s(e.getFormatNum(e.header.total)))])],1)],1),e._v(" "),t(l.a,{staticStyle:{"text-align":"end"},attrs:{cols:"4"}},[t(v.a,[t(l.a,{attrs:{cols:"12"}},[e._v("ຜູ້ລົງ: "+e._s(e.header.user.cus_id)+" ")]),e._v(" "),t(l.a,{attrs:{cols:"12"}},[e._v("ຊື່: "+e._s(e.header.user.cus_name))])],1)],1)],1)],1)])],1),e._v(" "),t(m.a),e._v(" "),e.header.lines?t(d.a,{attrs:{headers:e.headers,search:e.search,items:e.header.lines},scopedSlots:e._u([{key:"item.function",fn:function(r){var o=r.item;return[t(n.a,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.editItem(o),e.wallet=!0}}},[t("i",{staticClass:"fas fa-wallet"})])]}},{key:"item.price",fn:function(t){var r=t.item;return[e._v("\n                    "+e._s(e.getFormatNum(r.price))+"\n                ")]}},{key:"item.discount",fn:function(t){var r=t.item;return[e._v("\n                    "+e._s(e.getFormatNum(r.discount))+"\n                ")]}},{key:"item.total",fn:function(t){var r=t.item;return[e._v("\n                    "+e._s(e.getFormatNum(r.total))+"\n                ")]}}],null,!0)}):e._e()],1),e._v(" "),t(c.a,[t(h.a),e._v(" "),t(n.a,{attrs:{color:"blue-darken-1",variant:"text"},on:{click:e.toggleDialog}},[e._v("\n                Close\n            ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{LoadingIndicator:r(301).default})},688:function(e,t,r){"use strict";r.r(t);var n=r(179),o=r(288),c=r(44),l=r(672),d=r(609),f=r(639),m=r(627),v=r(99),h=(r(37),r(28)),_=(r(111),r(24),r(63)),y={props:{isCreate:{type:Boolean,require:!0,default:!0},recordId:{type:Number,require:!1,default:0}},data:function(){return{form:{code:"",name:"",rate:1,isActive:!0},isloading:!1,nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=20||"Name must be less than 20 characters"}]}},created:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loadCurrency();case 1:case"end":return t.stop()}}),t)})))()},methods:{commitRecord:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()||e.isloading){t.next=12;break}if(e.isloading=!0,r=e.isCreate?"api/currency/create":"api/currency/update/".concat(e.recordId),console.log("API => ",r),!e.isCreate){t.next=9;break}return t.next=7,e.$axios.post(r,e.form).then((function(t){return e.refreshData(),Object(_.k)(e.$swal,"Succeed","Your transaction completed")})).catch((function(t){return console.log("Error: ",t),Object(_.j)(e.$swal,"Error","ເກີດຂໍ້ຜິດພາດ ກະລຸນາລອງໃຫມ່ ພາຍຫລັງ")}));case 7:t.next=11;break;case 9:return t.next=11,e.$axios.put(r,e.form).then((function(t){return e.refreshData(),Object(_.k)(e.$swal,"Succeed","Your transaction completed")})).catch((function(t){return console.log("Error: ",t),Object(_.j)(e.$swal,"Error","ເກີດຂໍ້ຜິດພາດ ກະລຸນາລອງໃຫມ່ ພາຍຫລັງ")}));case 11:e.isloading=!1;case 12:case"end":return t.stop()}}),t)})))()},loadCurrency:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("===> Update form record load"),!e.recordId||e.isCreate){t.next=4;break}return t.next=4,e.$axios.get("api/currency/find/".concat(e.recordId)).then((function(t){e.form.name=t.data.name,e.form.code=t.data.code,e.form.rate=t.data.rate,e.form.isActive=t.data.isActive})).catch((function(e){console.log("Cannot fetch data "+e)}));case 4:case"end":return t.stop()}}),t)})))()},refreshData:function(){this.$emit("reload-data")}},computed:{}},x=r(41),component=Object(x.a)(y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center"},[t(d.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.isloading,callback:function(t){e.isloading=t},expression:"isloading"}},[t("loading-indicator")],1),e._v(" "),t(o.a,{staticClass:"pa-4"},[t(c.d,[t("span",{staticClass:"text-h5"},[e._v("Currency ")])]),e._v(" "),t(c.c,[t(f.a,{ref:"form"},[t(v.a,{attrs:{label:"* Code",required:"",rules:e.nameRules},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),e._v(" "),t(v.a,{attrs:{label:"* ຊື່",required:"",rules:e.nameRules},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),t(v.a,{attrs:{label:"* ອັດຕາແລກປ່ຽນ",required:""},model:{value:e.form.rate,callback:function(t){e.$set(e.form,"rate",t)},expression:"form.rate"}}),e._v(" "),t(l.a,{attrs:{label:"Is Active"},model:{value:e.form.isActive,callback:function(t){e.$set(e.form,"isActive",e._n(t))},expression:"form.isActive"}})],1),e._v(" "),t("small",[e._v("* ສະແດງເຖິງຟິວທີ່ຕ້ອງໃສ່ຂໍ້ມູນ")])],1),e._v(" "),t(c.a,[t(m.a),e._v(" "),t(n.a,{attrs:{color:"blue-darken-1",variant:"text"},on:{click:function(t){return e.$emit("close-dialog")}}},[e._v("\n                Close\n            ")]),e._v(" "),t(n.a,{attrs:{color:"blue-darken-1",variant:"text"},on:{click:e.commitRecord}},[e._v("\n                Save\n            ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{LoadingIndicator:r(301).default})},718:function(e,t,r){var content=r(789);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(17).default)("3fbbc39c",content,!0,{sourceMap:!1})},788:function(e,t,r){"use strict";r(718)},789:function(e,t,r){var n=r(16)((function(i){return i[1]}));n.push([e.i,'.grey[data-v-1e1139e7],.text-h5[data-v-1e1139e7]{font-family:"Noto Sans Lao"}table[data-v-1e1139e7]{border:1px solid #000}',""]),n.locals={},e.exports=n},868:function(e,t,r){"use strict";r.r(t);var n=r(179),o=r(288),c=r(44),l=r(629),d=r(633),f=r(609),m=r(286),v=r(655),h=r(99),_=(r(34),r(187),r(53),r(5),r(37),r(65),r(52),r(9),r(79),r(90),r(61),r(28)),y=(r(111),r(63)),x=r(688),w=r(656),k=r(661),C=r(645);function j(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var O={components:{OrderDetailPos:w.default,OrderSumaryCardPos:C.default,OrderDetailPosCRUD:k.default,CurrencyForm:x.default},middleware:"auths",data:function(){return{componentKey:0,currencyDialogForm:!1,isCreate:!0,dialog:!1,isloading:!1,search:"",currencyList:[],currencySelected:"",headers:[{text:"#",align:"center",value:"pk",sortable:!0},{text:"ລະຫັດ",align:"center",value:"code",sortable:!0},{text:"ຊື່",align:"center",value:"name",sortable:!0},{text:"ອັດຕາແລກປ່ຽນ",align:"center",value:"rate",sortable:!0},{text:"View/Update",align:"end",value:"id",sortable:!1}]}},created:function(){var e=this;return Object(_.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadData();case 2:case"end":return t.stop()}}),t)})))()},computed:{},methods:{getFormatNum:function(e){return(new Intl.NumberFormat).format(e)},viewRecord:function(e){this.componentKey+=1,this.currencySelected=e.id,this.isCreate=!1,this.currencyDialogForm=!0},createRecord:function(){this.componentKey+=1,this.currencySelected=0,this.isCreate=!0,this.currencyDialogForm=!0},loadData:function(){var e=this;return Object(_.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isloading){t.next=2;break}return t.abrupt("return");case 2:return e.isloading=!0,t.next=5,e.$axios.get("api/currency/find").then((function(t){e.currencyList=[];var r,n=j(t.data);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.pk=o.id,e.currencyList.push(o)}}catch(e){n.e(e)}finally{n.f()}console.log("====> "+e.currencyList.length)})).catch((function(t){Object(y.j)(e.$swal,"Error","Could no load data "+t.Error),console.log("Error ===>: "+t)}));case 5:e.isloading=!1;case 6:case"end":return t.stop()}}),t)})))()}}},S=(r(788),r(41)),component=Object(S.a)(O,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center"},[t(f.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.isloading,callback:function(t){e.isloading=t},expression:"isloading"}},[t("loading-indicator")],1),e._v(" "),t(f.a,{attrs:{"max-width":"1024"},model:{value:e.currencyDialogForm,callback:function(t){e.currencyDialogForm=t},expression:"currencyDialogForm"}},[t("currency-form",{key:e.componentKey,attrs:{isCreate:e.isCreate,recordId:e.currencySelected},on:{"reload-data":function(t){e.loadData(),e.currencyDialogForm=!1},"close-dialog":function(t){e.currencyDialogForm=!1}}})],1),e._v(" "),t(o.a,[t(c.d,[t(v.a,{attrs:{row:"",wrap:""}},[t(l.a,{attrs:{cols:"6"}}),e._v(" "),t(l.a,{attrs:{cols:"6"}},[t(h.a,{attrs:{"append-icon":"mdi-magnify",label:"ຊອກຫາ","single-line":"","hide-detailsx":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),t(l.a,{staticClass:"text-left",attrs:{cols:"6"}},[t(n.a,{staticClass:"primary",attrs:{size:"large",variant:"outlined",rounded:""},on:{click:e.createRecord}},[t("span",{staticClass:"mdi mdi-plus"}),e._v("Create\n          ")])],1),e._v(" "),t(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[t(n.a,{staticClass:"primary",attrs:{size:"large",variant:"outlined",rounded:""},on:{click:e.loadData}},[t("span",{staticClass:"mdi mdi-cloud-download"}),e._v("\n            ໂຫຼດຂໍ້ມູນ\n          ")])],1)],1)],1),e._v(" "),t(m.a),e._v(" "),e.currencyList?t(d.a,{attrs:{headers:e.headers,search:e.search,items:e.currencyList},scopedSlots:e._u([{key:"item.rate",fn:function(t){var r=t.item;return[e._v("\n        "+e._s(e.getFormatNum(r.rate))+"\n      ")]}},{key:"item.id",fn:function(r){var o=r.item;return[t(n.a,{attrs:{color:"primary",text:""},on:{click:function(t){e.viewRecord(o),e.wallet=!0}}},[t("i",{staticClass:"fa fa-pencil-square-o"})])]}}],null,!0)}):e._e()],1)],1)}),[],!1,null,"1e1139e7",null);t.default=component.exports;installComponents(component,{LoadingIndicator:r(301).default,CurrencyForm:r(688).default})}}]);