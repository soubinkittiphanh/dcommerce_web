(window.webpackJsonp=window.webpackJsonp||[]).push([[247],{1307:function(t,e,n){var content=n(1645);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("02273e41",content,!0,{sourceMap:!1})},1644:function(t,e,n){"use strict";n(1307)},1645:function(t,e,n){var r=n(14)((function(i){return i[1]}));r.push([t.i,".bank-account-settlement-report[data-v-f104358c]{padding:0}.report-header[data-v-f104358c]{align-items:center;border-radius:8px;display:flex;justify-content:space-between;margin-bottom:24px;padding:24px}.title-section h1[data-v-f104358c]{font-size:28px;font-weight:600;margin:0}.title-section p[data-v-f104358c]{font-size:14px;margin:8px 0 0;opacity:.9}.action-buttons[data-v-f104358c]{display:flex;gap:16px}.custom-btn[data-v-f104358c]{border:1px solid #fff!important;color:#01532b!important;font-weight:500!important;text-transform:none!important}.custom-btn[data-v-f104358c]:hover{background-color:#fff!important;color:#01532b!important}.filter-card[data-v-f104358c]{background:#fff;border-radius:8px}.filter-title[data-v-f104358c]{background:#01532b;color:#fff;font-weight:600}.custom-primary-bg[data-v-f104358c]{background-color:#01532b!important}.custom-secondary-btn[data-v-f104358c]{background-color:#6c757d!important;color:#fff!important;font-weight:500!important;text-transform:none!important}.custom-secondary-btn[data-v-f104358c]:hover{background-color:#5a6268!important}.summary-cards[data-v-f104358c]{margin-bottom:24px}.summary-card[data-v-f104358c]{border-radius:8px;height:140px;overflow:hidden;position:relative}.summary-card[data-v-f104358c]:hover{transform:translateY(-2px)}.summary-content[data-v-f104358c]{align-items:center;display:flex;height:100%;position:relative;z-index:2}.summary-icon[data-v-f104358c]{color:#fff;font-size:48px;margin-right:16px;opacity:.9}.summary-details h3[data-v-f104358c]{color:#fff;font-size:16px;font-weight:600;margin:0}.summary-details p[data-v-f104358c]{color:hsla(0,0%,100%,.9);font-size:12px;margin:4px 0}.summary-details h2[data-v-f104358c]{color:#fff;font-size:24px;font-weight:700;margin:8px 0 0}.summary-lcy[data-v-f104358c]{color:hsla(0,0%,100%,.9);font-size:11px;margin-top:4px!important;opacity:.9}.amount-card[data-v-f104358c],.lak-card[data-v-f104358c],.settlement-card[data-v-f104358c],.total-accounts-card[data-v-f104358c]{background:#01532b;color:#fff}.currency-breakdown[data-v-f104358c]{margin-bottom:24px}.currency-title[data-v-f104358c]{background:#01532b;color:#fff;font-weight:600}.currency-card[data-v-f104358c]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;height:100%;padding:16px;text-align:center;transition:all .3s ease}.currency-card[data-v-f104358c]:hover{border-color:#01532b;box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.currency-header[data-v-f104358c]{align-items:center;display:flex;justify-content:space-between;margin-bottom:12px}.currency-flag[data-v-f104358c]{font-size:24px}.currency-stats[data-v-f104358c]{text-align:center}.original-amount[data-v-f104358c]{color:#01532b;font-family:monospace;font-size:18px;font-weight:700;margin-bottom:4px}.lak-equivalent[data-v-f104358c]{color:#228b22;font-family:monospace;font-size:14px;font-weight:600;margin-bottom:8px}.settlement-count[data-v-f104358c]{color:#666;font-size:12px;margin-bottom:4px}.percentage[data-v-f104358c]{color:#999;font-size:11px}.banking-table[data-v-f104358c]{background:#fff}.banking-table-header[data-v-f104358c],.banking-table-header th[data-v-f104358c]{background-color:#01532b!important}.banking-table-header th[data-v-f104358c]{border-bottom:none!important;color:#fff!important;padding:12px 8px!important}.banking-row-even[data-v-f104358c]{background-color:#f8f9fa}.banking-row-special[data-v-f104358c]{background-color:#fff3cd;font-style:italic}.banking-table-footer[data-v-f104358c]{background-color:#e9ecef!important;font-weight:700}.banking-table-footer td[data-v-f104358c]{background-color:#e9ecef!important;border-top:2px solid #01532b!important;padding:12px 8px!important}.banking-divider[data-v-f104358c]{border-color:#01532b!important;opacity:.3!important}.banking-primary--text[data-v-f104358c]{color:#01532b!important}.banking-success--text[data-v-f104358c]{color:#28a745!important}.report-card[data-v-f104358c]{border-radius:12px}.report-header[data-v-f104358c]{background:#01532b;color:#fff;font-weight:600}.search-field[data-v-f104358c] .v-label{color:hsla(0,0%,100%,.7)!important}.search-field[data-v-f104358c] .v-input__control{border-color:hsla(0,0%,100%,.3)!important}.table-card[data-v-f104358c]{border-radius:8px;margin-bottom:24px}.table-title[data-v-f104358c]{background:#01532b;color:#fff;font-weight:600}.search-field[data-v-f104358c]{max-width:300px}.search-field[data-v-f104358c] .v-icon,.search-field[data-v-f104358c] input{color:#fff!important}.bank-account-card[data-v-f104358c]{border-radius:8px;cursor:pointer;height:100%;transition:all .3s ease}.bank-account-card[data-v-f104358c]:hover{box-shadow:0 8px 25px rgba(1,83,43,.2)!important;transform:translateY(-4px)}.bank-account-card.selected[data-v-f104358c]{border:2px solid #01532b}.bank-account-header[data-v-f104358c]{align-items:flex-start;display:flex;justify-content:space-between}.bank-info h3[data-v-f104358c]{color:#333;font-size:16px;font-weight:600;margin:0}.bank-account-number[data-v-f104358c]{color:#01532b;font-family:monospace;font-size:12px;font-weight:600;margin:4px 0}.bank-name[data-v-f104358c]{color:#666;font-size:11px;font-style:italic;margin:0}.bank-icon[data-v-f104358c]{color:#01532b;font-size:24px;opacity:.7}.bank-stats[data-v-f104358c]{margin-top:12px}.stat-item[data-v-f104358c]{align-items:center;display:flex;justify-content:space-between;margin-bottom:8px}.stat-label[data-v-f104358c]{color:#666;font-size:12px}.stat-value[data-v-f104358c]{font-size:13px;font-weight:600}.amount-value[data-v-f104358c]{color:#01532b}.count-value[data-v-f104358c]{color:#228b22}.average-value[data-v-f104358c]{color:#32cd32}.progress-section[data-v-f104358c]{margin-top:12px}.progress-label[data-v-f104358c]{color:#666;font-size:11px;margin-bottom:4px}.no-data-state[data-v-f104358c]{padding:48px 24px;text-align:center}.no-data-icon[data-v-f104358c]{color:#ccc;font-size:64px;margin-bottom:16px}.no-data-title[data-v-f104358c]{color:#666;font-size:18px;margin:0 0 8px}.no-data-subtitle[data-v-f104358c]{color:#999;font-size:14px;margin:0}.dialog-header[data-v-f104358c]{background:#01532b!important;font-weight:600!important}.close-btn[data-v-f104358c],.dialog-header[data-v-f104358c]{color:#fff!important}.section-title[data-v-f104358c]{color:#01532b;font-size:18px;font-weight:600;margin:0}.custom-divider[data-v-f104358c]{border-color:#01532b!important;opacity:.3!important}.detail-stat[data-v-f104358c]{align-items:center;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-left:4px solid #01532b;border-radius:12px;display:flex;height:100%;padding:16px;transition:all .3s ease}.detail-stat[data-v-f104358c]:hover{box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.stat-icon[data-v-f104358c]{color:#01532b;font-size:24px;margin-right:12px}.stat-info strong[data-v-f104358c]{color:#01532b;display:block;font-size:12px;font-weight:700;margin-bottom:4px}.stat-number[data-v-f104358c]{color:#333;font-family:monospace;font-size:16px;font-weight:600;margin:0}.method-card[data-v-f104358c]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-left:4px solid #01532b;border-radius:12px;padding:16px;text-align:center;transition:all .3s ease}.method-card[data-v-f104358c]:hover{box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.method-header[data-v-f104358c]{margin-bottom:12px}.method-count[data-v-f104358c]{color:#666;font-size:14px;margin-bottom:4px}.method-amount[data-v-f104358c]{color:#01532b;font-family:monospace;font-size:18px;font-weight:600}.settlement-table[data-v-f104358c]{background:#fff}.settlement-table[data-v-f104358c] thead th{background-color:#01532b!important;border-bottom:none!important;color:#fff!important;font-weight:600!important}.settlement-table[data-v-f104358c] tbody tr:hover{background-color:rgba(1,83,43,.1)!important}.date-cell[data-v-f104358c]{color:#01532b;font-family:monospace;font-size:13px}.amount-breakdown[data-v-f104358c]{align-items:center;display:flex;flex-direction:column}.amount-cell[data-v-f104358c]{font-family:monospace;font-size:13px;font-weight:600}.exchange-rate-cell[data-v-f104358c]{text-align:center}.exchange-rate-cell .default-rate[data-v-f104358c]{color:#999;font-style:italic}.lak-amount-cell[data-v-f104358c]{text-align:center}.lak-amount[data-v-f104358c]{color:#228b22;font-family:monospace;font-size:13px;font-weight:600}.user-info .user-name[data-v-f104358c]{font-weight:500}.advance-info .advance-status[data-v-f104358c]{color:#666;font-size:10px;margin-top:2px}.no-advance[data-v-f104358c]{color:#999;font-style:italic}.text-center[data-v-f104358c]{text-align:center}.py-8[data-v-f104358c]{padding:64px 0}.mt-4[data-v-f104358c]{margin-top:16px}.mt-3[data-v-f104358c]{margin-top:12px}.mt-2[data-v-f104358c]{margin-top:8px}.mb-4[data-v-f104358c]{margin-bottom:24px}.mb-3[data-v-f104358c]{margin-bottom:12px}.my-3[data-v-f104358c]{margin:12px 0}.pa-4[data-v-f104358c]{padding:24px}@media print{.action-buttons[data-v-f104358c],.filter-card[data-v-f104358c],.v-btn[data-v-f104358c]{display:none!important}.summary-cards[data-v-f104358c]{page-break-inside:avoid}.report-header[data-v-f104358c]{background:#01532b!important;color:#fff!important;-webkit-print-color-adjust:exact}}@media (max-width:768px){.report-header[data-v-f104358c]{flex-direction:column;gap:16px;padding:16px;text-align:center}.title-section h1[data-v-f104358c]{font-size:24px}.action-buttons[data-v-f104358c]{flex-wrap:wrap;justify-content:center}.summary-content[data-v-f104358c]{flex-direction:column;padding:12px;text-align:center}.summary-icon[data-v-f104358c]{font-size:40px;margin-bottom:8px;margin-right:0}.summary-details h2[data-v-f104358c]{font-size:20px}.bank-account-header[data-v-f104358c]{flex-direction:column;text-align:center}.bank-icon[data-v-f104358c]{margin-top:8px}.detail-stat[data-v-f104358c]{flex-direction:column;text-align:center}.stat-icon[data-v-f104358c]{margin-bottom:8px;margin-right:0}}",""]),r.locals={},t.exports=r},1872:function(t,e,n){"use strict";n.r(e);var r=n(321),o=n(318),c=n(19),l=n(322),d=n(796),f=n(805),m=n(770),v=n(317),h=n(168),x=n(251),_=n(795),y=n(66),k=n(436),C=n(793),w=n(112),A=(n(34),n(130),n(35),n(17)),D=n(36),S=(n(85),n(5),n(837),n(54),n(838),n(839),n(840),n(841),n(842),n(843),n(844),n(845),n(846),n(847),n(848),n(849),n(850),n(851),n(852),n(853),n(53),n(8),n(10),n(9),n(38),n(52),n(30),n(39),n(208),n(448),n(64),n(353)),B={name:"BankAccountSettlementReport",head:function(){return{title:"Bank Account Settlement Reports"}},data:function(){return{bankAccounts:[],loading:!1,exporting:!1,loadingDetails:!1,search:"",settlementDialog:!1,bankAccountStats:[],selectedBankAccount:null,selectedSettlements:[],settlementSummary:{totalAmount:0,settlementCount:0,averageAmount:0},methodDistribution:[],filters:{startDate:null,endDate:null,method:"",currencyId:null},settlementMethods:[{text:"‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î (All Methods)",value:""},{text:"‡ªÄ‡∫á‡∫¥‡∫ô‡∫™‡∫ª‡∫î (Cash)",value:"cash"},{text:"‡ªÇ‡∫≠‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô‡∫ú‡ªà‡∫≤‡∫ô‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô (Bank Transfer)",value:"bank_transfer"},{text:"‡∫´‡∫±‡∫Å‡∫•‡∫ª‡∫ö (Deduction)",value:"deduction"}],currencyOptions:[{text:"‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î‡∫™‡∫∞‡∫Å‡∫∏‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô (All Currencies)",value:null},{text:"‡∫•‡∫≤‡∫ß‡∫Å‡∫µ‡∫ö (LAK)",value:1},{text:"‡ªÇ‡∫î‡∫•‡∫≤‡∫≠‡∫≤‡ªÄ‡∫°‡∫•‡∫¥‡∫Å‡∫±‡∫ô (USD)",value:2},{text:"‡∫ö‡∫≤‡∫î‡ªÑ‡∫ó (THB)",value:3},{text:"‡∫¢‡∫ß‡∫ô‡∫à‡∫µ‡∫ô (CNY)",value:4},{text:"‡ªÄ‡∫≠‡∫µ‡ªÇ‡∫£ (EUR)",value:5}],currencyBreakdown:[],currencyList:[],settlementHeaders:[{text:"‡∫ß‡∫±‡∫ô‡∫ó‡∫µ",value:"bookingDate",width:"120px"},{text:"‡∫™‡∫∞‡∫Å‡∫∏‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô",value:"currency",width:"80px"},{text:"‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô‡∫ï‡∫ª‡ªâ‡∫ô",value:"amount",width:"130px"},{text:"‡∫≠‡∫±‡∫î‡∫ï‡∫≤‡ªÅ‡∫•‡∫Å‡∫õ‡ªà‡∫Ω‡∫ô",value:"exchangeRate",width:"100px"},{text:"‡ªÄ‡∫ó‡∫ª‡ªà‡∫≤‡∫Å‡∫±‡∫ö‡∫•‡∫≤‡∫ß‡∫Å‡∫µ‡∫ö",value:"lakAmount",width:"130px"},{text:"‡∫ß‡∫¥‡∫ó‡∫µ‡∫Å‡∫≤‡∫ô",value:"method",width:"120px"},{text:"‡∫ú‡∫π‡ªâ‡∫î‡∫≥‡ªÄ‡∫ô‡∫µ‡∫ô‡∫Å‡∫≤‡∫ô",value:"proceeder",width:"150px"},{text:"‡ªÄ‡∫á‡∫¥‡∫ô‡∫Å‡ªà‡∫≠‡∫ô",value:"moneyAdvance",width:"120px"},{text:"‡∫à‡∫±‡∫î‡∫Å‡∫≤‡∫ô",value:"actions",sortable:!1,width:"100px"}]}},computed:{uniqueCurrencies:function(){var t=new Set;return this.bankAccountStats.forEach((function(e){Object.keys(e.amounts||{}).forEach((function(e){t.add(e)}))})),t.size},totalLakAmount:function(){return this.bankAccountStats.reduce((function(t,e){return t+(e.totalLak||0)}),0)},filteredBankAccounts:function(){var t=this;return this.search?this.bankAccountStats.filter((function(e){var n,r,o,c;return(null===(n=e.bankAccount)||void 0===n||null===(r=n.accountName)||void 0===r?void 0:r.toLowerCase().includes(t.search.toLowerCase()))||(null===(o=e.bankAccount)||void 0===o||null===(c=o.accountNumber)||void 0===c?void 0:c.includes(t.search))})):this.bankAccountStats},totalSettlementsCount:function(){return this.bankAccountStats.reduce((function(t,e){return t+parseInt(e.count||0)}),0)},totalAmount:function(){return this.bankAccountStats.reduce((function(t,e){return t+parseFloat(e.totalLak||0)}),0)},averageAmount:function(){return this.totalSettlementsCount>0?this.totalAmount/this.totalSettlementsCount:0},maxAmount:function(){return Math.max.apply(Math,Object(D.a)(this.bankAccountStats.map((function(t){return parseFloat(t.totalLak||0)}))).concat([0]))}},mounted:function(){this.setDefaultDates(),this.loadDashboardData(),this.loadInitialData()},methods:{loadInitialData:function(){var t=this;return Object(A.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/bank_account/find");case 3:n=e.sent,t.bankAccounts=n.data.data||n.data,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading bank accounts:",e.t0),t.$toast.error("Error loading initial data");case 11:return e.prev=11,e.next=14,t.$axios.get("/api/currency/find");case 14:r=e.sent,o=r.data.data||r.data,t.currencyList=o.map((function(t){return{code:t.code,name:t.name,id:t.id}})),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(11),console.error("Error loading currency accounts:",e.t1),t.$toast.error("Error loading initial data");case 23:case"end":return e.stop()}}),e,null,[[0,7],[11,19]])})))()},groupSettlementsByBankAccount:function(t){var e={};return t.forEach((function(t){var n,r=t.bankAccountId||"NO_BANK_ACCOUNT";e[r]||(e[r]={bankAccountId:r,bankAccount:t.bankAccount||{accountNumber:"N/A",accountName:"Unknown Account",bankName:"N/A",accountType:"Bank"},count:0,amounts:{},totalLak:0});var o=e[r];o.count+=1;var c=(null===(n=t.currency)||void 0===n?void 0:n.code)||"LAK";o.amounts[c]||(o.amounts[c]=0),o.amounts[c]+=parseFloat(t.amount||0);var l=t.exchangeRate||1,d=parseFloat(t.amount||0)*l;o.totalLak+=d})),Object.values(e)},loadDashboardData:function(){var t=this;return Object(A.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,n=new URLSearchParams,t.filters.startDate&&n.append("fromDate",t.filters.startDate),t.filters.endDate&&n.append("toDate",t.filters.endDate),t.filters.method&&n.append("method",t.filters.method),t.filters.bankAccountId&&n.append("bankAccountId",t.filters.bankAccountId),e.next=9,t.$axios.get("/api/settlements?".concat(n));case 9:if(!(r=e.sent).data.success){e.next=16;break}return console.info("DATA FROM API: ".concat(JSON.stringify(r.data.data))),o=r.data.data.settlements||[],t.bankAccountStats=t.groupSettlementsByBankAccount(o),e.next=16,t.calculateCurrencyBreakdown();case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.error("Error loading dashboard data:",e.t0),t.$toast.error("Failed to load bank account reports");case 22:return e.prev=22,t.loading=!1,e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,18,22,25]])})))()},getCurrencyColor:function(t){return{LAK:"#01532B",USD:"#228B22",THB:"#32CD32",CNY:"#006400",EUR:"#9ACD32",JPY:"#00FA9A",GBP:"#66CDAA",KRW:"#20B2AA"}[t]||"#01532B"},getCurrencyFlag:function(t){return{LAK:"üá±üá¶",USD:"üá∫üá∏",THB:"üáπüá≠",CNY:"üá®üá≥",EUR:"üá™üá∫",JPY:"üáØüáµ",GBP:"üá¨üáß",KRW:"üá∞üá∑"}[t]||"üè≥Ô∏è"},calculateLakAmount:function(t,e){return t?t*(e||1):0},formatCurrency:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";if(!t)return"0.00";var n=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t);return"LAK"===e?n+" ‚Ç≠":"USD"===e?"$"+n:"THB"===e?n+" ‡∏ø":"CNY"===e?"¬•"+n:"EUR"===e?"‚Ç¨"+n:n+" "+e},setDefaultDates:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1);this.filters.startDate=e.toISOString().substr(0,10),this.filters.endDate=t.toISOString().substr(0,10)},calculateCurrencyBreakdown:function(){var t=this;return Object(A.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new URLSearchParams,t.filters.startDate&&n.append("startDate",t.filters.startDate),t.filters.endDate&&n.append("endDate",t.filters.endDate),t.filters.method&&n.append("method",t.filters.method),t.filters.currencyId&&n.append("currencyId",t.filters.currencyId),e.next=8,t.$axios.get("/api/settlements/currency-breakdown?".concat(n));case 8:(r=e.sent).data.success&&(t.currencyBreakdown=r.data.data.currencies||[]),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error calculating currency breakdown:",e.t0),t.currencyBreakdown=[];case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()},selectBankAccount:function(t){var e=this;return Object(A.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loadingDetails=!0,e.settlementDialog=!0,n.prev=2,n.next=5,e.$axios.get("/api/settlements/by-bank-account/".concat(t));case 5:(r=n.sent).data.success&&(e.selectedSettlements=r.data.data.settlements,e.settlementSummary=r.data.data.summary,o=e.bankAccountStats.find((function(s){return s.bankAccountId==t})),e.selectedBankAccount=o?o.bankAccount:null,e.calculateMethodDistribution()),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),console.error("Error loading bank account settlements:",n.t0),e.$toast.error("Failed to load settlement details");case 13:return n.prev=13,e.loadingDetails=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,9,13,16]])})))()},calculateMethodDistribution:function(){var t={};this.selectedSettlements.forEach((function(e){t[e.method]||(t[e.method]={count:0,total:0}),t[e.method].count++,t[e.method].total+=parseFloat(e.amount)})),this.methodDistribution=Object.keys(t).map((function(e){return{method:e,count:t[e].count,total:t[e].total}}))},resetFilters:function(){this.filters={startDate:null,endDate:null,method:"",currencyId:null},this.setDefaultDates(),this.loadDashboardData()},closeDialog:function(){this.settlementDialog=!1,this.selectedBankAccount=null,this.selectedSettlements=[],this.methodDistribution=[]},exportToExcel:function(){var t=this;return Object(A.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,d,f,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.exporting=!0;try{n=S.utils.book_new(),r=[["Bank Account Settlement Report"],["Report Period: ".concat(t.filters.startDate||"All"," to ").concat(t.filters.endDate||"All")],["Generated on: ".concat((new Date).toLocaleDateString())],[""],["Summary Statistics"],["Total Bank Accounts: ".concat(t.bankAccountStats.length)],["Total Settlements: ".concat(t.totalSettlementsCount)],["Total Amount (LAK): ".concat(t.formatCurrency(t.totalLakAmount,"LAK"))],["Unique Currencies: ".concat(t.uniqueCurrencies)],[""],["Account Details"]],o=["#","Account Number","Account Name","Bank Name","Type","Settlement Count"],t.currencyList.forEach((function(t){o.push("".concat(t.code," Amount"))})),o.push("Total (LAK)"),r.push(o),t.filteredBankAccounts.forEach((function(e,n){var o,c,l,d,f=[n+1,(null===(o=e.bankAccount)||void 0===o?void 0:o.accountNumber)||"N/A",(null===(c=e.bankAccount)||void 0===c?void 0:c.accountName)||"Unknown Account",(null===(l=e.bankAccount)||void 0===l?void 0:l.bankName)||"N/A",(null===(d=e.bankAccount)||void 0===d?void 0:d.accountType)||"Bank",e.count];t.currencyList.forEach((function(t){var n;f.push((null===(n=e.amounts)||void 0===n?void 0:n[t.code])||0)})),f.push(e.totalLak||0),r.push(f)})),c=["","","","","TOTAL",t.totalSettlementsCount],t.currencyList.forEach((function(e){c.push(t.getCurrencyTotal(e.code))})),c.push(t.totalLakAmount),r.push(c),l=S.utils.aoa_to_sheet(r),d=[{wch:5},{wch:18},{wch:25},{wch:20},{wch:12},{wch:15}],t.currencyList.forEach((function(){d.push({wch:15})})),d.push({wch:18}),l["!cols"]=d,S.utils.book_append_sheet(n,l,"Bank Account Summary"),t.currencyBreakdown.length>0&&(f=[["Currency Breakdown Report"],[""],["Currency","Total Amount (Original)","LAK Equivalent","Settlement Count","Percentage"]],t.currencyBreakdown.forEach((function(e){f.push([e.currencyCode||"LAK",e.totalAmount||0,e.lakEquivalent||0,e.count||0,"".concat(Math.round(e.lakEquivalent/t.totalLakAmount*100),"%")])})),(m=S.utils.aoa_to_sheet(f))["!cols"]=[{wch:12},{wch:20},{wch:18},{wch:15},{wch:12}],S.utils.book_append_sheet(n,m,"Currency Breakdown")),v="bank-account-settlement-report-".concat(t.filters.startDate||"all","-").concat(t.filters.endDate||"all",".xlsx"),S.writeFile(n,v),t.$toast.success("Report exported successfully!")}catch(e){console.error("Error exporting report:",e),t.$toast.error("Error exporting report: "+e.message)}finally{t.exporting=!1}case 2:case"end":return e.stop()}}),e)})))()},printReport:function(){window.print()},viewSettlement:function(t){this.$router.push("/settlements/".concat(t))},formatExchangeRate:function(t){return t?new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(t):"1.0000"},formatDate:function(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""},formatMethod:function(t){return{cash:"‡ªÄ‡∫á‡∫¥‡∫ô‡∫™‡∫ª‡∫î (Cash)",bank_transfer:"‡ªÇ‡∫≠‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô (Transfer)",deduction:"‡∫´‡∫±‡∫Å‡∫•‡∫ª‡∫ö (Deduction)"}[t]||t},getCurrencyTotal:function(t){return this.bankAccountStats.reduce((function(e,n){var r;return e+((null===(r=n.amounts)||void 0===r?void 0:r[t])||0)}),0)},getMethodColor:function(t){return{cash:"#01532B",bank_transfer:"#228B22",deduction:"#32CD32"}[t]||"#01532B"}}},N=B,L=(n(1644),n(31)),component=Object(L.a)(N,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bank-account-settlement-report"},[e("div",{staticClass:"report-header"},[t._m(0),t._v(" "),e("div",{staticClass:"action-buttons"},[e(r.a,{staticClass:"custom-btn export-btn",attrs:{loading:t.exporting},on:{click:t.exportToExcel}},[e("i",{staticClass:"fas fa-file-excel"}),t._v("\n        Export Excel\n      ")]),t._v(" "),e(r.a,{staticClass:"custom-btn print-btn",on:{click:t.printReport}},[e("i",{staticClass:"fas fa-print"}),t._v("\n        Print\n      ")])],1)]),t._v(" "),e(o.a,{staticClass:"filter-card mb-4",attrs:{elevation:"2"}},[e(c.d,{staticClass:"filter-title d-flex align-center"},[e(h.a,{staticClass:"mr-2"},[t._v("mdi-filter")]),t._v("\n      ‡∫ï‡∫ª‡∫ß‡∫Å‡∫≠‡∫á (Filters)\n    ")],1),t._v(" "),e(c.c,{staticClass:"pa-4"},[e(_.a,[e(d.a,{attrs:{cols:"12",md:"3"}},[e(w.a,{attrs:{type:"date",label:"‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡ªÄ‡∫•‡∫µ‡ªà‡∫°‡∫ï‡∫ª‡ªâ‡∫ô (From Date)",outlined:"",dense:""},on:{change:t.loadDashboardData},model:{value:t.filters.startDate,callback:function(e){t.$set(t.filters,"startDate",e)},expression:"filters.startDate"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(w.a,{attrs:{type:"date",label:"‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡∫™‡∫¥‡ªâ‡∫ô‡∫™‡∫∏‡∫î (To Date)",outlined:"",dense:""},on:{change:t.loadDashboardData},model:{value:t.filters.endDate,callback:function(e){t.$set(t.filters,"endDate",e)},expression:"filters.endDate"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"4"}},[e(y.a,{attrs:{items:t.bankAccounts,"item-text":"accountName","item-value":"id",label:"‡∫ö‡∫±‡∫ô‡∫ä‡∫µ‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô (Bank Account)",clearable:"",outlined:"",dense:""},on:{change:t.loadDashboardData},scopedSlots:t._u([{key:"selection",fn:function(n){var r=n.item;return[e("div",{staticClass:"bank-account-selection"},[e("span",{staticClass:"bank-name"},[t._v(t._s(r.accountName))]),t._v(" "),e("small",[t._v(t._s(r.bankName)+" - "+t._s(r.accountNumber))])])]}},{key:"item",fn:function(n){var r=n.item;return[e("div",{staticClass:"bank-account-item"},[e("div",{staticClass:"bank-name"},[t._v(t._s(r.accountName))]),t._v(" "),e("div",{staticClass:"bank-details"},[t._v("\n                  "+t._s(r.bankName)+" - "+t._s(r.accountNumber)+"\n                ")])])]}}]),model:{value:t.filters.bankAccountId,callback:function(e){t.$set(t.filters,"bankAccountId",e)},expression:"filters.bankAccountId"}})],1)],1),t._v(" "),e(_.a,{staticClass:"mt-2"},[e(d.a,{attrs:{cols:"12",md:"3"}},[e(r.a,{staticClass:"custom-primary-bg white--text",attrs:{block:"",outlined:"",loading:t.loading},on:{click:t.loadDashboardData}},[e(h.a,{attrs:{left:"",color:"white"}},[t._v("mdi-refresh")]),t._v("\n            Refresh\n          ")],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(r.a,{staticClass:"custom-secondary-btn",attrs:{block:"",outlined:"",color:"grey lighten-1"},on:{click:t.resetFilters}},[e(h.a,{attrs:{left:""}},[t._v("mdi-restore")]),t._v("\n            Reset\n          ")],1)],1)],1)],1)],1),t._v(" "),t.loading?t._e():e(_.a,{staticClass:"summary-cards mb-4"},[e(d.a,{attrs:{cols:"12",md:"3"}},[e(o.a,{staticClass:"summary-card total-accounts-card",attrs:{elevation:"4"}},[e(c.c,[e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-university"})]),t._v(" "),e("div",{staticClass:"summary-details"},[e("h3",{staticClass:"summary-title"},[t._v("‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î‡∫ö‡∫±‡∫ô‡∫ä‡∫µ")]),t._v(" "),e("p",{staticClass:"summary-subtitle"},[t._v("Total Accounts")]),t._v(" "),e("h2",{staticClass:"summary-amount"},[t._v(t._s(t.bankAccountStats.length))]),t._v(" "),e("p",{staticClass:"summary-lcy"},[t._v("Active Bank Accounts")])])])])],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(o.a,{staticClass:"summary-card settlement-card",attrs:{elevation:"4"}},[e(c.c,[e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-money-bill-wave"})]),t._v(" "),e("div",{staticClass:"summary-details"},[e("h3",{staticClass:"summary-title"},[t._v("‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞")]),t._v(" "),e("p",{staticClass:"summary-subtitle"},[t._v("Total Settlements")]),t._v(" "),e("h2",{staticClass:"summary-amount"},[t._v(t._s(t.totalSettlementsCount))]),t._v(" "),e("p",{staticClass:"summary-lcy"},[t._v("Settlement Count")])])])])],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(o.a,{staticClass:"summary-card amount-card",attrs:{elevation:"4"}},[e(c.c,[e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-coins"})]),t._v(" "),e("div",{staticClass:"summary-details"},[e("h3",{staticClass:"summary-title"},[t._v("‡∫•‡∫ß‡∫°‡∫ó‡∫∏‡∫Å‡∫™‡∫∞‡∫Å‡∫∏‡∫ô")]),t._v(" "),e("p",{staticClass:"summary-subtitle"},[t._v("Multi-Currency Total")]),t._v(" "),e("h2",{staticClass:"summary-amount"},[t._v(t._s(t.uniqueCurrencies))]),t._v(" "),e("p",{staticClass:"summary-lcy"},[t._v(t._s(t.uniqueCurrencies)+" Currencies")])])])])],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"3"}},[e(o.a,{staticClass:"summary-card lak-card",attrs:{elevation:"4"}},[e(c.c,[e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"fas fa-calculator"})]),t._v(" "),e("div",{staticClass:"summary-details"},[e("h3",{staticClass:"summary-title"},[t._v("‡∫•‡∫≤‡∫ß‡∫Å‡∫µ‡∫ö (LAK)")]),t._v(" "),e("p",{staticClass:"summary-subtitle"},[t._v("Total LAK Equivalent")]),t._v(" "),e("h2",{staticClass:"summary-amount"},[t._v("\n                "+t._s(t.formatCurrency(t.totalLakAmount,"LAK"))+"\n              ")]),t._v(" "),e("p",{staticClass:"summary-lcy"},[t._v("Local Currency")])])])])],1)],1)],1),t._v(" "),!t.loading&&t.currencyBreakdown.length>0?e(_.a,{staticClass:"currency-breakdown mb-4"},[e(d.a,{attrs:{cols:"12"}},[e(o.a,{attrs:{elevation:"2"}},[e(c.d,{staticClass:"currency-title"},[e("i",{staticClass:"fas fa-coins"}),t._v("\n          ‡∫Å‡∫≤‡∫ô‡ªÅ‡∫à‡∫Å‡∫¢‡∫≤‡∫ç‡∫ï‡∫≤‡∫°‡∫™‡∫∞‡∫Å‡∫∏‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô (Currency Breakdown)\n        ")]),t._v(" "),e(c.c,[e(_.a,t._l(t.currencyBreakdown,(function(n){return e(d.a,{key:n.currencyCode||n.currencyId,attrs:{cols:"12",md:"4",lg:"3"}},[e("div",{staticClass:"currency-card"},[e("div",{staticClass:"currency-header"},[e(l.a,{attrs:{color:t.getCurrencyColor(n.currencyCode),"text-color":"white",large:""}},[t._v("\n                    "+t._s(n.currencyCode||"LAK")+"\n                  ")]),t._v(" "),e("div",{staticClass:"currency-flag"},[t._v("\n                    "+t._s(t.getCurrencyFlag(n.currencyCode))+"\n                  ")])],1),t._v(" "),e("div",{staticClass:"currency-stats"},[e("div",{staticClass:"original-amount"},[t._v("\n                    "+t._s(t.formatCurrency(n.totalAmount,n.currencyCode))+"\n                  ")]),t._v(" "),e("div",{staticClass:"lak-equivalent"},[t._v("\n                    ‚âà "+t._s(t.formatCurrency(n.lakEquivalent,"LAK"))+"\n                  ")]),t._v(" "),e("div",{staticClass:"settlement-count"},[t._v("\n                    "+t._s(n.count)+" ‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞\n                  ")]),t._v(" "),e("div",{staticClass:"percentage"},[t._v("\n                    "+t._s(Math.round(n.lakEquivalent/t.totalLakAmount*100))+"% ‡∫Ç‡∫≠‡∫á‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î\n                  ")])])])])})),1)],1)],1)],1)],1):t._e(),t._v(" "),t.loading?e("div",{staticClass:"text-center py-8"},[e(x.a,{attrs:{indeterminate:"",color:"#01532B",size:"64"}}),t._v(" "),e("p",{staticClass:"mt-4 text-gray-600"},[t._v("\n      ‡∫Å‡∫≥‡∫•‡∫±‡∫á‡ªÇ‡∫´‡∫•‡∫î‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô... Loading bank account reports...\n    ")])],1):t._e(),t._v(" "),e(_.a,{staticClass:"mb-4"},[e(d.a,{attrs:{cols:"12"}},[e(o.a,{staticClass:"rounded-xl report-card",attrs:{elevation:"2"}},[e(c.d,{staticClass:"banking-primary--text py-2 px-4 d-flex align-center report-header"},[e(h.a,{staticClass:"mr-2",attrs:{color:"#01532B"}},[t._v("mdi-bank")]),t._v(" "),e("span",{staticClass:"text-subtitle-1 font-weight-medium"},[t._v("\n            ‡∫•‡∫≤‡∫ç‡∫á‡∫≤‡∫ô ‡∫ï‡∫≤‡∫°‡∫ö‡∫±‡∫ô‡∫ä‡∫µ‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô\n          ")]),t._v(" "),e(C.a),t._v(" "),e(w.a,{staticClass:"search-field mr-4",staticStyle:{"max-width":"250px"},attrs:{"append-icon":"mdi-magnify",label:"‡∫Ñ‡∫ª‡ªâ‡∫ô‡∫´‡∫≤‡∫ö‡∫±‡∫ô‡∫ä‡∫µ...","single-line":"","hide-details":"",outlined:"",dense:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),e(r.a,{staticClass:"mr-2",attrs:{color:"#059669",small:"",outlined:"",disabled:!t.filteredBankAccounts.length,loading:t.exporting},on:{click:t.exportToExcel}},[e(h.a,{attrs:{small:"",left:""}},[t._v("mdi-file-excel")]),t._v("\n            Export Excel\n          ")],1),t._v(" "),e(r.a,{attrs:{icon:"",small:"",loading:t.loading,color:"#01532B"},on:{click:t.loadDashboardData}},[e(h.a,{attrs:{small:""}},[t._v("mdi-refresh")])],1)],1),t._v(" "),e(v.a,{staticClass:"banking-divider"}),t._v(" "),e(c.c,{staticClass:"pa-0"},[t.loading?e("div",{staticClass:"text-center py-6"},[e(x.a,{attrs:{indeterminate:"",color:"#01532B"}}),t._v(" "),e("div",{staticClass:"mt-2 text-caption"},[t._v("\n              Loading bank account report...\n            ")])],1):t.bankAccountStats.length?e(k.a,{staticClass:"banking-table",attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",{staticClass:"banking-table-header"},[e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("#")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("\n                    Account Number\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("\n                    Account Name\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("\n                    Bank Name\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold"},[t._v("\n                    Type\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold text-right"},[t._v("\n                    Count\n                  ")]),t._v(" "),t._l(t.currencyList,(function(n){return e("th",{key:"head-"+n.code,staticClass:"white--text text-caption font-weight-bold text-right"},[t._v("\n                    "+t._s(n.code)+"\n                  ")])})),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold text-right"},[t._v("\n                    Total (LAK)\n                  ")]),t._v(" "),e("th",{staticClass:"white--text text-caption font-weight-bold text-center"},[t._v("\n                    Actions\n                  ")])],2)]),t._v(" "),e("tbody",[t._l(t.filteredBankAccounts,(function(n,o){var c,d,f,m,v;return e("tr",{key:n.bankAccountId,class:{"banking-row-even":o%2==0,"banking-row-special":"NO_BANK_ACCOUNT"===n.bankAccountId}},[e("td",{staticClass:"text-caption text-center"},[t._v(t._s(o+1))]),t._v(" "),e("td",{staticClass:"text-body-2",class:{"grey--text":"NO_BANK_ACCOUNT"===n.bankAccountId}},[t._v("\n                    "+t._s((null===(c=n.bankAccount)||void 0===c?void 0:c.accountNumber)||"N/A")+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-body-2",class:{"grey--text font-italic":"NO_BANK_ACCOUNT"===n.bankAccountId}},[t._v("\n                    "+t._s((null===(d=n.bankAccount)||void 0===d?void 0:d.accountName)||"Unknown Account")+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-body-2",class:{"grey--text font-italic":"NO_BANK_ACCOUNT"===n.bankAccountId}},[t._v("\n                    "+t._s((null===(f=n.bankAccount)||void 0===f?void 0:f.bankName)||"N/A")+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-body-2"},[e(l.a,{attrs:{"x-small":"",color:"Cash"===(null===(m=n.bankAccount)||void 0===m?void 0:m.accountType)?"#F59E0B":"#01532B","text-color":"white"}},[t._v("\n                      "+t._s((null===(v=n.bankAccount)||void 0===v?void 0:v.accountType)||"Bank")+"\n                    ")])],1),t._v(" "),e("td",{staticClass:"text-body-2 text-right"},[e(l.a,{attrs:{"x-small":"",color:"#228B22","text-color":"white"}},[t._v("\n                      "+t._s(n.count)+"\n                    ")])],1),t._v(" "),t._l(t.currencyList,(function(r){var o;return e("td",{key:"amt-"+r.code,staticClass:"text-body-2 text-right"},[t._v("\n                    "+t._s(t.formatCurrency((null===(o=n.amounts)||void 0===o?void 0:o[r.code])||0))+"\n                  ")])})),t._v(" "),e("td",{staticClass:"text-right font-weight-bold banking-success--text"},[t._v("\n                    "+t._s(t.formatCurrency(n.totalLak||0,"LAK"))+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-center"},[e(r.a,{staticClass:"white--text",attrs:{"x-small":"",color:"#01532B"},on:{click:function(e){return t.selectBankAccount(n.bankAccountId)}}},[e(h.a,{attrs:{"x-small":""}},[t._v("mdi-eye")]),t._v("\n                      ‡ªÄ‡∫ö‡∫¥‡ªà‡∫á\n                    ")],1)],1)],2)})),t._v(" "),e("tr",{staticClass:"banking-table-footer"},[e("td",{staticClass:"font-weight-bold text-caption",attrs:{colspan:"5"}},[t._v("\n                    ‡∫•‡∫ß‡∫° (Total)\n                  ")]),t._v(" "),e("td",{staticClass:"text-right font-weight-bold text-body-2"},[e(l.a,{attrs:{"x-small":"",color:"#01532B","text-color":"white"}},[t._v("\n                      "+t._s(t.totalSettlementsCount)+"\n                    ")])],1),t._v(" "),t._l(t.currencyList,(function(n){return e("td",{key:"sum-"+n.code,staticClass:"text-right font-weight-bold text-body-2"},[t._v("\n                    "+t._s(t.formatCurrency(t.getCurrencyTotal(n.code)))+"\n                  ")])})),t._v(" "),e("td",{staticClass:"text-right font-weight-bold text-body-2 banking-primary--text"},[t._v("\n                    "+t._s(t.formatCurrency(t.totalLakAmount,"LAK"))+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-center"},[e(l.a,{attrs:{"x-small":"",color:"grey"}},[t._v(t._s(t.filteredBankAccounts.length)+" accounts")])],1)],2)],2)]},proxy:!0}])}):e("div",{staticClass:"text-center py-6"},[e(h.a,{attrs:{size:"48",color:"grey lighten-2"}},[t._v("mdi-information-outline")]),t._v(" "),e("div",{staticClass:"mt-2 text-subtitle-2 grey--text"},[t._v("\n              No bank account data available\n            ")])],1)],1)],1)],1)],1),t._v(" "),e(m.a,{attrs:{"max-width":"1200px",scrollable:""},model:{value:t.settlementDialog,callback:function(e){t.settlementDialog=e},expression:"settlementDialog"}},[t.selectedBankAccount?e(o.a,[e(c.d,{staticClass:"dialog-header"},[e("i",{staticClass:"fas fa-university"}),t._v("\n        ‡∫•‡∫≤‡∫ç‡∫•‡∫∞‡∫≠‡∫Ω‡∫î‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞ - "+t._s(t.selectedBankAccount.accountName)+"\n        "),e(C.a),t._v(" "),e(r.a,{staticClass:"close-btn",attrs:{icon:""},on:{click:t.closeDialog}},[e(h.a,[t._v("mdi-close")])],1)],1),t._v(" "),e(c.c,[e(_.a,{staticClass:"summary-section mb-4"},[e(d.a,{attrs:{cols:"12"}},[e("h3",{staticClass:"section-title"},[t._v("\n              ‡∫™‡∫∞‡∫´‡∫º‡∫∏‡∫ö‡∫ö‡∫±‡∫ô‡∫ä‡∫µ‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô (Account Summary)\n            ")]),t._v(" "),e(v.a,{staticClass:"custom-divider mb-3"})],1),t._v(" "),e(d.a,{attrs:{cols:"6",md:"3"}},[e("div",{staticClass:"detail-stat"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"fas fa-list-ol"})]),t._v(" "),e("div",{staticClass:"stat-info"},[e("strong",[t._v("‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞:")]),t._v(" "),e("p",{staticClass:"stat-number"},[t._v("\n                  "+t._s(t.settlementSummary.settlementCount)+"\n                ")])])])]),t._v(" "),e(d.a,{attrs:{cols:"6",md:"3"}},[e("div",{staticClass:"detail-stat"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"fas fa-dollar-sign"})]),t._v(" "),e("div",{staticClass:"stat-info"},[e("strong",[t._v("‡∫•‡∫ß‡∫°‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô:")]),t._v(" "),e("p",{staticClass:"stat-number"},[t._v("\n                  $"+t._s(t.formatCurrency(t.settlementSummary.totalAmount))+"\n                ")])])])]),t._v(" "),e(d.a,{attrs:{cols:"6",md:"3"}},[e("div",{staticClass:"detail-stat"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"fas fa-calculator"})]),t._v(" "),e("div",{staticClass:"stat-info"},[e("strong",[t._v("‡∫Ñ‡ªà‡∫≤‡∫™‡∫∞‡ªÄ‡∫•‡ªà‡∫ç:")]),t._v(" "),e("p",{staticClass:"stat-number"},[t._v("\n                  $"+t._s(t.formatCurrency(t.settlementSummary.totalAmount/t.settlementSummary.settlementCount))+"\n                ")])])])]),t._v(" "),e(d.a,{attrs:{cols:"6",md:"3"}},[e("div",{staticClass:"detail-stat"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"fas fa-university"})]),t._v(" "),e("div",{staticClass:"stat-info"},[e("strong",[t._v("‡ªÄ‡∫•‡∫Å‡∫ö‡∫±‡∫ô‡∫ä‡∫µ:")]),t._v(" "),e("p",{staticClass:"stat-number"},[t._v("\n                  "+t._s(t.selectedBankAccount.accountNumber)+"\n                ")])])])])],1),t._v(" "),t.methodDistribution.length>0?e(_.a,{staticClass:"method-distribution mb-4"},[e(d.a,{attrs:{cols:"12"}},[e("h3",{staticClass:"section-title"},[t._v("\n              ‡∫Å‡∫≤‡∫ô‡ªÅ‡∫à‡∫Å‡∫¢‡∫≤‡∫ç‡∫ï‡∫≤‡∫°‡∫ß‡∫¥‡∫ó‡∫µ‡∫Å‡∫≤‡∫ô (Method Distribution)\n            ")]),t._v(" "),e(v.a,{staticClass:"custom-divider mb-3"})],1),t._v(" "),t._l(t.methodDistribution,(function(n){return e(d.a,{key:n.method,attrs:{cols:"12",md:"4"}},[e("div",{staticClass:"method-card"},[e("div",{staticClass:"method-header"},[e(l.a,{attrs:{color:t.getMethodColor(n.method),"text-color":"white",small:""}},[t._v("\n                  "+t._s(t.formatMethod(n.method))+"\n                ")])],1),t._v(" "),e("div",{staticClass:"method-stats"},[e("div",{staticClass:"method-count"},[t._v(t._s(n.count)+" ‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞")]),t._v(" "),e("div",{staticClass:"method-amount"},[t._v("\n                  $"+t._s(t.formatCurrency(n.total))+"\n                ")])])])])}))],2):t._e(),t._v(" "),e(_.a,[e(d.a,{attrs:{cols:"12"}},[e("h3",{staticClass:"section-title"},[t._v("\n              ‡∫•‡∫≤‡∫ç‡∫Å‡∫≤‡∫ô‡∫Å‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞ (Settlement Transactions)\n            ")]),t._v(" "),e(v.a,{staticClass:"custom-divider mb-3"}),t._v(" "),e(f.a,{staticClass:"settlement-table",attrs:{headers:t.settlementHeaders,items:t.selectedSettlements,loading:t.loadingDetails,"items-per-page":10,"footer-props":{itemsPerPageOptions:[5,10,25,50],itemsPerPageText:"‡ªÅ‡∫ñ‡∫ß‡∫ï‡ªç‡ªà‡ªú‡ªâ‡∫≤:"}},scopedSlots:t._u([{key:"item.bookingDate",fn:function(n){var r=n.item;return[e("span",{staticClass:"date-cell"},[t._v(t._s(t.formatDate(r.bookingDate)))])]}},{key:"item.currency",fn:function(n){var r,o,c=n.item;return[e(l.a,{attrs:{color:t.getCurrencyColor(null===(r=c.currency)||void 0===r?void 0:r.code),"text-color":"white",small:""}},[t._v("\n                  "+t._s((null===(o=c.currency)||void 0===o?void 0:o.code)||"LAK")+"\n                ")])]}},{key:"item.amount",fn:function(n){var r,o=n.item;return[e("div",{staticClass:"amount-breakdown"},[e("span",{staticClass:"amount-cell"},[t._v(t._s(t.formatCurrency(o.amount,null===(r=o.currency)||void 0===r?void 0:r.code)))])])]}},{key:"item.exchangeRate",fn:function(n){var r=n.item;return[e("div",{staticClass:"exchange-rate-cell"},[r.exchangeRate&&1!==r.exchangeRate?e("span",[t._v("\n                    "+t._s(t.formatExchangeRate(r.exchangeRate))+"\n                  ")]):e("span",{staticClass:"default-rate"},[t._v("1.0000")])])]}},{key:"item.lakAmount",fn:function(n){var r=n.item;return[e("div",{staticClass:"lak-amount-cell"},[e("span",{staticClass:"lak-amount"},[t._v(t._s(t.formatCurrency(t.calculateLakAmount(r.amount,r.exchangeRate),"LAK")))])])]}},{key:"item.method",fn:function(n){var r=n.item;return[e(l.a,{attrs:{color:t.getMethodColor(r.method),"text-color":"white",small:""}},[t._v("\n                  "+t._s(t.formatMethod(r.method))+"\n                ")])]}},{key:"item.proceeder",fn:function(n){var r,o=n.item;return[e("div",{staticClass:"user-info"},[e("span",{staticClass:"user-name"},[t._v(t._s((null===(r=o.proceeder)||void 0===r?void 0:r.name)||"N/A"))])])]}},{key:"item.moneyAdvance",fn:function(n){var r=n.item;return[r.moneyAdvance?e("div",{staticClass:"advance-info"},[e(l.a,{attrs:{color:"#01532B","text-color":"white",small:""}},[t._v("\n                    #"+t._s(r.moneyAdvance.id)+"\n                  ")]),t._v(" "),e("div",{staticClass:"advance-status"},[t._v("\n                    "+t._s(r.moneyAdvance.status)+"\n                  ")])],1):e("span",{staticClass:"no-advance"},[t._v("Standalone")])]}},{key:"item.actions",fn:function(n){var o=n.item;return[e(r.a,{attrs:{small:"",color:"#01532B"},on:{click:function(e){return t.viewSettlement(o.id)}}},[e("i",{staticClass:"fas fa-eye"}),t._v("\n                  ‡ªÄ‡∫ö‡∫¥‡ªà‡∫á\n                ")])]}}],null,!1,3682692414)})],1)],1)],1)],1):t._e()],1)],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-section"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"fas fa-university"}),t._v("\n        ‡∫•‡∫≤‡∫ç‡∫á‡∫≤‡∫ô‡∫ä‡∫≥‡∫•‡∫∞‡∫ï‡∫≤‡∫°‡∫ö‡∫±‡∫ô‡∫ä‡∫µ‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô\n      ")]),t._v(" "),e("p",{staticClass:"page-subtitle"},[t._v("Bank Account Settlement Report")])])}],!1,null,"f104358c",null);e.default=component.exports},807:function(t,e,n){"use strict";var r=n(808).has;t.exports=function(t){return r(t),t}},808:function(t,e,n){"use strict";var r=n(25),o=Set.prototype;t.exports={Set:Set,add:r(o.add),has:r(o.has),remove:r(o.delete),proto:o}},809:function(t,e,n){"use strict";var r=n(25),o=n(445),c=n(808),l=c.Set,d=c.proto,f=r(d.forEach),m=r(d.keys),v=m(new l).next;t.exports=function(t,e,n){return n?o({iterator:m(t),next:v},e):f(t,e)}},811:function(t,e,n){"use strict";var r=n(87),o=n(40),c=n(856),l=n(49),d=r("Set");t.exports=function(t){return function(t){return l(t)&&"number"==typeof t.size&&o(t.has)&&o(t.keys)}(t)?t:c(t)?new d(t):t}},812:function(t,e,n){"use strict";var r=n(86),o=n(59),c=n(48),l=n(121),d=n(858),f="Invalid size",m=RangeError,v=TypeError,h=Math.max,x=function(t,e){this.set=t,this.size=h(e,0),this.has=r(t.has),this.keys=r(t.keys)};x.prototype={getIterator:function(){return d(o(c(this.keys,this.set)))},includes:function(t){return c(this.has,this.set,t)}},t.exports=function(t){o(t);var e=+t.size;if(e!=e)throw new v(f);var n=l(e);if(n<0)throw new m(f);return new x(t,n)}},817:function(t,e,n){"use strict";var r=n(450),o=n(808);t.exports=r(o.proto,"size","get")||function(t){return t.size}},824:function(t,e,n){"use strict";var r=n(808),o=n(809),c=r.Set,l=r.add;t.exports=function(t){var e=new c;return o(t,(function(t){l(e,t)})),e}},837:function(t,e,n){"use strict";n(855)},838:function(t,e,n){"use strict";var r=n(11),o=n(807),c=n(808).add;r({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=o(this),e=0,n=arguments.length;e<n;e++)c(t,arguments[e]);return t}})},839:function(t,e,n){"use strict";var r=n(11),o=n(807),c=n(808).remove;r({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),n=!0,r=0,l=arguments.length;r<l;r++)t=c(e,arguments[r]),n=n&&t;return!!n}})},840:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(811),l=n(857);r({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return o(l,this,c(t))}})},841:function(t,e,n){"use strict";var r=n(11),o=n(71),c=n(807),l=n(809);r({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0);return!1!==l(e,(function(t){if(!n(t,t,e))return!1}),!0)}})},842:function(t,e,n){"use strict";var r=n(11),o=n(71),c=n(807),l=n(808),d=n(809),f=l.Set,m=l.add;r({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=new f;return d(e,(function(t){n(t,t,e)&&m(r,t)})),r}})},843:function(t,e,n){"use strict";var r=n(11),o=n(71),c=n(807),l=n(809);r({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=l(e,(function(t){if(n(t,t,e))return{value:t}}),!0);return r&&r.value}})},844:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(811),l=n(859);r({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return o(l,this,c(t))}})},845:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(811),l=n(860);r({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return o(l,this,c(t))}})},846:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(811),l=n(861);r({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return o(l,this,c(t))}})},847:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(811),l=n(862);r({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return o(l,this,c(t))}})},848:function(t,e,n){"use strict";var r=n(11),o=n(25),c=n(807),l=n(809),d=n(55),f=o([].join),m=o([].push);r({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=c(this),n=void 0===t?",":d(t),r=[];return l(e,(function(t){m(r,t)})),f(r,n)}})},849:function(t,e,n){"use strict";var r=n(11),o=n(71),c=n(807),l=n(808),d=n(809),f=l.Set,m=l.add;r({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=new f;return d(e,(function(t){m(r,n(t,t,e))})),r}})},850:function(t,e,n){"use strict";var r=n(11),o=n(86),c=n(807),l=n(809),d=TypeError;r({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=c(this),n=arguments.length<2,r=n?void 0:arguments[1];if(o(t),l(e,(function(o){n?(n=!1,r=o):r=t(r,o,o,e)})),n)throw new d("Reduce of empty set with no initial value");return r}})},851:function(t,e,n){"use strict";var r=n(11),o=n(71),c=n(807),l=n(809);r({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=c(this),n=o(t,arguments.length>1?arguments[1]:void 0);return!0===l(e,(function(t){if(n(t,t,e))return!0}),!0)}})},852:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(811),l=n(863);r({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return o(l,this,c(t))}})},853:function(t,e,n){"use strict";var r=n(11),o=n(48),c=n(811),l=n(864);r({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return o(l,this,c(t))}})},855:function(t,e,n){"use strict";n(449)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(451))},856:function(t,e,n){"use strict";var r=n(179),o=n(56),c=n(145),l=n(45),d=n(180),f=l("iterator"),m=Object;t.exports=function(t){if(c(t))return!1;var e=m(t);return void 0!==e[f]||"@@iterator"in e||o(d,r(e))}},857:function(t,e,n){"use strict";var r=n(807),o=n(808),c=n(824),l=n(817),d=n(812),f=n(809),m=n(445),v=o.has,h=o.remove;t.exports=function(t){var e=r(this),n=d(t),o=c(e);return l(e)<=n.size?f(e,(function(t){n.includes(t)&&h(o,t)})):m(n.getIterator(),(function(t){v(o,t)&&h(o,t)})),o}},858:function(t,e,n){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},859:function(t,e,n){"use strict";var r=n(807),o=n(808),c=n(817),l=n(812),d=n(809),f=n(445),m=o.Set,v=o.add,h=o.has;t.exports=function(t){var e=r(this),n=l(t),o=new m;return c(e)>n.size?f(n.getIterator(),(function(t){h(e,t)&&v(o,t)})):d(e,(function(t){n.includes(t)&&v(o,t)})),o}},860:function(t,e,n){"use strict";var r=n(807),o=n(808).has,c=n(817),l=n(812),d=n(809),f=n(445),m=n(341);t.exports=function(t){var e=r(this),n=l(t);if(c(e)<=n.size)return!1!==d(e,(function(t){if(n.includes(t))return!1}),!0);var v=n.getIterator();return!1!==f(v,(function(t){if(o(e,t))return m(v,"normal",!1)}))}},861:function(t,e,n){"use strict";var r=n(807),o=n(817),c=n(809),l=n(812);t.exports=function(t){var e=r(this),n=l(t);return!(o(e)>n.size)&&!1!==c(e,(function(t){if(!n.includes(t))return!1}),!0)}},862:function(t,e,n){"use strict";var r=n(807),o=n(808).has,c=n(817),l=n(812),d=n(445),f=n(341);t.exports=function(t){var e=r(this),n=l(t);if(c(e)<n.size)return!1;var m=n.getIterator();return!1!==d(m,(function(t){if(!o(e,t))return f(m,"normal",!1)}))}},863:function(t,e,n){"use strict";var r=n(807),o=n(808),c=n(824),l=n(812),d=n(445),f=o.add,m=o.has,v=o.remove;t.exports=function(t){var e=r(this),n=l(t).getIterator(),o=c(e);return d(n,(function(t){m(e,t)?v(o,t):f(o,t)})),o}},864:function(t,e,n){"use strict";var r=n(807),o=n(808).add,c=n(824),l=n(812),d=n(445);t.exports=function(t){var e=r(this),n=l(t).getIterator(),f=c(e);return d(n,(function(t){o(f,t)})),f}}}]);