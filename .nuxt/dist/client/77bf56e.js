(window.webpackJsonp=window.webpackJsonp||[]).push([[219],{1257:function(t,e,r){var content=r(1551);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("cd631cfe",content,!0,{sourceMap:!1})},1550:function(t,e,r){"use strict";r(1257)},1551:function(t,e,r){var n=r(15)((function(i){return i[1]}));n.push([t.i,".money-advances-report[data-v-9cb5862a]{padding:0}.report-header[data-v-9cb5862a]{align-items:center;background:linear-gradient(135deg,#01532b,#0d4f3c 50%,#1a5d4a);border-radius:8px;box-shadow:0 4px 12px rgba(1,83,43,.3);color:#fff;display:flex;justify-content:space-between;margin-bottom:24px;padding:20px}.title-section h1[data-v-9cb5862a]{font-size:28px;font-weight:600;margin:0}.title-section p[data-v-9cb5862a]{font-size:14px;margin:5px 0 0;opacity:.9}.action-buttons[data-v-9cb5862a]{display:flex;gap:12px}.filter-card[data-v-9cb5862a]{background:#fff;border-radius:8px}.filter-title[data-v-9cb5862a]{background:#01532b;color:#fff;font-weight:600}.custom-primary-bg[data-v-9cb5862a]{background-color:#01532b!important}.custom-secondary-btn[data-v-9cb5862a]{background-color:#6c757d!important;color:#fff!important;font-weight:500!important;text-transform:none!important}.filter-actions[data-v-9cb5862a]{display:flex;flex-direction:column;gap:8px}.date-range-alert[data-v-9cb5862a]{background-color:rgba(1,83,43,.1)!important;border-color:#01532b!important}.date-range-alert[data-v-9cb5862a],.date-range-alert[data-v-9cb5862a] .v-icon{color:#01532b!important}.bank-account-selection[data-v-9cb5862a]{display:flex;flex-direction:column}.bank-account-selection .bank-name[data-v-9cb5862a]{color:#01532b;font-size:14px;font-weight:600}.bank-account-selection small[data-v-9cb5862a]{color:#666;font-size:11px}.bank-account-item[data-v-9cb5862a]{padding:8px 0}.bank-account-item .bank-name[data-v-9cb5862a]{color:#01532b;font-size:14px;font-weight:600}.bank-account-item .bank-details[data-v-9cb5862a]{color:#666;font-size:12px;margin-top:2px}.summary-cards[data-v-9cb5862a]{margin-bottom:24px}.summary-card[data-v-9cb5862a]{border-top:3px solid #01532b;height:140px;overflow:hidden;position:relative}.summary-content[data-v-9cb5862a]{align-items:center;display:flex;height:100%}.summary-icon[data-v-9cb5862a]{color:#01532b;font-size:48px;margin-right:16px;opacity:.8}.summary-details h3[data-v-9cb5862a]{color:#01532b;font-size:16px;font-weight:600;margin:0}.summary-details p[data-v-9cb5862a]{color:#666;font-size:12px;margin:4px 0}.summary-details h2[data-v-9cb5862a]{color:#01532b;font-size:24px;font-weight:700;margin:8px 0 0}.summary-lcy[data-v-9cb5862a]{color:#01532b;font-size:11px;margin-top:4px!important;opacity:.8}.advance-card[data-v-9cb5862a]{background:linear-gradient(135deg,#01532b,#0d4f3c);color:#fff}.advance-card .summary-details h2[data-v-9cb5862a],.advance-card .summary-details h3[data-v-9cb5862a],.advance-card .summary-icon[data-v-9cb5862a],.advance-card .summary-lcy[data-v-9cb5862a]{color:#fff!important}.settlement-card[data-v-9cb5862a]{background:linear-gradient(135deg,#f0fdf4,#dcfce7)}.outstanding-card[data-v-9cb5862a]{background:linear-gradient(135deg,#fef2f2,#fecaca)}.records-card[data-v-9cb5862a]{background:linear-gradient(135deg,#fffbeb,#fef3c7)}.additional-summary[data-v-9cb5862a]{margin-bottom:24px}.stats-card[data-v-9cb5862a]{border-left:4px solid #01532b;height:100px}.stats-number[data-v-9cb5862a]{color:#01532b;font-size:24px;font-weight:700;margin:0}.stats-label[data-v-9cb5862a]{color:#6b7280;font-size:11px;line-height:1.2;margin:4px 0 0}.table-card[data-v-9cb5862a]{border-left:4px solid #01532b;margin-bottom:24px}.table-title[data-v-9cb5862a]{background:linear-gradient(90deg,#f8f9fa,#e9ecef);color:#01532b;font-weight:600}.search-field[data-v-9cb5862a]{max-width:300px}.report-table[data-v-9cb5862a]{background:#fff}.ministry-cell[data-v-9cb5862a]{display:flex;flex-direction:column}.ministry-name[data-v-9cb5862a]{color:#01532b;font-size:14px;font-weight:600}.ministry-code[data-v-9cb5862a]{background:#f8f9fa;border-radius:4px;color:#666;display:inline-block;font-family:monospace;font-size:11px;margin-top:4px;padding:2px 6px;width:-moz-fit-content;width:fit-content}.bank-account-cell[data-v-9cb5862a]{display:flex;flex-direction:column}.bank-account-name[data-v-9cb5862a]{color:#01532b;font-size:14px;font-weight:600}.bank-account-number[data-v-9cb5862a]{color:#666;font-family:monospace;font-size:11px}.bank-name[data-v-9cb5862a]{color:#999;font-size:12px;font-style:italic}.amount-breakdown[data-v-9cb5862a]{align-items:center;display:flex;flex-direction:column}.amount-cell[data-v-9cb5862a]{font-family:monospace;font-size:13px;font-weight:600}.exchange-rate[data-v-9cb5862a]{color:#666;font-size:10px;margin-top:2px}.lcy-amount[data-v-9cb5862a]{color:#01532b}.settlement-amount[data-v-9cb5862a]{color:#059669}.outstanding-amount[data-v-9cb5862a]{color:#dc3545}.settled-amount[data-v-9cb5862a]{color:#28a745}.progress-text[data-v-9cb5862a]{color:#fff;font-size:12px;font-weight:600;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.dialog-title[data-v-9cb5862a]{background:linear-gradient(90deg,#01532b,#0d4f3c);color:#fff;font-weight:600}.section-title[data-v-9cb5862a]{color:#01532b;font-weight:600;margin-bottom:8px}.custom-divider[data-v-9cb5862a]{border-color:#01532b!important;border-width:2px!important}.detail-stat[data-v-9cb5862a]{background:linear-gradient(135deg,#f0fdf4,#dcfce7);border:1px solid #bbf7d0;border-radius:8px;padding:12px;text-align:center}.detail-stat strong[data-v-9cb5862a]{color:#01532b;display:block;font-size:14px;margin-bottom:8px}.detail-stat p[data-v-9cb5862a]{color:#01532b;font-family:monospace;font-size:18px;font-weight:600;margin:0}.detail-stat small[data-v-9cb5862a]{color:#666;display:block;font-size:11px;font-style:italic;margin-top:4px}.detail-item[data-v-9cb5862a]{font-size:14px;margin-bottom:12px}.detail-item strong[data-v-9cb5862a]{color:#01532b}.detail-table[data-v-9cb5862a]{border:1px solid #e5e7eb;border-radius:8px;margin-top:16px}.date-cell[data-v-9cb5862a]{font-family:monospace;font-size:13px}@media print{.action-buttons[data-v-9cb5862a],.filter-card[data-v-9cb5862a],.v-btn[data-v-9cb5862a]{display:none!important}.additional-summary[data-v-9cb5862a],.summary-cards[data-v-9cb5862a]{page-break-inside:avoid}}@media (max-width:768px){.report-header[data-v-9cb5862a]{gap:16px}.report-header[data-v-9cb5862a],.summary-content[data-v-9cb5862a]{flex-direction:column;text-align:center}.summary-icon[data-v-9cb5862a]{margin-bottom:8px;margin-right:0}.filter-actions[data-v-9cb5862a]{margin-top:16px}.filter-actions .v-btn[data-v-9cb5862a]{width:100%}.stats-card[data-v-9cb5862a]{height:80px}.stats-number[data-v-9cb5862a]{font-size:18px}.stats-label[data-v-9cb5862a]{font-size:10px}.amount-breakdown[data-v-9cb5862a]{font-size:12px}.detail-stat[data-v-9cb5862a]{padding:8px}.detail-stat p[data-v-9cb5862a]{font-size:14px}}",""]),n.locals={},t.exports=n},1765:function(t,e,r){"use strict";r.r(e);var n=r(869),o=r(316),c=r(313),l=r(18),d=r(317),m=r(781),v=r(790),f=r(755),_=r(312),h=r(167),y=r(314),x=r(780),C=r(65),k=r(778),D=r(113),w=(r(35),r(131),r(20)),A=(r(5),r(54),r(53),r(445),r(68),r(30),r(8),r(10),r(816),r(333),r(92),{name:"MoneyAdvancesReport",data:function(){var t=this;return{loading:!1,exporting:!1,search:"",detailsDialog:!1,selectedAdvance:null,filters:{fromDate:null,toDate:null,bankAccountId:null},rules:{required:function(t){return!!t||"ກະລຸນາເລືອກວັນທີ"},dateRange:function(){return!t.filters.fromDate||!t.filters.toDate||(new Date(t.filters.fromDate)<=new Date(t.filters.toDate)||"ວັນທີເລີ່ມຕົ້ນຕ້ອງນ້ອຍກວ່າວັນທີສິ້ນສຸດ")}},bankAccounts:[],reportData:[],summaryData:{totalAdvances:0,totalSettlements:0,outstandingBalance:0,totalAdvancesLcy:0,totalSettlementsLcy:0,outstandingBalanceLcy:0,totalRecords:0,fullySettledCount:0,partiallySettledCount:0,unsettledCount:0,overdueCount:0,averageSettlementPercentage:"0.00"},tableHeaders:[{text:"ວັນທີຈ່າຍ",value:"bookingDate",width:"100px"},{text:"ກະຊວງ",value:"ministry",width:"180px"},{text:"ບັນຊີທະນາຄານ",value:"bankAccount",width:"180px"},{text:"ສະກຸນເງິນ",value:"currencyCode",width:"80px"},{text:"ຈຳນວນເງິນ",value:"amount",width:"120px"},{text:"LCY",value:"lcyEquivalent",width:"120px"},{text:"ຊຳລະແລ້ວ",value:"settlementAmount",width:"120px"},{text:"ຄ້າງຊຳລະ",value:"outstandingAmount",width:"120px"},{text:"ສະຖານະ",value:"status",width:"100px"},{text:"ຊຳລະ %",value:"settlementPercentage",width:"120px"},{text:"ຈັດການ",value:"actions",sortable:!1,width:"100px"}],settlementHeaders:[{text:"ວັນທີຊຳລະ",value:"bookingDate"},{text:"ຈຳນວນ",value:"amount"},{text:"ວິທີການ",value:"method"},{text:"ໝາຍເຫດ",value:"notes"}]}},computed:{formattedFromDate:function(){return this.filters.fromDate?this.formatDisplayDate(this.filters.fromDate):""},formattedToDate:function(){return this.filters.toDate?this.formatDisplayDate(this.filters.toDate):""},maxDate:function(){return(new Date).toISOString().substr(0,10)},isDateRangeValid:function(){return!(!this.filters.fromDate||!this.filters.toDate)&&new Date(this.filters.fromDate)<=new Date(this.filters.toDate)},daysBetween:function(){if(!this.filters.fromDate||!this.filters.toDate)return 0;var t=new Date(this.filters.fromDate),e=new Date(this.filters.toDate).getTime()-t.getTime();return Math.ceil(e/864e5)+1}},created:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadInitialData();case 2:t.setDefaultDateRange(),t.applyFilters();case 4:case"end":return e.stop()}}),e)})))()},methods:{loadInitialData:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/bank_account/find");case 3:r=e.sent,t.bankAccounts=r.data.data||r.data,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading bank accounts:",e.t0),t.$toast.error("Error loading initial data");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},setDefaultDateRange:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0);this.filters.fromDate=e.toISOString().substr(0,10),this.filters.toDate=r.toISOString().substr(0,10)},applyFilters:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.filters.fromDate&&t.filters.toDate){e.next=3;break}return t.$toast.warning("ກະລຸນາເລືອກໄລຍະເວລາ"),e.abrupt("return");case 3:if(t.isDateRangeValid){e.next=6;break}return t.$toast.warning("ໄລຍະເວລາບໍ່ຖືກຕ້ອງ"),e.abrupt("return");case 6:return t.loading=!0,e.prev=7,(r=new URLSearchParams).append("fromDate",t.filters.fromDate),r.append("toDate",t.filters.toDate),t.filters.bankAccountId&&r.append("bankAccountId",t.filters.bankAccountId),console.log("Fetching data with params:",r.toString()),e.next=15,t.$axios.get("/api/money-advances/report?".concat(r));case 15:if(!((n=e.sent).data&&n.data.success&&n.data.data)){e.next=23;break}t.reportData=n.data.data,t.summaryData=n.data.summary||t.getDefaultSummary(),console.info("Filtered data ".concat(JSON.stringify(t.reportData))),console.log("Data loaded successfully:",t.reportData.length,"records"),e.next=24;break;case 23:throw new Error("Invalid response format");case 24:e.next=32;break;case 26:e.prev=26,e.t0=e.catch(7),console.error("Error loading report data:",e.t0),t.reportData=[],t.summaryData=t.getDefaultSummary(),e.t0.response?(c=e.t0.response.status,l=(null===(o=e.t0.response.data)||void 0===o?void 0:o.message)||"Server error",t.$toast.error("Error ".concat(c,": ").concat(l))):e.t0.request?t.$toast.error("Network error. Please check your connection."):t.$toast.error("Error loading report data");case 32:return e.prev=32,t.loading=!1,e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[7,26,32,35]])})))()},resetFilters:function(){this.filters={fromDate:null,toDate:null,bankAccountId:null},this.setDefaultDateRange(),this.applyFilters()},getDefaultSummary:function(){return{totalAdvances:0,totalSettlements:0,outstandingBalance:0,totalAdvancesLcy:0,totalSettlementsLcy:0,outstandingBalanceLcy:0,totalRecords:0,fullySettledCount:0,partiallySettledCount:0,unsettledCount:0,overdueCount:0,averageSettlementPercentage:"0.00"}},viewAdvanceDetails:function(t){this.selectedAdvance=t,this.detailsDialog=!0},exportToExcel:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){var r,n,o,link;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.exporting=!0,e.prev=1,r=new URLSearchParams,Object.keys(t.filters).forEach((function(e){t.filters[e]&&r.append(e,t.filters[e])})),e.next=6,t.$axios.get("/api/money-advances/report/export?".concat(r),{responseType:"blob"});case 6:n=e.sent,o=new Blob([n.data]),(link=document.createElement("a")).href=window.URL.createObjectURL(o),link.download="money-advances-report-".concat(t.filters.fromDate,"-to-").concat(t.filters.toDate,".xlsx"),link.click(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error exporting report:",e.t0),t.$toast.error("Error exporting report");case 18:return e.prev=18,t.exporting=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,14,18,21]])})))()},printReport:function(){window.print()},formatDisplayDate:function(t){if(!t)return"";var e=new Date(t),r=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return"".concat(r,"/").concat(n,"/").concat(o)},formatCurrency:function(t){return t?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t):"0.00"},formatExchangeRate:function(t){return t?new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(t):"1.0000"},formatDate:function(t){return t?new Date(t).toLocaleDateString("en-GB"):""},getCurrencyColor:function(t){return{USD:"#01532B",LAK:"#01532B",THB:"#F59E0B",EUR:"#8B5CF6",CNY:"#EF4444"}[t]||"#6B7280"},getStatusColor:function(t){switch(t){case"settled":return"#28a745";case"pending":return"#ffc107";case"approved":return"#17a2b8";case"rejected":return"#dc3545";default:return"#6c757d"}},getStatusText:function(t){switch(t){case"settled":return"ຊຳລະແລ້ວ";case"pending":return"ລໍຖ້າ";case"approved":return"ອະນຸມັດ";case"rejected":return"ປະຕິເສດ";default:return t}},getProgressColor:function(t){var e=parseFloat(t);return 100===e?"#28a745":e>=50?"#ffc107":"#dc3545"}}}),S=(r(1550),r(32)),component=Object(S.a)(A,(function(){var t,e=this,r=e._self._c;return r("div",{staticClass:"money-advances-report"},[r("div",{staticClass:"report-header"},[e._m(0),e._v(" "),r("div",{staticClass:"action-buttons"},[r(o.a,{attrs:{color:"#01532B",loading:e.exporting,dark:""},on:{click:e.exportToExcel}},[r("i",{staticClass:"fas fa-file-excel"}),e._v("\n        Export Excel\n      ")]),e._v(" "),r(o.a,{attrs:{color:"#01532B",dark:""},on:{click:e.printReport}},[r("i",{staticClass:"fas fa-print"}),e._v("\n        Print\n      ")])],1)]),e._v(" "),r(c.a,{staticClass:"filter-card mb-4",attrs:{elevation:"2"}},[r(l.d,{staticClass:"filter-title d-flex align-center"},[r(h.a,{staticClass:"mr-2"},[e._v("mdi-filter")]),e._v("\n      ຕົວກອງ (Filters)\n    ")],1),e._v(" "),r(l.c,{staticClass:"pa-4"},[r(x.a,[r(m.a,{attrs:{cols:"12",md:"3"}},[r(D.a,{attrs:{type:"date",label:"ຈາກວັນທີ (From Date)",outlined:"",dense:"",rules:[e.rules.required,e.rules.dateRange],max:e.filters.toDate||e.maxDate},on:{change:e.applyFilters},model:{value:e.filters.fromDate,callback:function(t){e.$set(e.filters,"fromDate",t)},expression:"filters.fromDate"}})],1),e._v(" "),r(m.a,{attrs:{cols:"12",md:"3"}},[r(D.a,{attrs:{type:"date",label:"ເຖິງວັນທີ (To Date)",outlined:"",dense:"",rules:[e.rules.required,e.rules.dateRange],min:e.filters.fromDate,max:e.maxDate},on:{change:e.applyFilters},model:{value:e.filters.toDate,callback:function(t){e.$set(e.filters,"toDate",t)},expression:"filters.toDate"}})],1),e._v(" "),r(m.a,{attrs:{cols:"12",md:"4"}},[r(C.a,{attrs:{items:e.bankAccounts,"item-text":"accountName","item-value":"id",label:"ບັນຊີທະນາຄານ (Bank Account)",clearable:"",outlined:"",dense:""},on:{change:e.applyFilters},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.item;return[r("div",{staticClass:"bank-account-selection"},[r("span",{staticClass:"bank-name"},[e._v(e._s(n.accountName))]),e._v(" "),r("small",[e._v(e._s(n.bankName)+" - "+e._s(n.accountNumber))])])]}},{key:"item",fn:function(t){var n=t.item;return[r("div",{staticClass:"bank-account-item"},[r("div",{staticClass:"bank-name"},[e._v(e._s(n.accountName))]),e._v(" "),r("div",{staticClass:"bank-details"},[e._v(e._s(n.bankName)+" - "+e._s(n.accountNumber))])])]}}]),model:{value:e.filters.bankAccountId,callback:function(t){e.$set(e.filters,"bankAccountId",t)},expression:"filters.bankAccountId"}})],1),e._v(" "),r(m.a,{attrs:{cols:"12",md:"2"}},[r("div",{staticClass:"filter-actions"},[r(o.a,{staticClass:"custom-primary-bg white--text mb-2",attrs:{block:"",outlined:"",loading:e.loading,disabled:!e.isDateRangeValid},on:{click:e.applyFilters}},[r(h.a,{attrs:{left:"",color:"white"}},[e._v("mdi-magnify")]),e._v("\n              ຄົ້ນຫາ\n            ")],1),e._v(" "),r(o.a,{staticClass:"custom-secondary-btn",attrs:{block:"",outlined:"",color:"grey lighten-1"},on:{click:e.resetFilters}},[r(h.a,{attrs:{left:""}},[e._v("mdi-restore")]),e._v("\n              ຣີເຊັດ\n            ")],1)],1)])],1),e._v(" "),e.filters.fromDate&&e.filters.toDate?r(x.a,{staticClass:"mt-2"},[r(m.a,{attrs:{cols:"12"}},[r(n.a,{staticClass:"date-range-alert",attrs:{type:"info",dense:"",outlined:""}},[r("div",{staticClass:"d-flex align-center"},[r(h.a,{staticClass:"mr-2"},[e._v("mdi-calendar-range")]),e._v(" "),r("span",[e._v("\n                ໄລຍະເວລາທີ່ເລືອກ: "+e._s(e.formattedFromDate)+" ເຖິງ\n                "+e._s(e.formattedToDate)+" ("+e._s(e.daysBetween)+" ວັນ)\n              ")])],1)])],1)],1):e._e()],1)],1),e._v(" "),r(x.a,{staticClass:"summary-cards mb-4"},[r(m.a,{attrs:{cols:"12",md:"3"}},[r(c.a,{staticClass:"summary-card advance-card",attrs:{elevation:"3"}},[r(l.c,[r("div",{staticClass:"summary-content"},[r("div",{staticClass:"summary-icon"},[r("i",{staticClass:"fas fa-money-bill-wave"})]),e._v(" "),r("div",{staticClass:"summary-details"},[r("h3",{staticClass:"summary-title"},[e._v("ລວມລາຍຈ່າຍ")]),e._v(" "),r("p",{staticClass:"summary-subtitle"},[e._v("Total Advances")]),e._v(" "),r("h2",{staticClass:"summary-amount"},[e._v(e._s(e.formatCurrency(e.summaryData.totalAdvancesLcy)))]),e._v(" "),r("p",{staticClass:"summary-lcy"},[e._v("LAK")])])])])],1)],1),e._v(" "),r(m.a,{attrs:{cols:"12",md:"3"}},[r(c.a,{staticClass:"summary-card settlement-card",attrs:{elevation:"3"}},[r(l.c,[r("div",{staticClass:"summary-content"},[r("div",{staticClass:"summary-icon"},[r("i",{staticClass:"fas fa-hand-holding-usd"})]),e._v(" "),r("div",{staticClass:"summary-details"},[r("h3",{staticClass:"summary-title"},[e._v("ລວມຊຳລະ")]),e._v(" "),r("p",{staticClass:"summary-subtitle"},[e._v("Total Settlements")]),e._v(" "),r("h2",{staticClass:"summary-amount"},[e._v(e._s(e.formatCurrency(e.summaryData.totalSettlementsLcy)))]),e._v(" "),r("p",{staticClass:"summary-lcy"},[e._v("LAK")])])])])],1)],1),e._v(" "),r(m.a,{attrs:{cols:"12",md:"3"}},[r(c.a,{staticClass:"summary-card outstanding-card",attrs:{elevation:"3"}},[r(l.c,[r("div",{staticClass:"summary-content"},[r("div",{staticClass:"summary-icon"},[r("i",{staticClass:"fas fa-clock"})]),e._v(" "),r("div",{staticClass:"summary-details"},[r("h3",{staticClass:"summary-title"},[e._v("ຄ້າງຊຳລະ")]),e._v(" "),r("p",{staticClass:"summary-subtitle"},[e._v("Outstanding Balance")]),e._v(" "),r("h2",{staticClass:"summary-amount"},[e._v(e._s(e.formatCurrency(e.summaryData.outstandingBalanceLcy)))]),e._v(" "),r("p",{staticClass:"summary-lcy"},[e._v("LAK")])])])])],1)],1),e._v(" "),r(m.a,{attrs:{cols:"12",md:"3"}},[r(c.a,{staticClass:"summary-card records-card",attrs:{elevation:"3"}},[r(l.c,[r("div",{staticClass:"summary-content"},[r("div",{staticClass:"summary-icon"},[r("i",{staticClass:"fas fa-file-invoice"})]),e._v(" "),r("div",{staticClass:"summary-details"},[r("h3",{staticClass:"summary-title"},[e._v("ລວມລາຍການ")]),e._v(" "),r("p",{staticClass:"summary-subtitle"},[e._v("Total Records")]),e._v(" "),r("h2",{staticClass:"summary-amount"},[e._v(e._s(e.summaryData.totalRecords||0))]),e._v(" "),r("p",{staticClass:"summary-lcy"},[e._v("Records")])])])])],1)],1)],1),e._v(" "),e.summaryData.fullySettledCount?r(x.a,{staticClass:"additional-summary mb-4"},[r(m.a,{attrs:{cols:"12",md:"3"}},[r(c.a,{staticClass:"stats-card",attrs:{elevation:"2"}},[r(l.c,{staticClass:"text-center"},[r("h3",{staticClass:"stats-number"},[e._v(e._s(e.summaryData.fullySettledCount||0))]),e._v(" "),r("p",{staticClass:"stats-label"},[e._v("ຊຳລະສົມບູນ"),r("br"),e._v("Fully Settled")])])],1)],1),e._v(" "),r(m.a,{attrs:{cols:"12",md:"3"}},[r(c.a,{staticClass:"stats-card",attrs:{elevation:"2"}},[r(l.c,{staticClass:"text-center"},[r("h3",{staticClass:"stats-number"},[e._v(e._s(e.summaryData.partiallySettledCount||0))]),e._v(" "),r("p",{staticClass:"stats-label"},[e._v("ຊຳລະບາງສ່ວນ"),r("br"),e._v("Partially Settled")])])],1)],1),e._v(" "),r(m.a,{attrs:{cols:"12",md:"3"}},[r(c.a,{staticClass:"stats-card",attrs:{elevation:"2"}},[r(l.c,{staticClass:"text-center"},[r("h3",{staticClass:"stats-number"},[e._v(e._s(e.summaryData.unsettledCount||0))]),e._v(" "),r("p",{staticClass:"stats-label"},[e._v("ຍັງບໍ່ໄດ້ຊຳລະ"),r("br"),e._v("Unsettled")])])],1)],1),e._v(" "),r(m.a,{attrs:{cols:"12",md:"3"}},[r(c.a,{staticClass:"stats-card",attrs:{elevation:"2"}},[r(l.c,{staticClass:"text-center"},[r("h3",{staticClass:"stats-number"},[e._v(e._s(e.summaryData.averageSettlementPercentage||0)+"%")]),e._v(" "),r("p",{staticClass:"stats-label"},[e._v("ສະເລ່ຍຊຳລະ"),r("br"),e._v("Avg Settlement")])])],1)],1)],1):e._e(),e._v(" "),r(c.a,{staticClass:"table-card",attrs:{elevation:"2"}},[r(l.d,{staticClass:"table-title"},[r("i",{staticClass:"fas fa-table"}),e._v("\n      ລາຍລະອຽດການຈ່າຍເງິນລ່ວງໜ້າ (Money Advances Details)\n      "),r(k.a),e._v(" "),r(D.a,{staticClass:"search-field",attrs:{"append-icon":"mdi-magnify",label:"ຄົ້ນຫາ...","single-line":"","hide-details":"",outlined:"",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),r(v.a,{staticClass:"report-table",attrs:{headers:e.tableHeaders,items:e.reportData,search:e.search,loading:e.loading,"items-per-page":25,"footer-props":{itemsPerPageOptions:[10,25,50,100],itemsPerPageText:"ແຖວຕໍ່ໜ້າ:"}},scopedSlots:e._u([{key:"item.bookingDate",fn:function(t){var n=t.item;return[r("span",{staticClass:"date-cell"},[e._v(e._s(e.formatDate(n.bookingDate)))])]}},{key:"item.ministry",fn:function(t){var n=t.item;return[r("div",{staticClass:"ministry-cell"},[r("span",{staticClass:"ministry-name"},[e._v(e._s(n.ministry.ministryName))]),e._v(" "),r("span",{staticClass:"ministry-code"},[e._v(e._s(n.ministry.ministryCode))])])]}},{key:"item.bankAccount",fn:function(t){var n=t.item;return[r("div",{staticClass:"bank-account-cell"},[r("span",{staticClass:"bank-account-name"},[e._v(e._s(n.bankAccount.accountName))]),e._v(" "),r("span",{staticClass:"bank-account-number"},[e._v(e._s(n.bankAccount.accountNumber))]),e._v(" "),r("span",{staticClass:"bank-name"},[e._v(e._s(n.bankAccount.bankName))])])]}},{key:"item.currencyCode",fn:function(t){var n=t.item;return[r(d.a,{attrs:{small:"",color:e.getCurrencyColor(n.currencyCode),"text-color":"white"}},[e._v("\n          "+e._s(n.currencyCode)+"\n        ")])]}},{key:"item.amount",fn:function(t){var n=t.item;return[r("div",{staticClass:"amount-breakdown"},[r("span",{staticClass:"amount-cell"},[e._v(e._s(e.formatCurrency(n.amount)))]),e._v(" "),r("div",{staticClass:"exchange-rate"},[e._v("\n            Rate: "+e._s(e.formatExchangeRate(n.exchangeRate))+"\n          ")])])]}},{key:"item.lcyEquivalent",fn:function(t){var n=t.item;return[r("span",{staticClass:"amount-cell lcy-amount"},[e._v("\n          "+e._s(e.formatCurrency(n.lcyEquivalent))+"\n        ")])]}},{key:"item.settlementAmount",fn:function(t){var n=t.item;return[r("span",{staticClass:"amount-cell settlement-amount"},[e._v("\n          "+e._s(e.formatCurrency(n.settlementAmount))+"\n        ")])]}},{key:"item.outstandingAmount",fn:function(t){var n=t.item;return[r("span",{staticClass:"amount-cell",class:n.outstandingAmount>0?"outstanding-amount":"settled-amount"},[e._v("\n          "+e._s(e.formatCurrency(n.outstandingAmount))+"\n        ")])]}},{key:"item.status",fn:function(t){var n=t.item;return[r(d.a,{attrs:{small:"",color:e.getStatusColor(n.status),"text-color":"white"}},[e._v("\n          "+e._s(e.getStatusText(n.status))+"\n        ")])]}},{key:"item.settlementPercentage",fn:function(t){var n=t.item;return[r(y.a,{attrs:{value:parseFloat(n.settlementPercentage),color:e.getProgressColor(n.settlementPercentage),height:"20",rounded:""}},[r("span",{staticClass:"progress-text"},[e._v(e._s(n.settlementPercentage)+"%")])])]}},{key:"item.actions",fn:function(t){var n=t.item;return[r(o.a,{attrs:{small:"",color:"#01532B",dark:""},on:{click:function(t){return e.viewAdvanceDetails(n)}}},[r("i",{staticClass:"fas fa-eye"}),e._v("\n          ລາຍລະອຽດ\n        ")])]}}])})],1),e._v(" "),r(f.a,{attrs:{"max-width":"1000px"},model:{value:e.detailsDialog,callback:function(t){e.detailsDialog=t},expression:"detailsDialog"}},[r(c.a,[r(l.d,{staticClass:"dialog-title"},[r("i",{staticClass:"fas fa-money-bill-wave"}),e._v("\n        ລາຍລະອຽດການຈ່າຍເງິນ #"+e._s(null===(t=e.selectedAdvance)||void 0===t?void 0:t.id)+"\n        "),r(k.a),e._v(" "),r(o.a,{attrs:{icon:""},on:{click:function(t){e.detailsDialog=!1}}},[r(h.a,[e._v("mdi-close")])],1)],1),e._v(" "),e.selectedAdvance?r(l.c,[r(x.a,{staticClass:"mb-4"},[r(m.a,{attrs:{cols:"12"}},[r("h3",{staticClass:"section-title"},[e._v("ຂໍ້ມູນການຈ່າຍເງິນ (Payment Information)")]),e._v(" "),r(_.a,{staticClass:"mb-3 custom-divider"})],1),e._v(" "),r(m.a,{attrs:{cols:"6",md:"3"}},[r("div",{staticClass:"detail-stat"},[r("strong",[e._v("ວັນທີຈ່າຍ:")]),e._v(" "),r("p",[e._v(e._s(e.formatDate(e.selectedAdvance.bookingDate)))])])]),e._v(" "),r(m.a,{attrs:{cols:"6",md:"3"}},[r("div",{staticClass:"detail-stat"},[r("strong",[e._v("ຈຳນວນເງິນ:")]),e._v(" "),r("p",[e._v("\n                "+e._s(e.formatCurrency(e.selectedAdvance.amount))+"\n                "+e._s(e.selectedAdvance.currencyCode)+"\n              ")]),e._v(" "),r("small",[e._v("LCY: "+e._s(e.formatCurrency(e.selectedAdvance.lcyEquivalent)))])])]),e._v(" "),r(m.a,{attrs:{cols:"6",md:"3"}},[r("div",{staticClass:"detail-stat"},[r("strong",[e._v("ສະຖານະ:")]),e._v(" "),r("p",[e._v(e._s(e.getStatusText(e.selectedAdvance.status)))])])]),e._v(" "),r(m.a,{attrs:{cols:"6",md:"3"}},[r("div",{staticClass:"detail-stat"},[r("strong",[e._v("ຄ້າງຊຳລະ:")]),e._v(" "),r("p",{staticClass:"outstanding-text"},[e._v("\n                "+e._s(e.formatCurrency(e.selectedAdvance.outstandingAmount))+" "+e._s(e.selectedAdvance.currencyCode)+"\n              ")])])])],1),e._v(" "),r(x.a,{staticClass:"mb-4"},[r(m.a,{attrs:{cols:"12"}},[r("h3",{staticClass:"section-title"},[e._v("ຂໍ້ມູນທົ່ວໄປ (General Information)")]),e._v(" "),r(_.a,{staticClass:"mb-3 custom-divider"})],1),e._v(" "),r(m.a,{attrs:{cols:"6"}},[r("div",{staticClass:"detail-item"},[r("strong",[e._v("ກະຊວງ:")]),e._v(" "+e._s(e.selectedAdvance.ministry.ministryName)+"\n            ")]),e._v(" "),r("div",{staticClass:"detail-item"},[r("strong",[e._v("ລະຫັດກະຊວງ:")]),e._v(" "+e._s(e.selectedAdvance.ministry.ministryCode)+"\n            ")]),e._v(" "),r("div",{staticClass:"detail-item"},[r("strong",[e._v("ຈຸດປະສົງ:")]),e._v(" "+e._s(e.selectedAdvance.purpose)+"\n            ")])]),e._v(" "),r(m.a,{attrs:{cols:"6"}},[r("div",{staticClass:"detail-item"},[r("strong",[e._v("ບັນຊີທະນາຄານ:")]),e._v(" "+e._s(e.selectedAdvance.bankAccount.accountName)+"\n            ")]),e._v(" "),r("div",{staticClass:"detail-item"},[r("strong",[e._v("ເລກບັນຊີ:")]),e._v(" "+e._s(e.selectedAdvance.bankAccount.accountNumber)+"\n            ")]),e._v(" "),r("div",{staticClass:"detail-item"},[r("strong",[e._v("ທະນາຄານ:")]),e._v(" "+e._s(e.selectedAdvance.bankAccount.bankName)+"\n            ")])])],1),e._v(" "),e.selectedAdvance.settlementLine&&e.selectedAdvance.settlementLine.length>0?r(x.a,[r(m.a,{attrs:{cols:"12"}},[r("h3",{staticClass:"section-title"},[e._v("ລາຍການຊຳລະ (Settlement Details)")]),e._v(" "),r(_.a,{staticClass:"mb-3 custom-divider"}),e._v(" "),r(v.a,{staticClass:"detail-table",attrs:{headers:e.settlementHeaders,items:e.selectedAdvance.settlementLine,"hide-default-footer":""},scopedSlots:e._u([{key:"item.bookingDate",fn:function(t){var n=t.item;return[r("span",{staticClass:"date-cell"},[e._v(e._s(e.formatDate(n.bookingDate)))])]}},{key:"item.amount",fn:function(t){var n=t.item;return[r("span",{staticClass:"amount-cell"},[e._v(e._s(e.formatCurrency(n.amount)))])]}},{key:"item.method",fn:function(t){var n=t.item;return[r(d.a,{attrs:{small:"",color:"#01532B","text-color":"white"}},[e._v("\n                  "+e._s(n.method)+"\n                ")])]}}],null,!1,1055275594)})],1)],1):e._e()],1):e._e()],1)],1)],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-section"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"fas fa-money-bill-wave"}),t._v("\n        ລາຍງານການຈ່າຍເງິນລ່ວງໜ້າ\n      ")]),t._v(" "),e("p",{staticClass:"page-subtitle"},[t._v("Money Advances Report")])])}],!1,null,"9cb5862a",null);e.default=component.exports},849:function(t,e,r){var content=r(850);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("1c8f4490",content,!0,{sourceMap:!1})},850:function(t,e,r){var n=r(15)((function(i){return i[1]}));n.push([t.i,'.theme--light.v-alert .v-alert--prominent .v-alert__icon:after{background:rgba(0,0,0,.12)}.theme--dark.v-alert .v-alert--prominent .v-alert__icon:after{background:hsla(0,0%,100%,.12)}.v-sheet.v-alert{border-radius:4px}.v-sheet.v-alert:not(.v-sheet--outlined){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.v-sheet.v-alert.v-sheet--shaped{border-radius:24px 4px}.v-alert{display:block;font-size:16px;margin-bottom:16px;padding:16px;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-alert:not(.v-sheet--tile){border-radius:4px}.v-application--is-ltr .v-alert>.v-alert__content,.v-application--is-ltr .v-alert>.v-icon{margin-right:16px}.v-application--is-rtl .v-alert>.v-alert__content,.v-application--is-rtl .v-alert>.v-icon{margin-left:16px}.v-application--is-ltr .v-alert>.v-icon+.v-alert__content{margin-right:0}.v-application--is-rtl .v-alert>.v-icon+.v-alert__content{margin-left:0}.v-application--is-ltr .v-alert>.v-alert__content+.v-icon{margin-right:0}.v-application--is-rtl .v-alert>.v-alert__content+.v-icon{margin-left:0}.v-alert__border{border-style:solid;border-width:4px;content:"";position:absolute}.v-alert__border:not(.v-alert__border--has-color){opacity:.26}.v-alert__border--left,.v-alert__border--right{bottom:0;top:0}.v-alert__border--bottom,.v-alert__border--top{left:0;right:0}.v-alert__border--bottom{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0}.v-application--is-ltr .v-alert__border--left{border-bottom-left-radius:inherit;border-top-left-radius:inherit;left:0}.v-application--is-ltr .v-alert__border--right,.v-application--is-rtl .v-alert__border--left{border-bottom-right-radius:inherit;border-top-right-radius:inherit;right:0}.v-application--is-rtl .v-alert__border--right{border-bottom-left-radius:inherit;border-top-left-radius:inherit;left:0}.v-alert__border--top{border-top-left-radius:inherit;border-top-right-radius:inherit;top:0}.v-alert__content{flex:1 1 auto}.v-application--is-ltr .v-alert__dismissible{margin:-16px -8px -16px 8px}.v-application--is-rtl .v-alert__dismissible{margin:-16px 8px -16px -8px}.v-alert__icon{align-self:flex-start;border-radius:50%;height:24px;min-width:24px;position:relative}.v-application--is-ltr .v-alert__icon{margin-right:16px}.v-application--is-rtl .v-alert__icon{margin-left:16px}.v-alert__icon.v-icon{font-size:24px}.v-alert__wrapper{align-items:center;border-radius:inherit;display:flex}.v-application--is-ltr .v-alert--border.v-alert--prominent .v-alert__icon{margin-left:8px}.v-application--is-rtl .v-alert--border.v-alert--prominent .v-alert__icon{margin-right:8px}.v-alert--dense{padding-bottom:8px;padding-top:8px}.v-alert--dense .v-alert__border{border-width:medium}.v-alert--outlined{background:transparent!important;border:thin solid!important}.v-alert--outlined .v-alert__icon{color:inherit!important}.v-alert--prominent .v-alert__icon{align-self:center;height:48px;min-width:48px}.v-alert--prominent .v-alert__icon.v-icon{font-size:32px}.v-alert--prominent .v-alert__icon.v-icon:after{background:currentColor!important;border-radius:50%;bottom:0;content:"";left:0;opacity:.16;position:absolute;right:0;top:0}.v-alert--prominent.v-alert--dense .v-alert__icon.v-icon:after{transform:scale(1)}.v-alert--text{background:transparent!important}.v-alert--text:before{background-color:currentColor;border-radius:inherit;bottom:0;content:"";left:0;opacity:.12;pointer-events:none;position:absolute;right:0;top:0}',""]),n.locals={},t.exports=n},869:function(t,e,r){"use strict";r(10),r(7),r(9),r(5),r(11),r(8),r(12);var n=r(3),o=(r(39),r(849),r(143)),c=r(74),l=r(43),d=r(64),m=r(19),v=r(340),f=r(6),_=r(14);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(f.a)(o.a,d.a,v.a).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"==typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var data={staticClass:"v-alert__border",class:Object(n.a)({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&((data=this.setBackgroundColor(this.computedColor,data)).class["v-alert__border--has-color"]=!0),this.$createElement("div",data)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(c.a,{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(l.a,{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(l.a,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=y(y({},o.a.options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"==typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||m.a.options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(_.a)("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible];return this.$createElement("div",{staticClass:"v-alert__wrapper"},t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var data={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};this.coloredBorder||(data=(this.hasText?this.setTextColor:this.setBackgroundColor)(this.computedColor,data));return this.$createElement("div",data,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})}}]);