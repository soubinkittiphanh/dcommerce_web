exports.ids = [206];
exports.modules = {

/***/ 1006:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3a1547ae_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(773);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3a1547ae_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3a1547ae_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3a1547ae_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_3_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_3_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_oneOf_1_2_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3a1547ae_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ 1007:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);
var ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.i, ".chart-account-settlement-report[data-v-3a1547ae]{padding:0}.report-header[data-v-3a1547ae]{align-items:center;border-radius:8px;display:flex;justify-content:space-between;margin-bottom:24px;padding:24px}.title-section h1[data-v-3a1547ae]{font-size:28px;font-weight:600;margin:0}.title-section p[data-v-3a1547ae]{font-size:14px;margin:8px 0 0;opacity:.9}.action-buttons[data-v-3a1547ae]{display:flex;gap:16px}.custom-btn[data-v-3a1547ae]{border:1px solid #fff!important;color:#01532b!important;font-weight:500!important;text-transform:none!important}.custom-btn[data-v-3a1547ae]:hover{background-color:#fff!important;color:#01532b!important}.filter-card[data-v-3a1547ae]{background:#fff;border-radius:8px}.filter-title[data-v-3a1547ae]{background:#01532b;color:#fff;font-weight:600}.custom-primary-bg[data-v-3a1547ae]{background-color:#01532b!important}.custom-secondary-btn[data-v-3a1547ae]{background-color:#6c757d!important;color:#fff!important;font-weight:500!important;text-transform:none!important}.custom-secondary-btn[data-v-3a1547ae]:hover{background-color:#5a6268!important}.chart-account-selection .account-name[data-v-3a1547ae]{color:#01532b;font-weight:600}.chart-account-item .account-name[data-v-3a1547ae]{color:#333;font-weight:600}.chart-account-item .account-details[data-v-3a1547ae]{color:#666;font-size:12px}.summary-cards[data-v-3a1547ae]{margin-bottom:24px}.summary-card[data-v-3a1547ae]{border-radius:8px;height:140px;overflow:hidden;position:relative}.summary-card[data-v-3a1547ae]:hover{transform:translateY(-2px)}.summary-content[data-v-3a1547ae]{align-items:center;display:flex;height:100%;position:relative;z-index:2}.summary-icon[data-v-3a1547ae]{color:#fff;font-size:48px;margin-right:16px;opacity:.9}.summary-details h3[data-v-3a1547ae]{color:#fff;font-size:16px;font-weight:600;margin:0}.summary-details p[data-v-3a1547ae]{color:hsla(0,0%,100%,.9);font-size:12px;margin:4px 0}.summary-details h2[data-v-3a1547ae]{color:#fff;font-size:24px;font-weight:700;margin:8px 0 0}.summary-lcy[data-v-3a1547ae]{color:hsla(0,0%,100%,.9);font-size:11px;margin-top:4px!important;opacity:.9}.amount-card[data-v-3a1547ae],.lak-card[data-v-3a1547ae],.settlement-card[data-v-3a1547ae],.total-accounts-card[data-v-3a1547ae]{background:#01532b;color:#fff}.currency-breakdown[data-v-3a1547ae]{margin-bottom:24px}.currency-title[data-v-3a1547ae]{background:#01532b;color:#fff;font-weight:600}.currency-card[data-v-3a1547ae]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;height:100%;padding:16px;text-align:center;transition:all .3s ease}.currency-card[data-v-3a1547ae]:hover{border-color:#01532b;box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.currency-header[data-v-3a1547ae]{align-items:center;display:flex;justify-content:space-between;margin-bottom:12px}.currency-flag[data-v-3a1547ae]{font-size:24px}.currency-stats[data-v-3a1547ae]{text-align:center}.original-amount[data-v-3a1547ae]{color:#01532b;font-family:monospace;font-size:18px;font-weight:700;margin-bottom:4px}.lak-equivalent[data-v-3a1547ae]{color:#228b22;font-family:monospace;font-size:14px;font-weight:600;margin-bottom:8px}.settlement-count[data-v-3a1547ae]{color:#666;font-size:12px;margin-bottom:4px}.percentage[data-v-3a1547ae]{color:#999;font-size:11px}.accounting-table[data-v-3a1547ae]{background:#fff}.accounting-table-header[data-v-3a1547ae],.accounting-table-header th[data-v-3a1547ae]{background-color:#01532b!important}.accounting-table-header th[data-v-3a1547ae]{border-bottom:none!important;color:#fff!important;padding:12px 8px!important}.accounting-row-even[data-v-3a1547ae]{background-color:#f8f9fa}.accounting-row-special[data-v-3a1547ae]{background-color:#fff3cd;font-style:italic}.accounting-table-footer[data-v-3a1547ae]{background-color:#e9ecef!important;font-weight:700}.accounting-table-footer td[data-v-3a1547ae]{background-color:#e9ecef!important;border-top:2px solid #01532b!important;padding:12px 8px!important}.accounting-divider[data-v-3a1547ae]{border-color:#01532b!important;opacity:.3!important}.accounting-primary--text[data-v-3a1547ae]{color:#01532b!important}.accounting-success--text[data-v-3a1547ae]{color:#28a745!important}.report-card[data-v-3a1547ae]{border-radius:12px}.report-header[data-v-3a1547ae]{background:#01532b;color:#fff;font-weight:600}.search-field[data-v-3a1547ae] .v-icon,.search-field[data-v-3a1547ae] input{color:#fff!important}.search-field[data-v-3a1547ae] .v-label{color:hsla(0,0%,100%,.7)!important}.search-field[data-v-3a1547ae] .v-input__control{border-color:hsla(0,0%,100%,.3)!important}.dialog-header[data-v-3a1547ae]{background:#01532b!important;font-weight:600!important}.close-btn[data-v-3a1547ae],.dialog-header[data-v-3a1547ae]{color:#fff!important}.section-title[data-v-3a1547ae]{color:#01532b;font-size:18px;font-weight:600;margin:0}.custom-divider[data-v-3a1547ae]{border-color:#01532b!important;opacity:.3!important}.detail-stat[data-v-3a1547ae]{align-items:center;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-left:4px solid #01532b;border-radius:12px;display:flex;height:100%;padding:16px;transition:all .3s ease}.detail-stat[data-v-3a1547ae]:hover{box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.stat-icon[data-v-3a1547ae]{color:#01532b;font-size:24px;margin-right:12px}.stat-info strong[data-v-3a1547ae]{color:#01532b;display:block;font-size:12px;font-weight:700;margin-bottom:4px}.stat-number[data-v-3a1547ae]{color:#333;font-family:monospace;font-size:16px;font-weight:600;margin:0}.method-card[data-v-3a1547ae]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-left:4px solid #01532b;border-radius:12px;padding:16px;text-align:center;transition:all .3s ease}.method-card[data-v-3a1547ae]:hover{box-shadow:0 8px 24px rgba(1,83,43,.2);transform:translateY(-4px)}.method-header[data-v-3a1547ae]{margin-bottom:12px}.method-count[data-v-3a1547ae]{color:#666;font-size:14px;margin-bottom:4px}.method-amount[data-v-3a1547ae]{color:#01532b;font-family:monospace;font-size:18px;font-weight:600}.settlement-table[data-v-3a1547ae]{background:#fff}.settlement-table[data-v-3a1547ae] thead th{background-color:#01532b!important;border-bottom:none!important;color:#fff!important;font-weight:600!important}.settlement-table[data-v-3a1547ae] tbody tr:hover{background-color:rgba(1,83,43,.1)!important}.date-cell[data-v-3a1547ae]{color:#01532b;font-family:monospace;font-size:13px}.amount-breakdown[data-v-3a1547ae]{align-items:center;display:flex;flex-direction:column}.amount-cell[data-v-3a1547ae]{font-family:monospace;font-size:13px;font-weight:600}.exchange-rate-cell[data-v-3a1547ae]{text-align:center}.exchange-rate-cell .default-rate[data-v-3a1547ae]{color:#999;font-style:italic}.lak-amount-cell[data-v-3a1547ae]{text-align:center}.lak-amount[data-v-3a1547ae]{color:#228b22;font-family:monospace;font-size:13px;font-weight:600}.user-info .user-name[data-v-3a1547ae]{font-weight:500}.advance-info .advance-status[data-v-3a1547ae]{color:#666;font-size:10px;margin-top:2px}.no-advance[data-v-3a1547ae]{color:#999;font-style:italic}.text-center[data-v-3a1547ae]{text-align:center}.py-8[data-v-3a1547ae]{padding:64px 0}.mt-4[data-v-3a1547ae]{margin-top:16px}.mt-3[data-v-3a1547ae]{margin-top:12px}.mt-2[data-v-3a1547ae]{margin-top:8px}.mb-4[data-v-3a1547ae]{margin-bottom:24px}.mb-3[data-v-3a1547ae]{margin-bottom:12px}.my-3[data-v-3a1547ae]{margin:12px 0}.pa-4[data-v-3a1547ae]{padding:24px}@media print{.action-buttons[data-v-3a1547ae],.filter-card[data-v-3a1547ae],.v-btn[data-v-3a1547ae]{display:none!important}.summary-cards[data-v-3a1547ae]{page-break-inside:avoid}.report-header[data-v-3a1547ae]{background:#01532b!important;color:#fff!important;-webkit-print-color-adjust:exact}}@media (max-width:768px){.report-header[data-v-3a1547ae]{flex-direction:column;gap:16px;padding:16px;text-align:center}.title-section h1[data-v-3a1547ae]{font-size:24px}.action-buttons[data-v-3a1547ae]{flex-wrap:wrap;justify-content:center}.summary-content[data-v-3a1547ae]{flex-direction:column;padding:12px;text-align:center}.summary-icon[data-v-3a1547ae]{font-size:40px;margin-bottom:8px;margin-right:0}.summary-details h2[data-v-3a1547ae]{font-size:20px}.detail-stat[data-v-3a1547ae]{flex-direction:column;text-align:center}.stat-icon[data-v-3a1547ae]{margin-bottom:8px;margin-right:0}}", ""]);
// Exports
___CSS_LOADER_EXPORT___.locals = {};
module.exports = ___CSS_LOADER_EXPORT___;


/***/ }),

/***/ 1180:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VBtn/VBtn.js
var VBtn = __webpack_require__(123);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VCard/VCard.js
var VCard = __webpack_require__(120);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VCard/index.js
var components_VCard = __webpack_require__(6);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VChip/VChip.js
var VChip = __webpack_require__(124);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VGrid/VCol.js
var VCol = __webpack_require__(380);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VDataTable/VDataTable.js + 12 modules
var VDataTable = __webpack_require__(384);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VDialog/VDialog.js
var VDialog = __webpack_require__(337);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VDivider/VDivider.js
var VDivider = __webpack_require__(119);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VIcon/VIcon.js
var VIcon = __webpack_require__(60);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VProgressCircular/VProgressCircular.js
var VProgressCircular = __webpack_require__(91);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VGrid/VRow.js
var VRow = __webpack_require__(379);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VSelect/VSelect.js + 2 modules
var VSelect = __webpack_require__(19);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VDataTable/VSimpleTable.js
var VSimpleTable = __webpack_require__(160);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VGrid/VSpacer.js
var VSpacer = __webpack_require__(378);

// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VTextField/VTextField.js + 3 modules
var VTextField = __webpack_require__(37);

// CONCATENATED MODULE: ./node_modules/vuetify-loader/lib/loader.js??ref--4!./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--7!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/admin/report/MA/settlement/chartAccount/index.vue?vue&type=template&id=3a1547ae&scoped=true&

















var chartAccountvue_type_template_id_3a1547ae_scoped_true_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "chart-account-settlement-report"
  }, [_vm._ssrNode("<div class=\"report-header\" data-v-3a1547ae>", "</div>", [_vm._ssrNode("<div class=\"title-section\" data-v-3a1547ae><h1 class=\"page-title\" data-v-3a1547ae><i class=\"fas fa-chart-pie\" data-v-3a1547ae></i>\n        ລາຍງານຊຳລະຕາມບັນຊີຄ່າໃຊ້ຈ່າຍ\n      </h1> <p class=\"page-subtitle\" data-v-3a1547ae>Chart Account Settlement Report</p></div> "), _vm._ssrNode("<div class=\"action-buttons\" data-v-3a1547ae>", "</div>", [_c(VBtn["a" /* default */], {
    staticClass: "custom-btn export-btn",
    attrs: {
      "loading": _vm.exporting
    },
    on: {
      "click": _vm.exportToExcel
    }
  }, [_c('i', {
    staticClass: "fas fa-file-excel"
  }), _vm._v("\n        Export Excel\n      ")]), _vm._ssrNode(" "), _c(VBtn["a" /* default */], {
    staticClass: "custom-btn print-btn",
    on: {
      "click": _vm.printReport
    }
  }, [_c('i', {
    staticClass: "fas fa-print"
  }), _vm._v("\n        Print\n      ")])], 2)], 2), _vm._ssrNode(" "), _c(VCard["a" /* default */], {
    staticClass: "filter-card mb-4",
    attrs: {
      "elevation": "2"
    }
  }, [_c(components_VCard["d" /* VCardTitle */], {
    staticClass: "filter-title d-flex align-center"
  }, [_c(VIcon["a" /* default */], {
    staticClass: "mr-2"
  }, [_vm._v("mdi-filter")]), _vm._v("\n      ຕົວກອງ (Filters)\n    ")], 1), _vm._v(" "), _c(components_VCard["c" /* VCardText */], {
    staticClass: "pa-4"
  }, [_c(VRow["a" /* default */], [_c(VCol["a" /* default */], {
    attrs: {
      "cols": "12",
      "md": "3"
    }
  }, [_c(VTextField["a" /* default */], {
    attrs: {
      "type": "date",
      "label": "ວັນທີເລີ່ມຕົ້ນ (From Date)",
      "outlined": "",
      "dense": ""
    },
    on: {
      "change": _vm.loadDashboardData
    },
    model: {
      value: _vm.filters.startDate,
      callback: function ($$v) {
        _vm.$set(_vm.filters, "startDate", $$v);
      },
      expression: "filters.startDate"
    }
  })], 1), _vm._v(" "), _c(VCol["a" /* default */], {
    attrs: {
      "cols": "12",
      "md": "3"
    }
  }, [_c(VTextField["a" /* default */], {
    attrs: {
      "type": "date",
      "label": "ວັນທີສິ້ນສຸດ (To Date)",
      "outlined": "",
      "dense": ""
    },
    on: {
      "change": _vm.loadDashboardData
    },
    model: {
      value: _vm.filters.endDate,
      callback: function ($$v) {
        _vm.$set(_vm.filters, "endDate", $$v);
      },
      expression: "filters.endDate"
    }
  })], 1), _vm._v(" "), _c(VCol["a" /* default */], {
    attrs: {
      "cols": "12",
      "md": "4"
    }
  }, [_c(VSelect["a" /* default */], {
    attrs: {
      "items": _vm.chartAccounts,
      "item-text": "name",
      "item-value": "id",
      "label": "ບັນຊີຄ່າໃຊ້ຈ່າຍ (Chart Account)",
      "clearable": "",
      "outlined": "",
      "dense": ""
    },
    on: {
      "change": _vm.loadDashboardData
    },
    scopedSlots: _vm._u([{
      key: "selection",
      fn: function ({
        item
      }) {
        return [_c('div', {
          staticClass: "chart-account-selection"
        }, [_c('span', {
          staticClass: "account-name"
        }, [_vm._v(_vm._s(item.accountName))]), _vm._v(" "), _c('small', [_vm._v(_vm._s(item.accountNumber) + " - " + _vm._s(item.accountType))])])];
      }
    }, {
      key: "item",
      fn: function ({
        item
      }) {
        return [_c('div', {
          staticClass: "chart-account-item"
        }, [_c('div', {
          staticClass: "account-name"
        }, [_vm._v(_vm._s(item.accountName))]), _vm._v(" "), _c('div', {
          staticClass: "account-details"
        }, [_vm._v("\n                  Code: " + _vm._s(item.accountNumber) + " | Type:\n                  " + _vm._s(item.accountType) + "\n                ")])])];
      }
    }]),
    model: {
      value: _vm.filters.chartAccountId,
      callback: function ($$v) {
        _vm.$set(_vm.filters, "chartAccountId", $$v);
      },
      expression: "filters.chartAccountId"
    }
  })], 1), _vm._v(" "), _c(VCol["a" /* default */], {
    attrs: {
      "cols": "12",
      "md": "2"
    }
  }, [_c(VSelect["a" /* default */], {
    attrs: {
      "items": _vm.settlementMethods,
      "label": "ວິທີການຊຳລະ (Method)",
      "clearable": "",
      "outlined": "",
      "dense": ""
    },
    on: {
      "change": _vm.loadDashboardData
    },
    model: {
      value: _vm.filters.method,
      callback: function ($$v) {
        _vm.$set(_vm.filters, "method", $$v);
      },
      expression: "filters.method"
    }
  })], 1)], 1), _vm._v(" "), _c(VRow["a" /* default */], {
    staticClass: "mt-2"
  }, [_c(VCol["a" /* default */], {
    attrs: {
      "cols": "12",
      "md": "3"
    }
  }, [_c(VBtn["a" /* default */], {
    staticClass: "custom-primary-bg white--text",
    attrs: {
      "block": "",
      "outlined": "",
      "loading": _vm.loading
    },
    on: {
      "click": _vm.loadDashboardData
    }
  }, [_c(VIcon["a" /* default */], {
    attrs: {
      "left": "",
      "color": "white"
    }
  }, [_vm._v("mdi-refresh")]), _vm._v("\n            Refresh\n          ")], 1)], 1), _vm._v(" "), _c(VCol["a" /* default */], {
    attrs: {
      "cols": "12",
      "md": "3"
    }
  }, [_c(VBtn["a" /* default */], {
    staticClass: "custom-secondary-btn",
    attrs: {
      "block": "",
      "outlined": "",
      "color": "grey lighten-1"
    },
    on: {
      "click": _vm.resetFilters
    }
  }, [_c(VIcon["a" /* default */], {
    attrs: {
      "left": ""
    }
  }, [_vm._v("mdi-restore")]), _vm._v("\n            Reset\n          ")], 1)], 1)], 1)], 1)], 1), _vm._ssrNode(" "), !_vm.loading ? _c(VRow["a" /* default */], {
    staticClass: "summary-cards mb-4"
  }, [_c(VCol["a" /* default */], {
    attrs: {
      "cols": "12",
      "md": "3"
    }
  }, [_c(VCard["a" /* default */], {
    staticClass: "summary-card total-accounts-card",
    attrs: {
      "elevation": "4"
    }
  }, [_c(components_VCard["c" /* VCardText */], [_c('div', {
    staticClass: "summary-content"
  }, [_c('div', {
    staticClass: "summary-icon"
  }, [_c('i', {
    staticClass: "fas fa-chart-pie"
  })]), _vm._v(" "), _c('div', {
    staticClass: "summary-details"
  }, [_c('h3', {
    staticClass: "summary-title"
  }, [_vm._v("ທັງໝົດບັນຊີ")]), _vm._v(" "), _c('p', {
    staticClass: "summary-subtitle"
  }, [_vm._v("Total Chart Accounts")]), _vm._v(" "), _c('h2', {
    staticClass: "summary-amount"
  }, [_vm._v(_vm._s(_vm.chartAccountStats.length))]), _vm._v(" "), _c('p', {
    staticClass: "summary-lcy"
  }, [_vm._v("Active Chart Accounts")])])])])], 1)], 1), _vm._v(" "), _c(VCol["a" /* default */], {
    attrs: {
      "cols": "12",
      "md": "3"
    }
  }, [_c(VCard["a" /* default */], {
    staticClass: "summary-card settlement-card",
    attrs: {
      "elevation": "4"
    }
  }, [_c(components_VCard["c" /* VCardText */], [_c('div', {
    staticClass: "summary-content"
  }, [_c('div', {
    staticClass: "summary-icon"
  }, [_c('i', {
    staticClass: "fas fa-money-bill-wave"
  })]), _vm._v(" "), _c('div', {
    staticClass: "summary-details"
  }, [_c('h3', {
    staticClass: "summary-title"
  }, [_vm._v("ຈຳນວນການຊຳລະ")]), _vm._v(" "), _c('p', {
    staticClass: "summary-subtitle"
  }, [_vm._v("Total Settlements")]), _vm._v(" "), _c('h2', {
    staticClass: "summary-amount"
  }, [_vm._v(_vm._s(_vm.totalSettlementsCount))]), _vm._v(" "), _c('p', {
    staticClass: "summary-lcy"
  }, [_vm._v("Settlement Count")])])])])], 1)], 1), _vm._v(" "), _c(VCol["a" /* default */], {
    attrs: {
      "cols": "12",
      "md": "3"
    }
  }, [_c(VCard["a" /* default */], {
    staticClass: "summary-card amount-card",
    attrs: {
      "elevation": "4"
    }
  }, [_c(components_VCard["c" /* VCardText */], [_c('div', {
    staticClass: "summary-content"
  }, [_c('div', {
    staticClass: "summary-icon"
  }, [_c('i', {
    staticClass: "fas fa-coins"
  })]), _vm._v(" "), _c('div', {
    staticClass: "summary-details"
  }, [_c('h3', {
    staticClass: "summary-title"
  }, [_vm._v("ລວມທຸກສະກຸນ")]), _vm._v(" "), _c('p', {
    staticClass: "summary-subtitle"
  }, [_vm._v("Multi-Currency Total")]), _vm._v(" "), _c('h2', {
    staticClass: "summary-amount"
  }, [_vm._v(_vm._s(_vm.uniqueCurrencies))]), _vm._v(" "), _c('p', {
    staticClass: "summary-lcy"
  }, [_vm._v(_vm._s(_vm.uniqueCurrencies) + " Currencies")])])])])], 1)], 1), _vm._v(" "), _c(VCol["a" /* default */], {
    attrs: {
      "cols": "12",
      "md": "3"
    }
  }, [_c(VCard["a" /* default */], {
    staticClass: "summary-card lak-card",
    attrs: {
      "elevation": "4"
    }
  }, [_c(components_VCard["c" /* VCardText */], [_c('div', {
    staticClass: "summary-content"
  }, [_c('div', {
    staticClass: "summary-icon"
  }, [_c('i', {
    staticClass: "fas fa-calculator"
  })]), _vm._v(" "), _c('div', {
    staticClass: "summary-details"
  }, [_c('h3', {
    staticClass: "summary-title"
  }, [_vm._v("ລາວກີບ (LAK)")]), _vm._v(" "), _c('p', {
    staticClass: "summary-subtitle"
  }, [_vm._v("Total LAK Equivalent")]), _vm._v(" "), _c('h2', {
    staticClass: "summary-amount"
  }, [_vm._v("\n                " + _vm._s(_vm.formatCurrency(_vm.totalLakAmount, 'LAK')) + "\n              ")]), _vm._v(" "), _c('p', {
    staticClass: "summary-lcy"
  }, [_vm._v("Local Currency")])])])])], 1)], 1)], 1) : _vm._e(), _vm._ssrNode(" "), !_vm.loading && _vm.currencyBreakdown.length > 0 ? _c(VRow["a" /* default */], {
    staticClass: "currency-breakdown mb-4"
  }, [_c(VCol["a" /* default */], {
    attrs: {
      "cols": "12"
    }
  }, [_c(VCard["a" /* default */], {
    attrs: {
      "elevation": "2"
    }
  }, [_c(components_VCard["d" /* VCardTitle */], {
    staticClass: "currency-title"
  }, [_c('i', {
    staticClass: "fas fa-coins"
  }), _vm._v("\n          ການແຈກຢາຍຕາມສະກຸນເງິນ (Currency Breakdown)\n        ")]), _vm._v(" "), _c(components_VCard["c" /* VCardText */], [_c(VRow["a" /* default */], _vm._l(_vm.currencyBreakdown, function (currency) {
    return _c(VCol["a" /* default */], {
      key: currency.currencyCode || currency.currencyId,
      attrs: {
        "cols": "12",
        "md": "4",
        "lg": "3"
      }
    }, [_c('div', {
      staticClass: "currency-card"
    }, [_c('div', {
      staticClass: "currency-header"
    }, [_c(VChip["a" /* default */], {
      attrs: {
        "color": _vm.getCurrencyColor(currency.currencyCode),
        "text-color": "white",
        "large": ""
      }
    }, [_vm._v("\n                    " + _vm._s(currency.currencyCode || 'LAK') + "\n                  ")]), _vm._v(" "), _c('div', {
      staticClass: "currency-flag"
    }, [_vm._v("\n                    " + _vm._s(_vm.getCurrencyFlag(currency.currencyCode)) + "\n                  ")])], 1), _vm._v(" "), _c('div', {
      staticClass: "currency-stats"
    }, [_c('div', {
      staticClass: "original-amount"
    }, [_vm._v("\n                    " + _vm._s(_vm.formatCurrency(currency.totalAmount, currency.currencyCode)) + "\n                  ")]), _vm._v(" "), _c('div', {
      staticClass: "lak-equivalent"
    }, [_vm._v("\n                    ≈ " + _vm._s(_vm.formatCurrency(currency.lakEquivalent, 'LAK')) + "\n                  ")]), _vm._v(" "), _c('div', {
      staticClass: "settlement-count"
    }, [_vm._v("\n                    " + _vm._s(currency.count) + " ການຊຳລະ\n                  ")]), _vm._v(" "), _c('div', {
      staticClass: "percentage"
    }, [_vm._v("\n                    " + _vm._s(Math.round(currency.lakEquivalent / _vm.totalLakAmount * 100)) + "% ຂອງທັງໝົດ\n                  ")])])])]);
  }), 1)], 1)], 1)], 1)], 1) : _vm._e(), _vm._ssrNode(" "), _vm.loading ? _vm._ssrNode("<div class=\"text-center py-8\" data-v-3a1547ae>", "</div>", [_c(VProgressCircular["a" /* default */], {
    attrs: {
      "indeterminate": "",
      "color": "#01532B",
      "size": "64"
    }
  }), _vm._ssrNode(" <p class=\"mt-4 text-gray-600\" data-v-3a1547ae>\n      ກຳລັງໂຫລດຂໍ້ມູນ... Loading chart account reports...\n    </p>")], 2) : _vm._e(), _vm._ssrNode(" "), _c(VRow["a" /* default */], {
    staticClass: "mb-4"
  }, [_c(VCol["a" /* default */], {
    attrs: {
      "cols": "12"
    }
  }, [_c(VCard["a" /* default */], {
    staticClass: "rounded-xl report-card",
    attrs: {
      "elevation": "2"
    }
  }, [_c(components_VCard["d" /* VCardTitle */], {
    staticClass: "accounting-primary--text py-2 px-4 d-flex align-center report-header"
  }, [_c(VIcon["a" /* default */], {
    staticClass: "mr-2",
    attrs: {
      "color": "#01532B"
    }
  }, [_vm._v("mdi-chart-pie")]), _vm._v(" "), _c('span', {
    staticClass: "text-subtitle-1 font-weight-medium"
  }, [_vm._v("\n            ລາຍງານ ຕາມບັນຊີຄ່າໃຊ້ຈ່າຍ\n          ")]), _vm._v(" "), _c(VSpacer["a" /* default */]), _vm._v(" "), _c(VTextField["a" /* default */], {
    staticClass: "search-field mr-4",
    staticStyle: {
      "max-width": "250px"
    },
    attrs: {
      "append-icon": "mdi-magnify",
      "label": "ຄົ້ນຫາບັນຊີ...",
      "single-line": "",
      "hide-details": "",
      "outlined": "",
      "dense": ""
    },
    model: {
      value: _vm.search,
      callback: function ($$v) {
        _vm.search = $$v;
      },
      expression: "search"
    }
  }), _vm._v(" "), _c(VBtn["a" /* default */], {
    staticClass: "mr-2",
    attrs: {
      "color": "#059669",
      "small": "",
      "outlined": "",
      "disabled": !_vm.filteredChartAccounts.length,
      "loading": _vm.exporting
    },
    on: {
      "click": _vm.exportToExcel
    }
  }, [_c(VIcon["a" /* default */], {
    attrs: {
      "small": "",
      "left": ""
    }
  }, [_vm._v("mdi-file-excel")]), _vm._v("\n            Export Excel\n          ")], 1), _vm._v(" "), _c(VBtn["a" /* default */], {
    attrs: {
      "icon": "",
      "small": "",
      "loading": _vm.loading,
      "color": "#01532B"
    },
    on: {
      "click": _vm.loadDashboardData
    }
  }, [_c(VIcon["a" /* default */], {
    attrs: {
      "small": ""
    }
  }, [_vm._v("mdi-refresh")])], 1)], 1), _vm._v(" "), _c(VDivider["a" /* default */], {
    staticClass: "accounting-divider"
  }), _vm._v(" "), _c(components_VCard["c" /* VCardText */], {
    staticClass: "pa-0"
  }, [_vm.loading ? _c('div', {
    staticClass: "text-center py-6"
  }, [_c(VProgressCircular["a" /* default */], {
    attrs: {
      "indeterminate": "",
      "color": "#01532B"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "mt-2 text-caption"
  }, [_vm._v("\n              Loading chart account report...\n            ")])], 1) : !_vm.chartAccountStats.length ? _c('div', {
    staticClass: "text-center py-6"
  }, [_c(VIcon["a" /* default */], {
    attrs: {
      "size": "48",
      "color": "grey lighten-2"
    }
  }, [_vm._v("mdi-information-outline")]), _vm._v(" "), _c('div', {
    staticClass: "mt-2 text-subtitle-2 grey--text"
  }, [_vm._v("\n              No chart account data available\n            ")])], 1) : _c(VSimpleTable["a" /* default */], {
    staticClass: "accounting-table",
    attrs: {
      "dense": ""
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function () {
        return [_c('thead', [_c('tr', {
          staticClass: "accounting-table-header"
        }, [_c('th', {
          staticClass: "white--text text-caption font-weight-bold"
        }, [_vm._v("#")]), _vm._v(" "), _c('th', {
          staticClass: "white--text text-caption font-weight-bold"
        }, [_vm._v("\n                    Account Code\n                  ")]), _vm._v(" "), _c('th', {
          staticClass: "white--text text-caption font-weight-bold"
        }, [_vm._v("\n                    Account Name\n                  ")]), _vm._v(" "), _c('th', {
          staticClass: "white--text text-caption font-weight-bold"
        }, [_vm._v("\n                    Account Type\n                  ")]), _vm._v(" "), _c('th', {
          staticClass: "white--text text-caption font-weight-bold"
        }, [_vm._v("\n                    Category\n                  ")]), _vm._v(" "), _c('th', {
          staticClass: "white--text text-caption font-weight-bold text-right"
        }, [_vm._v("\n                    Count\n                  ")]), _vm._v(" "), _vm._l(_vm.currencyList, function (currency) {
          return _c('th', {
            key: 'head-' + currency.code,
            staticClass: "white--text text-caption font-weight-bold text-right"
          }, [_vm._v("\n                    " + _vm._s(currency.code) + "\n                  ")]);
        }), _vm._v(" "), _c('th', {
          staticClass: "white--text text-caption font-weight-bold text-right"
        }, [_vm._v("\n                    Total (LAK)\n                  ")]), _vm._v(" "), _c('th', {
          staticClass: "white--text text-caption font-weight-bold text-center"
        }, [_vm._v("\n                    Actions\n                  ")])], 2)]), _vm._v(" "), _c('tbody', [_vm._l(_vm.filteredChartAccounts, function (item, index) {
          var _item$chartAccount, _item$chartAccount2, _item$chartAccount3, _item$chartAccount4, _item$chartAccount5;
          return _c('tr', {
            key: item.chartAccountId,
            class: {
              'accounting-row-even': index % 2 === 0,
              'accounting-row-special': item.chartAccountId === 'NO_CHART_ACCOUNT'
            }
          }, [_c('td', {
            staticClass: "text-caption text-center"
          }, [_vm._v(_vm._s(index + 1))]), _vm._v(" "), _c('td', {
            staticClass: "text-body-2 font-weight-medium",
            class: {
              'grey--text': item.chartAccountId === 'NO_CHART_ACCOUNT'
            }
          }, [_vm._v("\n                    " + _vm._s(((_item$chartAccount = item.chartAccount) === null || _item$chartAccount === void 0 ? void 0 : _item$chartAccount.accountNumber) || 'N/A') + "\n                  ")]), _vm._v(" "), _c('td', {
            staticClass: "text-body-2",
            class: {
              'grey--text font-italic': item.chartAccountId === 'NO_CHART_ACCOUNT'
            }
          }, [_vm._v("\n                    " + _vm._s(((_item$chartAccount2 = item.chartAccount) === null || _item$chartAccount2 === void 0 ? void 0 : _item$chartAccount2.accountName) || 'Unknown Account') + "\n                  ")]), _vm._v(" "), _c('td', {
            staticClass: "text-body-2"
          }, [_c(VChip["a" /* default */], {
            attrs: {
              "x-small": "",
              "color": _vm.getAccountTypeColor((_item$chartAccount3 = item.chartAccount) === null || _item$chartAccount3 === void 0 ? void 0 : _item$chartAccount3.accountType),
              "text-color": "white"
            }
          }, [_vm._v("\n                      " + _vm._s(((_item$chartAccount4 = item.chartAccount) === null || _item$chartAccount4 === void 0 ? void 0 : _item$chartAccount4.accountType) || 'N/A') + "\n                    ")])], 1), _vm._v(" "), _c('td', {
            staticClass: "text-body-2",
            class: {
              'grey--text font-italic': item.chartAccountId === 'NO_CHART_ACCOUNT'
            }
          }, [_vm._v("\n                    " + _vm._s(((_item$chartAccount5 = item.chartAccount) === null || _item$chartAccount5 === void 0 ? void 0 : _item$chartAccount5.category) || 'N/A') + "\n                  ")]), _vm._v(" "), _c('td', {
            staticClass: "text-body-2 text-right"
          }, [_c(VChip["a" /* default */], {
            attrs: {
              "x-small": "",
              "color": "#228B22",
              "text-color": "white"
            }
          }, [_vm._v("\n                      " + _vm._s(item.count) + "\n                    ")])], 1), _vm._v(" "), _vm._l(_vm.currencyList, function (currency) {
            var _item$amounts;
            return _c('td', {
              key: 'amt-' + currency.code,
              staticClass: "text-body-2 text-right"
            }, [_vm._v("\n                    " + _vm._s(_vm.formatCurrency(((_item$amounts = item.amounts) === null || _item$amounts === void 0 ? void 0 : _item$amounts[currency.code]) || 0)) + "\n                  ")]);
          }), _vm._v(" "), _c('td', {
            staticClass: "text-right font-weight-bold accounting-success--text"
          }, [_vm._v("\n                    " + _vm._s(_vm.formatCurrency(item.totalLak || 0, 'LAK')) + "\n                  ")]), _vm._v(" "), _c('td', {
            staticClass: "text-center"
          }, [_c(VBtn["a" /* default */], {
            staticClass: "white--text",
            attrs: {
              "x-small": "",
              "color": "#01532B"
            },
            on: {
              "click": function ($event) {
                return _vm.selectChartAccount(item.chartAccountId);
              }
            }
          }, [_c(VIcon["a" /* default */], {
            attrs: {
              "x-small": ""
            }
          }, [_vm._v("mdi-eye")]), _vm._v("\n                      ເບິ່ງ\n                    ")], 1)], 1)], 2);
        }), _vm._v(" "), _c('tr', {
          staticClass: "accounting-table-footer"
        }, [_c('td', {
          staticClass: "font-weight-bold text-caption",
          attrs: {
            "colspan": "5"
          }
        }, [_vm._v("\n                    ລວມ (Total)\n                  ")]), _vm._v(" "), _c('td', {
          staticClass: "text-right font-weight-bold text-body-2"
        }, [_c(VChip["a" /* default */], {
          attrs: {
            "x-small": "",
            "color": "#01532B",
            "text-color": "white"
          }
        }, [_vm._v("\n                      " + _vm._s(_vm.totalSettlementsCount) + "\n                    ")])], 1), _vm._v(" "), _vm._l(_vm.currencyList, function (currency) {
          return _c('td', {
            key: 'sum-' + currency.code,
            staticClass: "text-right font-weight-bold text-body-2"
          }, [_vm._v("\n                    " + _vm._s(_vm.formatCurrency(_vm.getCurrencyTotal(currency.code))) + "\n                  ")]);
        }), _vm._v(" "), _c('td', {
          staticClass: "text-right font-weight-bold text-body-2 accounting-primary--text"
        }, [_vm._v("\n                    " + _vm._s(_vm.formatCurrency(_vm.totalLakAmount, 'LAK')) + "\n                  ")]), _vm._v(" "), _c('td', {
          staticClass: "text-center"
        }, [_c(VChip["a" /* default */], {
          attrs: {
            "x-small": "",
            "color": "grey"
          }
        }, [_vm._v(_vm._s(_vm.filteredChartAccounts.length) + " accounts")])], 1)], 2)], 2)];
      },
      proxy: true
    }])
  })], 1)], 1)], 1)], 1), _vm._ssrNode(" "), _c(VDialog["a" /* default */], {
    attrs: {
      "max-width": "1200px",
      "scrollable": ""
    },
    model: {
      value: _vm.settlementDialog,
      callback: function ($$v) {
        _vm.settlementDialog = $$v;
      },
      expression: "settlementDialog"
    }
  }, [_vm.selectedChartAccount ? _c(VCard["a" /* default */], [_c(components_VCard["d" /* VCardTitle */], {
    staticClass: "dialog-header"
  }, [_c('i', {
    staticClass: "fas fa-chart-pie"
  }), _vm._v("\n        ລາຍລະອຽດການຊຳລະ - " + _vm._s(_vm.selectedChartAccount.name) + "\n        "), _c(VSpacer["a" /* default */]), _vm._v(" "), _c(VBtn["a" /* default */], {
    staticClass: "close-btn",
    attrs: {
      "icon": ""
    },
    on: {
      "click": _vm.closeDialog
    }
  }, [_c(VIcon["a" /* default */], [_vm._v("mdi-close")])], 1)], 1), _vm._v(" "), _c(components_VCard["c" /* VCardText */], [_c(VRow["a" /* default */], {
    staticClass: "summary-section mb-4"
  }, [_c(VCol["a" /* default */], {
    attrs: {
      "cols": "12"
    }
  }, [_c('h3', {
    staticClass: "section-title"
  }, [_vm._v("\n              ສະຫຼຸບບັນຊີຄ່າໃຊ້ຈ່າຍ (Chart Account Summary)\n            ")]), _vm._v(" "), _c(VDivider["a" /* default */], {
    staticClass: "custom-divider mb-3"
  })], 1), _vm._v(" "), _c(VCol["a" /* default */], {
    attrs: {
      "cols": "6",
      "md": "3"
    }
  }, [_c('div', {
    staticClass: "detail-stat"
  }, [_c('div', {
    staticClass: "stat-icon"
  }, [_c('i', {
    staticClass: "fas fa-list-ol"
  })]), _vm._v(" "), _c('div', {
    staticClass: "stat-info"
  }, [_c('strong', [_vm._v("ຈຳນວນການຊຳລະ:")]), _vm._v(" "), _c('p', {
    staticClass: "stat-number"
  }, [_vm._v("\n                  " + _vm._s(_vm.settlementSummary.settlementCount) + "\n                ")])])])]), _vm._v(" "), _c(VCol["a" /* default */], {
    attrs: {
      "cols": "6",
      "md": "3"
    }
  }, [_c('div', {
    staticClass: "detail-stat"
  }, [_c('div', {
    staticClass: "stat-icon"
  }, [_c('i', {
    staticClass: "fas fa-dollar-sign"
  })]), _vm._v(" "), _c('div', {
    staticClass: "stat-info"
  }, [_c('strong', [_vm._v("ລວມຈຳນວນເງິນ:")]), _vm._v(" "), _c('p', {
    staticClass: "stat-number"
  }, [_vm._v("\n                  $" + _vm._s(_vm.formatCurrency(_vm.settlementSummary.totalAmount)) + "\n                ")])])])]), _vm._v(" "), _c(VCol["a" /* default */], {
    attrs: {
      "cols": "6",
      "md": "3"
    }
  }, [_c('div', {
    staticClass: "detail-stat"
  }, [_c('div', {
    staticClass: "stat-icon"
  }, [_c('i', {
    staticClass: "fas fa-calculator"
  })]), _vm._v(" "), _c('div', {
    staticClass: "stat-info"
  }, [_c('strong', [_vm._v("ຄ່າສະເລ່ຍ:")]), _vm._v(" "), _c('p', {
    staticClass: "stat-number"
  }, [_vm._v("\n                  $" + _vm._s(_vm.formatCurrency(_vm.settlementSummary.totalAmount / _vm.settlementSummary.settlementCount)) + "\n                ")])])])]), _vm._v(" "), _c(VCol["a" /* default */], {
    attrs: {
      "cols": "6",
      "md": "3"
    }
  }, [_c('div', {
    staticClass: "detail-stat"
  }, [_c('div', {
    staticClass: "stat-icon"
  }, [_c('i', {
    staticClass: "fas fa-chart-pie"
  })]), _vm._v(" "), _c('div', {
    staticClass: "stat-info"
  }, [_c('strong', [_vm._v("ລະຫັດບັນຊີ:")]), _vm._v(" "), _c('p', {
    staticClass: "stat-number"
  }, [_vm._v("\n                  " + _vm._s(_vm.selectedChartAccount.code) + "\n                ")])])])])], 1), _vm._v(" "), _vm.methodDistribution.length > 0 ? _c(VRow["a" /* default */], {
    staticClass: "method-distribution mb-4"
  }, [_c(VCol["a" /* default */], {
    attrs: {
      "cols": "12"
    }
  }, [_c('h3', {
    staticClass: "section-title"
  }, [_vm._v("\n              ການແຈກຢາຍຕາມວິທີການ (Method Distribution)\n            ")]), _vm._v(" "), _c(VDivider["a" /* default */], {
    staticClass: "custom-divider mb-3"
  })], 1), _vm._v(" "), _vm._l(_vm.methodDistribution, function (method) {
    return _c(VCol["a" /* default */], {
      key: method.method,
      attrs: {
        "cols": "12",
        "md": "4"
      }
    }, [_c('div', {
      staticClass: "method-card"
    }, [_c('div', {
      staticClass: "method-header"
    }, [_c(VChip["a" /* default */], {
      attrs: {
        "color": _vm.getMethodColor(method.method),
        "text-color": "white",
        "small": ""
      }
    }, [_vm._v("\n                  " + _vm._s(_vm.formatMethod(method.method)) + "\n                ")])], 1), _vm._v(" "), _c('div', {
      staticClass: "method-stats"
    }, [_c('div', {
      staticClass: "method-count"
    }, [_vm._v(_vm._s(method.count) + " ການຊຳລະ")]), _vm._v(" "), _c('div', {
      staticClass: "method-amount"
    }, [_vm._v("\n                  $" + _vm._s(_vm.formatCurrency(method.total)) + "\n                ")])])])]);
  })], 2) : _vm._e(), _vm._v(" "), _c(VRow["a" /* default */], [_c(VCol["a" /* default */], {
    attrs: {
      "cols": "12"
    }
  }, [_c('h3', {
    staticClass: "section-title"
  }, [_vm._v("\n              ລາຍການການຊຳລະ (Settlement Transactions)\n            ")]), _vm._v(" "), _c(VDivider["a" /* default */], {
    staticClass: "custom-divider mb-3"
  }), _vm._v(" "), _c(VDataTable["a" /* default */], {
    staticClass: "settlement-table",
    attrs: {
      "headers": _vm.settlementHeaders,
      "items": _vm.selectedSettlements,
      "loading": _vm.loadingDetails,
      "items-per-page": 10,
      "footer-props": {
        itemsPerPageOptions: [5, 10, 25, 50],
        itemsPerPageText: 'ແຖວຕໍ່ໜ້າ:'
      }
    },
    scopedSlots: _vm._u([{
      key: "item.bookingDate",
      fn: function ({
        item
      }) {
        return [_c('span', {
          staticClass: "date-cell"
        }, [_vm._v(_vm._s(_vm.formatDate(item.bookingDate)))])];
      }
    }, {
      key: "item.currency",
      fn: function ({
        item
      }) {
        var _item$currency, _item$currency2;
        return [_c(VChip["a" /* default */], {
          attrs: {
            "color": _vm.getCurrencyColor((_item$currency = item.currency) === null || _item$currency === void 0 ? void 0 : _item$currency.code),
            "text-color": "white",
            "small": ""
          }
        }, [_vm._v("\n                  " + _vm._s(((_item$currency2 = item.currency) === null || _item$currency2 === void 0 ? void 0 : _item$currency2.code) || 'LAK') + "\n                ")])];
      }
    }, {
      key: "item.amount",
      fn: function ({
        item
      }) {
        var _item$currency3;
        return [_c('div', {
          staticClass: "amount-breakdown"
        }, [_c('span', {
          staticClass: "amount-cell"
        }, [_vm._v(_vm._s(_vm.formatCurrency(item.amount, (_item$currency3 = item.currency) === null || _item$currency3 === void 0 ? void 0 : _item$currency3.code)))])])];
      }
    }, {
      key: "item.exchangeRate",
      fn: function ({
        item
      }) {
        return [_c('div', {
          staticClass: "exchange-rate-cell"
        }, [item.exchangeRate && item.exchangeRate !== 1 ? _c('span', [_vm._v("\n                    " + _vm._s(_vm.formatExchangeRate(item.exchangeRate)) + "\n                  ")]) : _c('span', {
          staticClass: "default-rate"
        }, [_vm._v("1.0000")])])];
      }
    }, {
      key: "item.lakAmount",
      fn: function ({
        item
      }) {
        return [_c('div', {
          staticClass: "lak-amount-cell"
        }, [_c('span', {
          staticClass: "lak-amount"
        }, [_vm._v(_vm._s(_vm.formatCurrency(_vm.calculateLakAmount(item.amount, item.exchangeRate), 'LAK')))])])];
      }
    }, {
      key: "item.method",
      fn: function ({
        item
      }) {
        return [_c(VChip["a" /* default */], {
          attrs: {
            "color": _vm.getMethodColor(item.method),
            "text-color": "white",
            "small": ""
          }
        }, [_vm._v("\n                  " + _vm._s(_vm.formatMethod(item.method)) + "\n                ")])];
      }
    }, {
      key: "item.proceeder",
      fn: function ({
        item
      }) {
        var _item$proceeder;
        return [_c('div', {
          staticClass: "user-info"
        }, [_c('span', {
          staticClass: "user-name"
        }, [_vm._v(_vm._s(((_item$proceeder = item.proceeder) === null || _item$proceeder === void 0 ? void 0 : _item$proceeder.name) || 'N/A'))])])];
      }
    }, {
      key: "item.moneyAdvance",
      fn: function ({
        item
      }) {
        return [item.moneyAdvance ? _c('div', {
          staticClass: "advance-info"
        }, [_c(VChip["a" /* default */], {
          attrs: {
            "color": "#01532B",
            "text-color": "white",
            "small": ""
          }
        }, [_vm._v("\n                    #" + _vm._s(item.moneyAdvance.id) + "\n                  ")]), _vm._v(" "), _c('div', {
          staticClass: "advance-status"
        }, [_vm._v("\n                    " + _vm._s(item.moneyAdvance.status) + "\n                  ")])], 1) : _c('span', {
          staticClass: "no-advance"
        }, [_vm._v("Standalone")])];
      }
    }, {
      key: "item.actions",
      fn: function ({
        item
      }) {
        return [_c(VBtn["a" /* default */], {
          attrs: {
            "small": "",
            "color": "#01532B"
          },
          on: {
            "click": function ($event) {
              return _vm.viewSettlement(item.id);
            }
          }
        }, [_c('i', {
          staticClass: "fas fa-eye"
        }), _vm._v("\n                  ເບິ່ງ\n                ")])];
      }
    }], null, false, 3682692414)
  })], 1)], 1)], 1)], 1) : _vm._e()], 1)], 2);
};
var staticRenderFns = [];

// CONCATENATED MODULE: ./pages/admin/report/MA/settlement/chartAccount/index.vue?vue&type=template&id=3a1547ae&scoped=true&

// EXTERNAL MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/admin/report/MA/settlement/chartAccount/index.vue?vue&type=script&lang=js&
var chartAccountvue_type_script_lang_js_ = __webpack_require__(666);

// CONCATENATED MODULE: ./pages/admin/report/MA/settlement/chartAccount/index.vue?vue&type=script&lang=js&
 /* harmony default export */ var settlement_chartAccountvue_type_script_lang_js_ = (chartAccountvue_type_script_lang_js_["a" /* default */]); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(10);

// CONCATENATED MODULE: ./pages/admin/report/MA/settlement/chartAccount/index.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(1006)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  settlement_chartAccountvue_type_script_lang_js_,
  chartAccountvue_type_template_id_3a1547ae_scoped_true_render,
  staticRenderFns,
  false,
  injectStyles,
  "3a1547ae",
  "0d7956a7"
  
)

/* harmony default export */ var chartAccount = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 666:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(URLSearchParams) {/* harmony import */ var core_js_modules_esnext_set_add_all_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(339);
/* harmony import */ var core_js_modules_esnext_set_add_all_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_add_all_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_esnext_set_delete_all_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(340);
/* harmony import */ var core_js_modules_esnext_set_delete_all_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_delete_all_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_esnext_set_difference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(341);
/* harmony import */ var core_js_modules_esnext_set_difference_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_difference_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_esnext_set_every_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(342);
/* harmony import */ var core_js_modules_esnext_set_every_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_every_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_esnext_set_filter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(343);
/* harmony import */ var core_js_modules_esnext_set_filter_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_filter_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_esnext_set_find_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(344);
/* harmony import */ var core_js_modules_esnext_set_find_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_find_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_esnext_set_intersection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(345);
/* harmony import */ var core_js_modules_esnext_set_intersection_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_intersection_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_esnext_set_is_disjoint_from_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(346);
/* harmony import */ var core_js_modules_esnext_set_is_disjoint_from_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_is_disjoint_from_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_esnext_set_is_subset_of_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(347);
/* harmony import */ var core_js_modules_esnext_set_is_subset_of_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_is_subset_of_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_esnext_set_is_superset_of_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(348);
/* harmony import */ var core_js_modules_esnext_set_is_superset_of_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_is_superset_of_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_esnext_set_join_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(349);
/* harmony import */ var core_js_modules_esnext_set_join_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_join_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_esnext_set_map_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(350);
/* harmony import */ var core_js_modules_esnext_set_map_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_map_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_esnext_set_reduce_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(351);
/* harmony import */ var core_js_modules_esnext_set_reduce_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_reduce_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_esnext_set_some_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(352);
/* harmony import */ var core_js_modules_esnext_set_some_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_some_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_esnext_set_symmetric_difference_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(353);
/* harmony import */ var core_js_modules_esnext_set_symmetric_difference_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_symmetric_difference_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_esnext_set_union_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(354);
/* harmony import */ var core_js_modules_esnext_set_union_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_set_union_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(358);
/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(xlsx__WEBPACK_IMPORTED_MODULE_16__);

















/* harmony default export */ __webpack_exports__["a"] = ({
  name: 'ChartAccountSettlementReport',
  head() {
    return {
      title: 'Chart Account Settlement Reports'
    };
  },
  data() {
    return {
      // Options data
      chartAccounts: [],
      loading: false,
      exporting: false,
      loadingDetails: false,
      search: '',
      settlementDialog: false,
      chartAccountStats: [],
      selectedChartAccount: null,
      selectedSettlements: [],
      settlementSummary: {
        totalAmount: 0,
        settlementCount: 0,
        averageAmount: 0
      },
      methodDistribution: [],
      filters: {
        startDate: null,
        endDate: null,
        method: '',
        chartAccountId: null
      },
      settlementMethods: [{
        text: 'ທັງໝົດ (All Methods)',
        value: ''
      }, {
        text: 'ເງິນສົດ (Cash)',
        value: 'cash'
      }, {
        text: 'ໂອນເງິນຜ່ານທະນາຄານ (Bank Transfer)',
        value: 'bank_transfer'
      }, {
        text: 'ຫັກລົບ (Deduction)',
        value: 'deduction'
      }],
      currencyOptions: [{
        text: 'ທັງໝົດສະກຸນເງິນ (All Currencies)',
        value: null
      }, {
        text: 'ລາວກີບ (LAK)',
        value: 1
      }, {
        text: 'ໂດລາອາເມລິກັນ (USD)',
        value: 2
      }, {
        text: 'ບາດໄທ (THB)',
        value: 3
      }, {
        text: 'ຢວນຈີນ (CNY)',
        value: 4
      }, {
        text: 'ເອີໂຣ (EUR)',
        value: 5
      }],
      currencyBreakdown: [],
      currencyList: [],
      settlementHeaders: [{
        text: 'ວັນທີ',
        value: 'bookingDate',
        width: '120px'
      }, {
        text: 'ສະກຸນເງິນ',
        value: 'currency',
        width: '80px'
      }, {
        text: 'ຈຳນວນເງິນຕົ້ນ',
        value: 'amount',
        width: '130px'
      }, {
        text: 'ອັດຕາແລກປ່ຽນ',
        value: 'exchangeRate',
        width: '100px'
      }, {
        text: 'ເທົ່າກັບລາວກີບ',
        value: 'lakAmount',
        width: '130px'
      }, {
        text: 'ວິທີການ',
        value: 'method',
        width: '120px'
      }, {
        text: 'ຜູ້ດຳເນີນການ',
        value: 'proceeder',
        width: '150px'
      }, {
        text: 'ເງິນກ່ອນ',
        value: 'moneyAdvance',
        width: '120px'
      }, {
        text: 'ຈັດການ',
        value: 'actions',
        sortable: false,
        width: '100px'
      }]
    };
  },
  computed: {
    uniqueCurrencies() {
      const currencies = new Set();
      this.chartAccountStats.forEach(account => {
        Object.keys(account.amounts || {}).forEach(currency => {
          currencies.add(currency);
        });
      });
      return currencies.size;
    },
    totalLakAmount() {
      return this.chartAccountStats.reduce((sum, account) => sum + (account.totalLak || 0), 0);
    },
    filteredChartAccounts() {
      if (!this.search) return this.chartAccountStats;
      return this.chartAccountStats.filter(account => {
        var _account$chartAccount, _account$chartAccount2, _account$chartAccount3, _account$chartAccount4, _account$chartAccount5, _account$chartAccount6;
        return ((_account$chartAccount = account.chartAccount) === null || _account$chartAccount === void 0 ? void 0 : (_account$chartAccount2 = _account$chartAccount.name) === null || _account$chartAccount2 === void 0 ? void 0 : _account$chartAccount2.toLowerCase().includes(this.search.toLowerCase())) || ((_account$chartAccount3 = account.chartAccount) === null || _account$chartAccount3 === void 0 ? void 0 : (_account$chartAccount4 = _account$chartAccount3.code) === null || _account$chartAccount4 === void 0 ? void 0 : _account$chartAccount4.toLowerCase().includes(this.search.toLowerCase())) || ((_account$chartAccount5 = account.chartAccount) === null || _account$chartAccount5 === void 0 ? void 0 : (_account$chartAccount6 = _account$chartAccount5.type) === null || _account$chartAccount6 === void 0 ? void 0 : _account$chartAccount6.toLowerCase().includes(this.search.toLowerCase()));
      });
    },
    totalSettlementsCount() {
      return this.chartAccountStats.reduce((sum, account) => sum + parseInt(account.count || 0), 0);
    },
    totalAmount() {
      return this.chartAccountStats.reduce((sum, account) => sum + parseFloat(account.totalLak || 0), 0);
    },
    averageAmount() {
      return this.totalSettlementsCount > 0 ? this.totalAmount / this.totalSettlementsCount : 0;
    },
    maxAmount() {
      return Math.max(...this.chartAccountStats.map(account => parseFloat(account.totalLak || 0)), 0);
    }
  },
  mounted() {
    this.setDefaultDates();
    this.loadDashboardData();
    this.loadInitialData();
  },
  methods: {
    async loadInitialData() {
      try {
        const response = await this.$axios.get('/api/accountChart/find');
        this.chartAccounts = response.data.data || response.data;
      } catch (error) {
        console.error('Error loading chart accounts:', error);
        this.$toast.error('Error loading initial data');
      }
      try {
        const response = await this.$axios.get('/api/currency/find');
        const currencies = response.data.data || response.data;
        // Ensure currencyList has the right structure for the template
        this.currencyList = currencies.map(currency => ({
          code: currency.code,
          name: currency.name,
          id: currency.id
        }));
      } catch (error) {
        console.error('Error loading currencies:', error);
        this.$toast.error('Error loading initial data');
      }
    },
    // Group settlements by chart account
    groupSettlementsByChartAccount(settlements) {
      const grouped = {};
      settlements.forEach(settlement => {
        var _settlement$currency;
        const chartAccountId = settlement.chartAccountId || 'NO_CHART_ACCOUNT';
        if (!grouped[chartAccountId]) {
          grouped[chartAccountId] = {
            chartAccountId: chartAccountId,
            chartAccount: settlement.chartAccount || {
              code: 'N/A',
              name: 'Unknown Account',
              type: 'N/A',
              category: 'N/A'
            },
            count: 0,
            amounts: {},
            totalLak: 0
          };
        }
        const account = grouped[chartAccountId];
        account.count += 1;

        // Get currency code
        const currencyCode = ((_settlement$currency = settlement.currency) === null || _settlement$currency === void 0 ? void 0 : _settlement$currency.code) || 'LAK';

        // Initialize currency amount if not exists
        if (!account.amounts[currencyCode]) {
          account.amounts[currencyCode] = 0;
        }

        // Add amount to currency
        account.amounts[currencyCode] += parseFloat(settlement.amount || 0);

        // Calculate LAK equivalent
        const exchangeRate = settlement.exchangeRate || 1;
        const lakAmount = parseFloat(settlement.amount || 0) * exchangeRate;
        account.totalLak += lakAmount;
      });

      // Convert grouped object to array
      return Object.values(grouped);
    },
    async loadDashboardData() {
      this.loading = true;
      try {
        const params = new URLSearchParams();
        if (this.filters.startDate) params.append('fromDate', this.filters.startDate);
        if (this.filters.endDate) params.append('toDate', this.filters.endDate);
        if (this.filters.method) params.append('method', this.filters.method);
        if (this.filters.chartAccountId) params.append('chartAccountId', this.filters.chartAccountId);
        const response = await this.$axios.get(`/api/settlements?${params}`);
        if (response.data.success) {
          console.info(`DATA FROM API: ${JSON.stringify(response.data.data)}`);

          // Transform individual settlements into grouped chart account stats
          const settlements = response.data.data.settlements || [];
          this.chartAccountStats = this.groupSettlementsByChartAccount(settlements);

          // Calculate currency breakdown
          await this.calculateCurrencyBreakdown();
        }
      } catch (error) {
        console.error('Error loading dashboard data:', error);
        this.$toast.error('Failed to load chart account reports');
      } finally {
        this.loading = false;
      }
    },
    getCurrencyColor(currencyCode) {
      const colors = {
        LAK: '#01532B',
        USD: '#228B22',
        THB: '#32CD32',
        CNY: '#006400',
        EUR: '#9ACD32',
        JPY: '#00FA9A',
        GBP: '#66CDAA',
        KRW: '#20B2AA'
      };
      return colors[currencyCode] || '#01532B';
    },
    getAccountTypeColor(accountType) {
      const colors = {
        Asset: '#01532B',
        Liability: '#DC3545',
        Equity: '#6610F2',
        Revenue: '#198754',
        Expense: '#FD7E14',
        Income: '#20C997',
        Cost: '#E83E8C'
      };
      return colors[accountType] || '#01532B';
    },
    getCurrencyFlag(currencyCode) {
      const flags = {
        LAK: '🇱🇦',
        USD: '🇺🇸',
        THB: '🇹🇭',
        CNY: '🇨🇳',
        EUR: '🇪🇺',
        JPY: '🇯🇵',
        GBP: '🇬🇧',
        KRW: '🇰🇷'
      };
      return flags[currencyCode] || '🏳️';
    },
    calculateLakAmount(amount, exchangeRate) {
      if (!amount) return 0;
      const rate = exchangeRate || 1;
      return amount * rate;
    },
    formatCurrency(amount, currencyCode = 'USD') {
      if (!amount) return '0.00';
      const formatted = new Intl.NumberFormat('en-US', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      }).format(amount);

      // Add currency symbol or code
      if (currencyCode === 'LAK') {
        return formatted + ' ₭';
      } else if (currencyCode === 'USD') {
        return '$' + formatted;
      } else if (currencyCode === 'THB') {
        return formatted + ' ฿';
      } else if (currencyCode === 'CNY') {
        return '¥' + formatted;
      } else if (currencyCode === 'EUR') {
        return '€' + formatted;
      } else {
        return formatted + ' ' + currencyCode;
      }
    },
    setDefaultDates() {
      const now = new Date();
      const firstDay = new Date(now.getFullYear(), now.getMonth(), 1);
      this.filters.startDate = firstDay.toISOString().substr(0, 10);
      this.filters.endDate = now.toISOString().substr(0, 10);
    },
    async calculateCurrencyBreakdown() {
      try {
        const params = new URLSearchParams();
        if (this.filters.startDate) params.append('startDate', this.filters.startDate);
        if (this.filters.endDate) params.append('endDate', this.filters.endDate);
        if (this.filters.method) params.append('method', this.filters.method);
        if (this.filters.chartAccountId) params.append('chartAccountId', this.filters.chartAccountId);
        const response = await this.$axios.get(`/api/settlements/currency-breakdown?${params}`);
        if (response.data.success) {
          this.currencyBreakdown = response.data.data.currencies || [];
        }
      } catch (error) {
        console.error('Error calculating currency breakdown:', error);
        // Fallback: create empty breakdown if API fails
        this.currencyBreakdown = [];
      }
    },
    async selectChartAccount(chartAccountId) {
      this.loadingDetails = true;
      this.settlementDialog = true;
      try {
        const response = await this.$axios.get(`/api/settlements/by-chart-account/${chartAccountId}`);
        if (response.data.success) {
          this.selectedSettlements = response.data.data.settlements;
          this.settlementSummary = response.data.data.summary;

          // Find the selected chart account details
          const stat = this.chartAccountStats.find(s => s.chartAccountId == chartAccountId);
          this.selectedChartAccount = stat ? stat.chartAccount : null;

          // Calculate method distribution
          this.calculateMethodDistribution();
        }
      } catch (error) {
        console.error('Error loading chart account settlements:', error);
        this.$toast.error('Failed to load settlement details');
      } finally {
        this.loadingDetails = false;
      }
    },
    calculateMethodDistribution() {
      const methods = {};
      this.selectedSettlements.forEach(settlement => {
        if (!methods[settlement.method]) {
          methods[settlement.method] = {
            count: 0,
            total: 0
          };
        }
        methods[settlement.method].count++;
        methods[settlement.method].total += parseFloat(settlement.amount);
      });
      this.methodDistribution = Object.keys(methods).map(method => ({
        method,
        count: methods[method].count,
        total: methods[method].total
      }));
    },
    resetFilters() {
      this.filters = {
        startDate: null,
        endDate: null,
        method: '',
        chartAccountId: null
      };
      this.setDefaultDates();
      this.loadDashboardData();
    },
    closeDialog() {
      this.settlementDialog = false;
      this.selectedChartAccount = null;
      this.selectedSettlements = [];
      this.methodDistribution = [];
    },
    async exportToExcel() {
      this.exporting = true;
      try {
        // Import XLSX library (alternative dynamic import method)
        const XLSX = await Promise.resolve(/* import() */).then(__webpack_require__.t.bind(null, 358, 7));

        // Create workbook
        const workbook = XLSX.utils.book_new();

        // Prepare summary data
        const summaryData = [['Chart Account Settlement Report'], [`Report Period: ${this.filters.startDate || 'All'} to ${this.filters.endDate || 'All'}`], [`Generated on: ${new Date().toLocaleDateString()}`], [''],
        // Empty row
        ['Summary Statistics'], [`Total Chart Accounts: ${this.chartAccountStats.length}`], [`Total Settlements: ${this.totalSettlementsCount}`], [`Total Amount (LAK): ${this.formatCurrency(this.totalLakAmount, 'LAK')}`], [`Unique Currencies: ${this.uniqueCurrencies}`], [''],
        // Empty row
        ['Account Details'] // Header for main data
        ];

        // Create header row for account details
        const headerRow = ['#', 'Account Code', 'Account Name', 'Account Type', 'Category', 'Settlement Count'];

        // Add currency columns dynamically
        this.currencyList.forEach(currency => {
          headerRow.push(`${currency.code} Amount`);
        });
        headerRow.push('Total (LAK)');
        summaryData.push(headerRow);

        // Add chart account data
        this.filteredChartAccounts.forEach((account, index) => {
          var _account$chartAccount7, _account$chartAccount8, _account$chartAccount9, _account$chartAccount10;
          const row = [index + 1, ((_account$chartAccount7 = account.chartAccount) === null || _account$chartAccount7 === void 0 ? void 0 : _account$chartAccount7.accountNumber) || 'N/A', ((_account$chartAccount8 = account.chartAccount) === null || _account$chartAccount8 === void 0 ? void 0 : _account$chartAccount8.accountName) || 'Unknown Account', ((_account$chartAccount9 = account.chartAccount) === null || _account$chartAccount9 === void 0 ? void 0 : _account$chartAccount9.accountType) || 'N/A', ((_account$chartAccount10 = account.chartAccount) === null || _account$chartAccount10 === void 0 ? void 0 : _account$chartAccount10.category) || 'N/A', account.count];

          // Add currency amounts
          this.currencyList.forEach(currency => {
            var _account$amounts;
            row.push(((_account$amounts = account.amounts) === null || _account$amounts === void 0 ? void 0 : _account$amounts[currency.code]) || 0);
          });
          row.push(account.totalLak || 0);
          summaryData.push(row);
        });

        // Add totals row
        const totalsRow = ['', '', '', '', 'TOTAL', this.totalSettlementsCount];
        this.currencyList.forEach(currency => {
          totalsRow.push(this.getCurrencyTotal(currency.code));
        });
        totalsRow.push(this.totalLakAmount);
        summaryData.push(totalsRow);

        // Create summary worksheet
        const summaryWorksheet = XLSX.utils.aoa_to_sheet(summaryData);

        // Set column widths
        const colWidths = [{
          wch: 5
        },
        // #
        {
          wch: 15
        },
        // Account Code
        {
          wch: 25
        },
        // Account Name
        {
          wch: 15
        },
        // Account Type
        {
          wch: 20
        },
        // Category
        {
          wch: 15
        } // Count
        ];

        // Add currency column widths
        this.currencyList.forEach(() => {
          colWidths.push({
            wch: 15
          });
        });
        colWidths.push({
          wch: 18
        }); // Total LAK

        summaryWorksheet['!cols'] = colWidths;

        // Style the headers and important rows
        const range = XLSX.utils.decode_range(summaryWorksheet['!ref']);
        for (let R = range.s.r; R <= range.e.r; ++R) {
          for (let C = range.s.c; C <= range.e.c; ++C) {
            const cellAddress = XLSX.utils.encode_cell({
              r: R,
              c: C
            });
            if (!summaryWorksheet[cellAddress]) continue;

            // Style title row
            if (R === 0) {
              summaryWorksheet[cellAddress].s = {
                font: {
                  bold: true,
                  sz: 16
                },
                alignment: {
                  horizontal: 'center'
                }
              };
            }

            // Style header row (Account Details header)
            if (R === 11) {
              summaryWorksheet[cellAddress].s = {
                font: {
                  bold: true,
                  color: {
                    rgb: 'FFFFFF'
                  }
                },
                fill: {
                  fgColor: {
                    rgb: '01532B'
                  }
                },
                alignment: {
                  horizontal: 'center'
                }
              };
            }

            // Style totals row (last row)
            if (R === range.e.r) {
              summaryWorksheet[cellAddress].s = {
                font: {
                  bold: true
                },
                fill: {
                  fgColor: {
                    rgb: 'E9ECEF'
                  }
                }
              };
            }
          }
        }

        // Add summary sheet to workbook
        XLSX.utils.book_append_sheet(workbook, summaryWorksheet, 'Chart Account Summary');

        // Create account type breakdown sheet
        if (this.chartAccountStats.length > 0) {
          const typeBreakdown = {};
          this.chartAccountStats.forEach(account => {
            var _account$chartAccount11;
            const accountType = ((_account$chartAccount11 = account.chartAccount) === null || _account$chartAccount11 === void 0 ? void 0 : _account$chartAccount11.accountType) || 'Unknown';
            if (!typeBreakdown[accountType]) {
              typeBreakdown[accountType] = {
                count: 0,
                totalAmount: 0,
                settlements: 0
              };
            }
            typeBreakdown[accountType].count += 1;
            typeBreakdown[accountType].totalAmount += account.totalLak || 0;
            typeBreakdown[accountType].settlements += account.count || 0;
          });
          const typeData = [['Account Type Analysis'], [''], ['Account Type', 'Number of Accounts', 'Total Settlements', 'Total Amount (LAK)', 'Average per Account']];
          Object.keys(typeBreakdown).forEach(type => {
            const data = typeBreakdown[type];
            typeData.push([type, data.count, data.settlements, data.totalAmount, data.count > 0 ? data.totalAmount / data.count : 0]);
          });
          const typeWorksheet = XLSX.utils.aoa_to_sheet(typeData);
          typeWorksheet['!cols'] = [{
            wch: 15
          },
          // Account Type
          {
            wch: 18
          },
          // Number of Accounts
          {
            wch: 18
          },
          // Total Settlements
          {
            wch: 20
          },
          // Total Amount
          {
            wch: 18
          } // Average per Account
          ];

          XLSX.utils.book_append_sheet(workbook, typeWorksheet, 'Account Type Analysis');
        }

        // Create currency breakdown sheet if data exists
        if (this.currencyBreakdown.length > 0) {
          const currencyData = [['Currency Breakdown Report'], [''], ['Currency', 'Total Amount (Original)', 'LAK Equivalent', 'Settlement Count', 'Percentage']];
          this.currencyBreakdown.forEach(currency => {
            currencyData.push([currency.currencyCode || 'LAK', currency.totalAmount || 0, currency.lakEquivalent || 0, currency.count || 0, `${Math.round(currency.lakEquivalent / this.totalLakAmount * 100)}%`]);
          });
          const currencyWorksheet = XLSX.utils.aoa_to_sheet(currencyData);
          currencyWorksheet['!cols'] = [{
            wch: 12
          },
          // Currency
          {
            wch: 20
          },
          // Total Amount
          {
            wch: 18
          },
          // LAK Equivalent
          {
            wch: 15
          },
          // Count
          {
            wch: 12
          } // Percentage
          ];

          XLSX.utils.book_append_sheet(workbook, currencyWorksheet, 'Currency Breakdown');
        }

        // Generate filename
        const filename = `chart-account-settlement-report-${this.filters.startDate || 'all'}-${this.filters.endDate || 'all'}.xlsx`;

        // Generate Excel file and download
        XLSX.writeFile(workbook, filename);
        this.$toast.success('Chart Account Report exported successfully!');
      } catch (error) {
        console.error('Error exporting report:', error);
        this.$toast.error('Error exporting report: ' + error.message);
      } finally {
        this.exporting = false;
      }
    },
    printReport() {
      window.print();
    },
    viewSettlement(settlementId) {
      this.$router.push(`/settlements/${settlementId}`);
    },
    formatExchangeRate(rate) {
      if (!rate) return '1.0000';
      return new Intl.NumberFormat('en-US', {
        minimumFractionDigits: 4,
        maximumFractionDigits: 4
      }).format(rate);
    },
    formatDate(date) {
      if (!date) return '';
      return new Date(date).toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'short',
        day: 'numeric'
      });
    },
    formatMethod(method) {
      const methods = {
        cash: 'ເງິນສົດ (Cash)',
        bank_transfer: 'ໂອນເງິນ (Transfer)',
        deduction: 'ຫັກລົບ (Deduction)'
      };
      return methods[method] || method;
    },
    getCurrencyTotal(currencyCode) {
      return this.chartAccountStats.reduce((sum, account) => {
        var _account$amounts2;
        return sum + (((_account$amounts2 = account.amounts) === null || _account$amounts2 === void 0 ? void 0 : _account$amounts2[currencyCode]) || 0);
      }, 0);
    },
    getMethodColor(method) {
      const colors = {
        cash: '#01532B',
        bank_transfer: '#228B22',
        deduction: '#32CD32'
      };
      return colors[method] || '#01532B';
    }
  }
});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(336)["URLSearchParams"]))

/***/ }),

/***/ 773:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1007);
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(5).default
module.exports.__inject__ = function (context) {
  add("f21afd90", content, true, context)
};

/***/ })

};;
//# sourceMappingURL=index.js.map